if("undefined"==typeof jQuery)throw new Error("jquery-confirm requires jQuery");!function(t,e){"use strict";t.fn.confirm=function(e,i){return void 0===e&&(e={}),"string"==typeof e&&(e={content:e,title:i||!1}),t(this).each(function(){var i=t(this);i.attr("jc-attached")?console.warn("jConfirm has already been attached to this element ",i[0]):(i.on("click",function(o){o.preventDefault();var n=t.extend({},e);if(i.attr("data-title")&&(n.title=i.attr("data-title")),i.attr("data-content")&&(n.content=i.attr("data-content")),void 0===n.buttons&&(n.buttons={}),n.$target=i,i.attr("href")&&0==Object.keys(n.buttons).length){var s=t.extend(!0,{},jconfirm.pluginDefaults.defaultButtons,(jconfirm.defaults||{}).defaultButtons||{}),r=Object.keys(s)[0];n.buttons=s,n.buttons[r].action=function(){location.href=i.attr("href")}}n.closeIcon=!1;t.confirm(n)}),i.attr("jc-attached",!0))}),t(this)},t.confirm=function(e,i){if(void 0===e&&(e={}),"string"==typeof e&&(e={content:e,title:i||!1}),"object"!=typeof e.buttons&&(e.buttons={}),0==Object.keys(e.buttons).length){var o=t.extend(!0,{},jconfirm.pluginDefaults.defaultButtons,(jconfirm.defaults||{}).defaultButtons||{});e.buttons=o}return jconfirm(e)},t.alert=function(e,i){if(void 0===e&&(e={}),"string"==typeof e&&(e={content:e,title:i||!1}),"object"!=typeof e.buttons&&(e.buttons={}),0==Object.keys(e.buttons).length){var o=t.extend(!0,{},jconfirm.pluginDefaults.defaultButtons,(jconfirm.defaults||{}).defaultButtons||{}),n=Object.keys(o)[0];e.buttons[n]=o[n]}return jconfirm(e)},t.dialog=function(t,e){return void 0===t&&(t={}),"string"==typeof t&&(t={content:t,title:e||!1,closeIcon:function(){}}),t.buttons={},void 0===t.closeIcon&&(t.closeIcon=function(){}),t.confirmKeys=[13],jconfirm(t)},jconfirm=function(e){void 0===e&&(e={});var i=t.extend(!0,{},jconfirm.pluginDefaults);jconfirm.defaults&&(i=t.extend(!0,i,jconfirm.defaults)),i=t.extend(!0,{},i,e);var o=new Jconfirm(i);return jconfirm.instances.push(o),o},(Jconfirm=function(e){t.extend(this,e),this._init()}).prototype={_init:function(){var e=this;jconfirm.instances.length||(jconfirm.lastFocused=t("body").find(":focus")),this._id=Math.round(99999*Math.random()),this.contentParsed=t(document.createElement("div")),this.lazyOpen||setTimeout(function(){e.open()},0)},_buildHTML:function(){var e=this;this._parseAnimation(this.animation,"o"),this._parseAnimation(this.closeAnimation,"c"),this._parseBgDismissAnimation(this.backgroundDismissAnimation),this._parseColumnClass(this.columnClass),this._parseTheme(this.theme),this._parseType(this.type);var i=t(this.template);i.find(".jconfirm-box").addClass(this.animationParsed).addClass(this.backgroundDismissAnimationParsed).addClass(this.typeParsed),this.typeAnimated&&i.find(".jconfirm-box").addClass("jconfirm-type-animated"),this.useBootstrap?(i.find(".jc-bs3-row").addClass(this.bootstrapClasses.row),i.find(".jc-bs3-row").addClass("justify-content-md-center justify-content-sm-center justify-content-xs-center justify-content-lg-center"),i.find(".jconfirm-box-container").addClass(this.columnClassParsed),this.containerFluid?i.find(".jc-bs3-container").addClass(this.bootstrapClasses.containerFluid):i.find(".jc-bs3-container").addClass(this.bootstrapClasses.container)):i.find(".jconfirm-box").css("width",this.boxWidth),this.titleClass&&i.find(".jconfirm-title-c").addClass(this.titleClass),i.addClass(this.themeParsed);var o="jconfirm-box"+this._id;i.find(".jconfirm-box").attr("aria-labelledby",o).attr("tabindex",-1),i.find(".jconfirm-content").attr("id",o),null!==this.bgOpacity&&i.find(".jconfirm-bg").css("opacity",this.bgOpacity),this.rtl&&i.addClass("jconfirm-rtl"),this.$el=i.appendTo(this.container),this.$jconfirmBoxContainer=this.$el.find(".jconfirm-box-container"),this.$jconfirmBox=this.$body=this.$el.find(".jconfirm-box"),this.$jconfirmBg=this.$el.find(".jconfirm-bg"),this.$title=this.$el.find(".jconfirm-title"),this.$titleContainer=this.$el.find(".jconfirm-title-c"),this.$content=this.$el.find("div.jconfirm-content"),this.$contentPane=this.$el.find(".jconfirm-content-pane"),this.$icon=this.$el.find(".jconfirm-icon-c"),this.$closeIcon=this.$el.find(".jconfirm-closeIcon"),this.$holder=this.$el.find(".jconfirm-holder"),this.$btnc=this.$el.find(".jconfirm-buttons"),this.$scrollPane=this.$el.find(".jconfirm-scrollpane"),e.setStartingPoint(),this._contentReady=t.Deferred(),this._modalReady=t.Deferred(),this.$holder.css({"padding-top":this.offsetTop,"padding-bottom":this.offsetBottom}),this.setTitle(),this.setIcon(),this._setButtons(),this._parseContent(),this.initDraggable(),this.isAjax&&this.showLoading(!1),t.when(this._contentReady,this._modalReady).then(function(){e.isAjaxLoading?setTimeout(function(){e.isAjaxLoading=!1,e.setContent(),e.setTitle(),e.setIcon(),setTimeout(function(){e.hideLoading(!1),e._updateContentMaxHeight()},100),"function"==typeof e.onContentReady&&e.onContentReady()},50):(e._updateContentMaxHeight(),e.setTitle(),e.setIcon(),"function"==typeof e.onContentReady&&e.onContentReady()),e.autoClose&&e._startCountDown()}),this._watchContent(),"none"===this.animation&&(this.animationSpeed=1,this.animationBounce=1),this.$body.css(this._getCSS(this.animationSpeed,this.animationBounce)),this.$contentPane.css(this._getCSS(this.animationSpeed,1)),this.$jconfirmBg.css(this._getCSS(this.animationSpeed,1)),this.$jconfirmBoxContainer.css(this._getCSS(this.animationSpeed,1))},_typePrefix:"jconfirm-type-",typeParsed:"",_parseType:function(t){this.typeParsed=this._typePrefix+t},setType:function(t){var e=this.typeParsed;this._parseType(t),this.$jconfirmBox.removeClass(e).addClass(this.typeParsed)},themeParsed:"",_themePrefix:"jconfirm-",setTheme:function(t){var e=this.theme;this.theme=t||this.theme,this._parseTheme(this.theme),e&&this.$el.removeClass(e),this.$el.addClass(this.themeParsed),this.theme=t},_parseTheme:function(e){var i=this;e=e.split(","),t.each(e,function(o,n){-1===n.indexOf(i._themePrefix)&&(e[o]=i._themePrefix+t.trim(n))}),this.themeParsed=e.join(" ").toLowerCase()},backgroundDismissAnimationParsed:"",_bgDismissPrefix:"jconfirm-hilight-",_parseBgDismissAnimation:function(e){var i=e.split(","),o=this;t.each(i,function(e,n){-1===n.indexOf(o._bgDismissPrefix)&&(i[e]=o._bgDismissPrefix+t.trim(n))}),this.backgroundDismissAnimationParsed=i.join(" ").toLowerCase()},animationParsed:"",closeAnimationParsed:"",_animationPrefix:"jconfirm-animation-",setAnimation:function(t){this.animation=t||this.animation,this._parseAnimation(this.animation,"o")},_parseAnimation:function(e,i){i=i||"o";var o=e.split(","),n=this;t.each(o,function(e,i){-1===i.indexOf(n._animationPrefix)&&(o[e]=n._animationPrefix+t.trim(i))});var s=o.join(" ").toLowerCase();return"o"===i?this.animationParsed=s:this.closeAnimationParsed=s,s},setCloseAnimation:function(t){this.closeAnimation=t||this.closeAnimation,this._parseAnimation(this.closeAnimation,"c")},setAnimationSpeed:function(t){this.animationSpeed=t||this.animationSpeed},columnClassParsed:"",setColumnClass:function(t){this.useBootstrap?(this.columnClass=t||this.columnClass,this._parseColumnClass(this.columnClass),this.$jconfirmBoxContainer.addClass(this.columnClassParsed)):console.warn("cannot set columnClass, useBootstrap is set to false")},_updateContentMaxHeight:function(){var i=t(e).height()-(this.$jconfirmBox.outerHeight()-this.$contentPane.outerHeight())-(this.offsetTop+this.offsetBottom);this.$contentPane.css({"max-height":i+"px"})},setBoxWidth:function(t){this.useBootstrap?console.warn("cannot set boxWidth, useBootstrap is set to true"):(this.boxWidth=t,this.$jconfirmBox.css("width",t))},_parseColumnClass:function(t){var e;switch(t=t.toLowerCase()){case"xl":case"xlarge":e="col-md-12";break;case"l":case"large":e="col-md-8 col-md-offset-2";break;case"m":case"medium":e="col-md-6 col-md-offset-3";break;case"s":case"small":e="col-md-4 col-md-offset-4";break;case"xs":case"xsmall":e="col-md-2 col-md-offset-5";break;default:e=t}this.columnClassParsed=e},initDraggable:function(){var i=this,o=this.$titleContainer;this.resetDrag(),this.draggable&&(o.on("mousedown",function(t){o.addClass("jconfirm-hand"),i.mouseX=t.clientX,i.mouseY=t.clientY,i.isDrag=!0}),t(e).on("mousemove."+this._id,function(t){i.isDrag&&(i.movingX=t.clientX-i.mouseX+i.initialX,i.movingY=t.clientY-i.mouseY+i.initialY,i.setDrag())}),t(e).on("mouseup."+this._id,function(){o.removeClass("jconfirm-hand"),i.isDrag&&(i.isDrag=!1,i.initialX=i.movingX,i.initialY=i.movingY)}))},resetDrag:function(){this.isDrag=!1,this.initialX=0,this.initialY=0,this.movingX=0,this.movingY=0,this.mouseX=0,this.mouseY=0,this.$jconfirmBoxContainer.css("transform","translate(0px, 0px)")},setDrag:function(){if(this.draggable){this.alignMiddle=!1;var i=this.$jconfirmBox.outerWidth(),o=this.$jconfirmBox.outerHeight(),n=t(e).width(),s=t(e).height();if(this.movingX%1==0||this.movingY%1==0){if(this.dragWindowBorder){var r=n/2-i/2,a=s/2-o/2;a-=this.dragWindowGap,(r-=this.dragWindowGap)+this.movingX<0?this.movingX=-r:r-this.movingX<0&&(this.movingX=r),a+this.movingY<0?this.movingY=-a:a-this.movingY<0&&(this.movingY=a)}this.$jconfirmBoxContainer.css("transform","translate("+this.movingX+"px, "+this.movingY+"px)")}}},_scrollTop:function(){if("undefined"!=typeof pageYOffset)return pageYOffset;var t=document.body,e=document.documentElement;return(e=e.clientHeight?e:t).scrollTop},_watchContent:function(){var i=this;this._timer&&clearInterval(this._timer);var o=0;this._timer=setInterval(function(){if(i.smoothContent){var n=i.$content.outerHeight()||0;n!==o&&(i.$contentPane.css({height:n}).scrollTop(0),o=n);var s=t(e).height();i.offsetTop+i.offsetBottom+i.$jconfirmBox.height()-i.$contentPane.height()+i.$content.height()<s?i.$contentPane.addClass("no-scroll"):i.$contentPane.removeClass("no-scroll")}},this.watchInterval)},_overflowClass:"jconfirm-overflow",_hilightAnimating:!1,highlight:function(){this.hiLightModal()},hiLightModal:function(){var t=this;if(!this._hilightAnimating){t.$body.addClass("hilight");var e=parseFloat(t.$body.css("animation-duration"))||2;this._hilightAnimating=!0,setTimeout(function(){t._hilightAnimating=!1,t.$body.removeClass("hilight")},1e3*e)}},_bindEvents:function(){var i=this;this.boxClicked=!1,this.$scrollPane.click(function(t){if(!i.boxClicked){var e,o=!1,n=!1;if("string"==typeof(e="function"==typeof i.backgroundDismiss?i.backgroundDismiss():i.backgroundDismiss)&&void 0!==i.buttons[e]?(o=e,n=!1):n=void 0===e||1==!!e,o){var s=i.buttons[o].action.apply(i);n=void 0===s||!!s}n?i.close():i.hiLightModal()}i.boxClicked=!1}),this.$jconfirmBox.click(function(t){i.boxClicked=!0});var o=!1;t(e).on("jcKeyDown."+i._id,function(t){o||(o=!0)}),t(e).on("keyup."+i._id,function(t){o&&(i.reactOnKey(t),o=!1)}),t(e).on("resize."+this._id,function(){i._updateContentMaxHeight(),setTimeout(function(){i.resetDrag()},100)})},_cubic_bezier:"0.36, 0.55, 0.19",_getCSS:function(t,e){return{"-webkit-transition-duration":t/1e3+"s","transition-duration":t/1e3+"s","-webkit-transition-timing-function":"cubic-bezier("+this._cubic_bezier+", "+e+")","transition-timing-function":"cubic-bezier("+this._cubic_bezier+", "+e+")"}},_setButtons:function(){var e=this,i=0;if("object"!=typeof this.buttons&&(this.buttons={}),t.each(this.buttons,function(o,n){i+=1,"function"==typeof n&&(e.buttons[o]=n={action:n}),e.buttons[o].text=n.text||o,e.buttons[o].btnClass=n.btnClass||"btn-default",e.buttons[o].action=n.action||function(){},e.buttons[o].keys=n.keys||[],e.buttons[o].isHidden=n.isHidden||!1,e.buttons[o].isDisabled=n.isDisabled||!1,t.each(e.buttons[o].keys,function(t,i){e.buttons[o].keys[t]=i.toLowerCase()});var s=t('<button type="button" class="btn"></button>').html(e.buttons[o].text).addClass(e.buttons[o].btnClass).prop("disabled",e.buttons[o].isDisabled).css("display",e.buttons[o].isHidden?"none":"").click(function(t){t.preventDefault();var i=e.buttons[o].action.apply(e,[e.buttons[o]]);e.onAction.apply(e,[o,e.buttons[o]]),e._stopCountDown(),(void 0===i||i)&&e.close()});e.buttons[o].el=s,e.buttons[o].setText=function(t){s.html(t)},e.buttons[o].addClass=function(t){s.addClass(t)},e.buttons[o].removeClass=function(t){s.removeClass(t)},e.buttons[o].disable=function(){e.buttons[o].isDisabled=!0,s.prop("disabled",!0)},e.buttons[o].enable=function(){e.buttons[o].isDisabled=!1,s.prop("disabled",!1)},e.buttons[o].show=function(){e.buttons[o].isHidden=!1,s.css("display","")},e.buttons[o].hide=function(){e.buttons[o].isHidden=!0,s.css("display","none")},e["$_"+o]=e["$$"+o]=s,e.$btnc.append(s)}),0===i&&this.$btnc.hide(),null===this.closeIcon&&0===i&&(this.closeIcon=!0),this.closeIcon){if(this.closeIconClass){var o='<i class="'+this.closeIconClass+'"></i>';this.$closeIcon.html(o)}this.$closeIcon.click(function(t){t.preventDefault();var i,o=!1,n=!1;if("string"==typeof(i="function"==typeof e.closeIcon?e.closeIcon():e.closeIcon)&&void 0!==e.buttons[i]?(o=i,n=!1):n=void 0===i||1==!!i,o){var s=e.buttons[o].action.apply(e);n=void 0===s||!!s}n&&e.close()}),this.$closeIcon.show()}else this.$closeIcon.hide()},setTitle:function(t,e){if(e=e||!1,void 0!==t)if("string"==typeof t)this.title=t;else if("function"==typeof t){"function"==typeof t.promise&&console.error("Promise was returned from title function, this is not supported.");var i=t();this.title="string"==typeof i&&i}else this.title=!1;this.isAjaxLoading&&!e||(this.$title.html(this.title||""),this.updateTitleContainer())},setIcon:function(t,e){if(e=e||!1,void 0!==t)if("string"==typeof t)this.icon=t;else if("function"==typeof t){var i=t();this.icon="string"==typeof i&&i}else this.icon=!1;this.isAjaxLoading&&!e||(this.$icon.html(this.icon?'<i class="'+this.icon+'"></i>':""),this.updateTitleContainer())},updateTitleContainer:function(){this.title||this.icon?this.$titleContainer.show():this.$titleContainer.hide()},setContentPrepend:function(t,e){t&&this.contentParsed.prepend(t)},setContentAppend:function(t){t&&this.contentParsed.append(t)},setContent:function(t,e){e=!!e;var i=this;t&&this.contentParsed.html("").append(t),this.isAjaxLoading&&!e||(this.$content.html(""),this.$content.append(this.contentParsed),setTimeout(function(){i.$body.find("input[autofocus]:visible:first").focus()},100))},loadingSpinner:!1,showLoading:function(t){this.loadingSpinner=!0,this.$jconfirmBox.addClass("loading"),t&&this.$btnc.find("button").prop("disabled",!0)},hideLoading:function(t){this.loadingSpinner=!1,this.$jconfirmBox.removeClass("loading"),t&&this.$btnc.find("button").prop("disabled",!1)},ajaxResponse:!1,contentParsed:"",isAjax:!1,isAjaxLoading:!1,_parseContent:function(){var e=this,i="&nbsp;";if("function"==typeof this.content){var o=this.content.apply(this);"string"==typeof o?this.content=o:"object"==typeof o&&"function"==typeof o.always?(this.isAjax=!0,this.isAjaxLoading=!0,o.always(function(t,i,o){e.ajaxResponse={data:t,status:i,xhr:o},e._contentReady.resolve(t,i,o),"function"==typeof e.contentLoaded&&e.contentLoaded(t,i,o)}),this.content=i):this.content=i}if("string"==typeof this.content&&"url:"===this.content.substr(0,4).toLowerCase()){this.isAjax=!0,this.isAjaxLoading=!0;var n=this.content.substring(4,this.content.length);t.get(n).done(function(t){e.contentParsed.html(t)}).always(function(t,i,o){e.ajaxResponse={data:t,status:i,xhr:o},e._contentReady.resolve(t,i,o),"function"==typeof e.contentLoaded&&e.contentLoaded(t,i,o)})}this.content||(this.content=i),this.isAjax||(this.contentParsed.html(this.content),this.setContent(),e._contentReady.resolve())},_stopCountDown:function(){clearInterval(this.autoCloseInterval),this.$cd&&this.$cd.remove()},_startCountDown:function(){var e=this,i=this.autoClose.split("|");if(2!==i.length)return console.error("Invalid option for autoClose. example 'close|10000'"),!1;var o=i[0],n=parseInt(i[1]);if(void 0===this.buttons[o])return console.error("Invalid button key '"+o+"' for autoClose"),!1;var s=Math.ceil(n/1e3);this.$cd=t('<span class="countdown"> ('+s+")</span>").appendTo(this["$_"+o]),this.autoCloseInterval=setInterval(function(){e.$cd.html(" ("+(s-=1)+") "),s<=0&&(e["$$"+o].trigger("click"),e._stopCountDown())},1e3)},_getKey:function(t){switch(t){case 192:return"tilde";case 13:return"enter";case 16:return"shift";case 9:return"tab";case 20:return"capslock";case 17:return"ctrl";case 91:return"win";case 18:return"alt";case 27:return"esc";case 32:return"space"}var e=String.fromCharCode(t);return!!/^[A-z0-9]+$/.test(e)&&e.toLowerCase()},reactOnKey:function(e){var i=this,o=t(".jconfirm");if(o.eq(o.length-1)[0]!==this.$el[0])return!1;var n=e.which;if(this.$content.find(":input").is(":focus")&&/13|32/.test(n))return!1;var s=this._getKey(n);if("esc"===s&&this.escapeKey)if(!0===this.escapeKey)this.$scrollPane.trigger("click");else if("string"==typeof this.escapeKey||"function"==typeof this.escapeKey){var r;(r="function"==typeof this.escapeKey?this.escapeKey():this.escapeKey)&&(void 0===this.buttons[r]?console.warn("Invalid escapeKey, no buttons found with key "+r):this["$_"+r].trigger("click"))}t.each(this.buttons,function(t,e){-1!=e.keys.indexOf(s)&&i["$_"+t].trigger("click")})},setDialogCenter:function(){console.info("setDialogCenter is deprecated, dialogs are centered with CSS3 tables")},_unwatchContent:function(){clearInterval(this._timer)},close:function(){var i=this;return"function"==typeof this.onClose&&this.onClose(),this._unwatchContent(),t(e).unbind("resize."+this._id),t(e).unbind("keyup."+this._id),t(e).unbind("jcKeyDown."+this._id),this.draggable&&(t(e).unbind("mousemove."+this._id),t(e).unbind("mouseup."+this._id),this.$titleContainer.unbind("mousedown")),i.$el.removeClass(i.loadedClass),t("body").removeClass("jconfirm-no-scroll-"+i._id),i.$jconfirmBoxContainer.removeClass("jconfirm-no-transition"),setTimeout(function(){i.$body.addClass(i.closeAnimationParsed),i.$jconfirmBg.addClass("jconfirm-bg-h");var o="none"===i.closeAnimation?1:i.animationSpeed;setTimeout(function(){i.$el.remove();jconfirm.instances;for(var o=jconfirm.instances.length-1;o>=0;o--)jconfirm.instances[o]._id===i._id&&jconfirm.instances.splice(o,1);if(!jconfirm.instances.length&&i.scrollToPreviousElement&&jconfirm.lastFocused&&jconfirm.lastFocused.length&&t.contains(document,jconfirm.lastFocused[0])){var n=jconfirm.lastFocused;if(i.scrollToPreviousElementAnimate){var s=t(e).scrollTop(),r=jconfirm.lastFocused.offset().top,a=t(e).height();if(r>s&&r<s+a)n.focus();else{var h=r-Math.round(a/3);t("html, body").animate({scrollTop:h},i.animationSpeed,"swing",function(){n.focus()})}}else n.focus();jconfirm.lastFocused=!1}"function"==typeof i.onDestroy&&i.onDestroy()},.4*o)},50),!0},open:function(){return!this.isOpen()&&(this._buildHTML(),this._bindEvents(),this._open(),!0)},setStartingPoint:function(){var i=!1;if(!0!==this.animateFromElement&&this.animateFromElement)i=this.animateFromElement,jconfirm.lastClicked=!1;else{if(!jconfirm.lastClicked||!0!==this.animateFromElement)return!1;i=jconfirm.lastClicked,jconfirm.lastClicked=!1}if(!i)return!1;var o=i.offset(),n=i.outerHeight()/2,s=i.outerWidth()/2;n-=this.$jconfirmBox.outerHeight()/2,s-=this.$jconfirmBox.outerWidth()/2;var r=o.top+n;r-=this._scrollTop();var a=o.left+s,h=t(e).height()/2,l=t(e).width()/2;if(r-=h-this.$jconfirmBox.outerHeight()/2,a-=l-this.$jconfirmBox.outerWidth()/2,Math.abs(r)>h||Math.abs(a)>l)return!1;this.$jconfirmBoxContainer.css("transform","translate("+a+"px, "+r+"px)")},_open:function(){var t=this;"function"==typeof t.onOpenBefore&&t.onOpenBefore(),this.$body.removeClass(this.animationParsed),this.$jconfirmBg.removeClass("jconfirm-bg-h"),this.$body.focus(),t.$jconfirmBoxContainer.css("transform","translate(0px, 0px)"),setTimeout(function(){t.$body.css(t._getCSS(t.animationSpeed,1)),t.$body.css({"transition-property":t.$body.css("transition-property")+", margin"}),t.$jconfirmBoxContainer.addClass("jconfirm-no-transition"),t._modalReady.resolve(),"function"==typeof t.onOpen&&t.onOpen(),t.$el.addClass(t.loadedClass)},this.animationSpeed)},loadedClass:"jconfirm-open",isClosed:function(){return!this.$el||""===this.$el.css("display")},isOpen:function(){return!this.isClosed()},toggle:function(){this.isOpen()?this.close():this.open()}},jconfirm.instances=[],jconfirm.lastFocused=!1,jconfirm.pluginDefaults={template:'<div class="jconfirm"><div class="jconfirm-bg jconfirm-bg-h"></div><div class="jconfirm-scrollpane"><div class="jconfirm-row"><div class="jconfirm-cell"><div class="jconfirm-holder"><div class="jc-bs3-container"><div class="jc-bs3-row"><div class="jconfirm-box-container jconfirm-animated"><div class="jconfirm-box" role="dialog" aria-labelledby="labelled" tabindex="-1"><div class="jconfirm-closeIcon">&times;</div><div class="jconfirm-title-c"><span class="jconfirm-icon-c"></span><span class="jconfirm-title"></span></div><div class="jconfirm-content-pane"><div class="jconfirm-content"></div></div><div class="jconfirm-buttons"></div><div class="jconfirm-clear"></div></div></div></div></div></div></div></div></div></div>',title:"Hello",titleClass:"",type:"default",typeAnimated:!0,draggable:!0,dragWindowGap:15,dragWindowBorder:!0,animateFromElement:!0,alignMiddle:!0,smoothContent:!0,content:"Are you sure to continue?",buttons:{},defaultButtons:{ok:{action:function(){}},close:{action:function(){}}},contentLoaded:function(){},icon:"",lazyOpen:!1,bgOpacity:null,theme:"light",animation:"scale",closeAnimation:"scale",animationSpeed:400,animationBounce:1,escapeKey:!0,rtl:!1,container:"body",containerFluid:!1,backgroundDismiss:!1,backgroundDismissAnimation:"shake",autoClose:!1,closeIcon:null,closeIconClass:!1,watchInterval:100,columnClass:"col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1",boxWidth:"50%",scrollToPreviousElement:!0,scrollToPreviousElementAnimate:!0,useBootstrap:!0,offsetTop:40,offsetBottom:40,bootstrapClasses:{container:"container",containerFluid:"container-fluid",row:"row"},onContentReady:function(){},onOpenBefore:function(){},onOpen:function(){},onClose:function(){},onDestroy:function(){},onAction:function(){}};var i=!1;t(e).on("keydown",function(o){if(!i){var n=!1;t(o.target).closest(".jconfirm-box").length&&(n=!0),n&&t(e).trigger("jcKeyDown"),i=!0}}),t(e).on("keyup",function(){i=!1}),jconfirm.lastClicked=!1,t(document).on("mousedown","button, a",function(){jconfirm.lastClicked=t(this)})}(jQuery,window),function(t){var e,i,o=t(window),n={},s=[],r=[],a=null,h=[],l=null,p=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),d={_init:function(e){var i=t(e),o=i.data("popupoptions");r[e.id]=!1,s[e.id]=0,i.data("popup-initialized")||(i.attr("data-popup-initialized","true"),d._initonce(e)),o.autoopen&&setTimeout(function(){d.show(e,0)},0)},_initonce:function(i){var o,n,s,r,h=t(i),u=t("body"),c=h.data("popupoptions");(a=parseInt(u.css("margin-right"),10),l=void 0!==document.body.style.webkitTransition||void 0!==document.body.style.MozTransition||void 0!==document.body.style.msTransition||void 0!==document.body.style.OTransition||void 0!==document.body.style.transition,"tooltip"==c.type&&(c.background=!1,c.scrolllock=!1),c.backgroundactive&&(c.background=!1,c.blur=!1,c.scrolllock=!1),c.scrolllock)&&(void 0===e&&(r=(s=t('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body")).children(),e=r.innerWidth()-r.height(99).innerWidth(),s.remove()));if(h.attr("id")||h.attr("id","j-popup-"+parseInt(1e8*Math.random(),10)),h.addClass("popup_content"),c.background&&!t("#"+i.id+"_background").length){u.append('<div id="'+i.id+'_background" class="popup_background"></div>');var f=t("#"+i.id+"_background");f.css({opacity:0,visibility:"hidden",backgroundColor:c.color,position:"fixed",top:0,right:0,bottom:0,left:0}),c.setzindex&&!c.autozindex&&f.css("z-index","100000"),c.transition&&f.css("transition",c.transition)}u.append(i),h.wrap('<div id="'+i.id+'_wrapper" class="popup_wrapper" />'),(o=t("#"+i.id+"_wrapper")).css({opacity:0,visibility:"hidden",position:"absolute"}),p&&o.css("cursor","pointer"),"overlay"==c.type&&o.css("overflow","auto"),h.css({opacity:0,visibility:"hidden",display:"inline-block"}),c.setzindex&&!c.autozindex&&o.css("z-index","100001"),c.outline||h.css("outline","none"),c.transition&&(h.css("transition",c.transition),o.css("transition",c.transition)),h.attr("aria-hidden",!0),"overlay"==c.type&&(h.css({textAlign:"left",position:"relative",verticalAlign:"middle"}),n={position:"fixed",width:"100%",height:"100%",top:0,left:0,textAlign:"center"},c.backgroundactive&&(n.position="absolute",n.height="0",n.overflow="visible"),o.css(n),o.append('<div class="popup_align" />'),t(".popup_align").css({display:"inline-block",verticalAlign:"middle",height:"100%"})),h.attr("role","dialog");var g=c.openelement?c.openelement:"."+i.id+"_open";t(g).each(function(e,i){t(i).attr("data-popup-ordinal",e),i.id||t(i).attr("id","open_"+parseInt(1e8*Math.random(),10))}),h.attr("aria-labelledby")||h.attr("aria-label")||h.attr("aria-labelledby",t(g).attr("id")),"hover"==c.action?(c.keepfocus=!1,t(g).on("mouseenter",function(e){d.show(i,t(this).data("popup-ordinal"))}),t(g).on("mouseleave",function(t){d.hide(i)})):t(document).on("click",g,function(e){e.preventDefault();var o=t(this).data("popup-ordinal");setTimeout(function(){d.show(i,o)},0)}),c.closebutton&&d.addclosebutton(i),c.detach?h.hide().detach():o.hide()},show:function(n,p){var c=t(n);if(!c.data("popup-visible")){c.data("popup-initialized")||d._init(n),c.attr("data-popup-initialized","true");var f=t("body"),g=c.data("popupoptions"),m=t("#"+n.id+"_wrapper"),v=t("#"+n.id+"_background");if(u(n,p,g.beforeopen),r[n.id]=p,setTimeout(function(){h.push(n.id)},0),g.autozindex){for(var y=document.getElementsByTagName("*"),b=y.length,_=0,w=0;w<b;w++){var C=t(y[w]).css("z-index");"auto"!==C&&_<(C=parseInt(C,10))&&(_=C)}s[n.id]=_,g.background&&s[n.id]>0&&t("#"+n.id+"_background").css({zIndex:s[n.id]+1}),s[n.id]>0&&m.css({zIndex:s[n.id]+2})}g.detach?(m.prepend(n),c.show()):m.show(),i=setTimeout(function(){m.css({visibility:"visible",opacity:1}),t("html").addClass("popup_visible").addClass("popup_visible_"+n.id),m.addClass("popup_wrapper_visible")},20),g.scrolllock&&(f.css("overflow","hidden"),f.height()>o.height()&&f.css("margin-right",a+e)),g.backgroundactive&&c.css({top:(o.height()-(c.get(0).offsetHeight+parseInt(c.css("margin-top"),10)+parseInt(c.css("margin-bottom"),10)))/2+"px"}),c.css({visibility:"visible",opacity:1}),g.background&&(v.css({visibility:"visible",opacity:g.opacity}),setTimeout(function(){v.css({opacity:g.opacity})},0)),c.data("popup-visible",!0),d.reposition(n,p),c.data("focusedelementbeforepopup",document.activeElement),g.keepfocus&&(c.attr("tabindex",-1),setTimeout(function(){"closebutton"===g.focuselement?t("#"+n.id+" ."+n.id+"_close:first").focus():g.focuselement?t(g.focuselement).focus():c.focus()},g.focusdelay)),t(g.pagecontainer).attr("aria-hidden",!0),c.attr("aria-hidden",!1),u(n,p,g.onopen),l?m.one("transitionend",function(){u(n,p,g.opentransitionend)}):u(n,p,g.opentransitionend),"tooltip"==g.type&&t(window).on("resize."+n.id,function(){d.reposition(n,p)})}},hide:function(e,o){var n=t.inArray(e.id,h);if(-1!==n){i&&clearTimeout(i);var s=t("body"),p=t(e),d=p.data("popupoptions"),c=t("#"+e.id+"_wrapper"),f=t("#"+e.id+"_background");p.data("popup-visible",!1),1===h.length?t("html").removeClass("popup_visible").removeClass("popup_visible_"+e.id):t("html").hasClass("popup_visible_"+e.id)&&t("html").removeClass("popup_visible_"+e.id),h.splice(n,1),c.hasClass("popup_wrapper_visible")&&c.removeClass("popup_wrapper_visible"),d.keepfocus&&!o&&setTimeout(function(){t(p.data("focusedelementbeforepopup")).is(":visible")&&p.data("focusedelementbeforepopup").focus()},0),c.css({visibility:"hidden",opacity:0}),p.css({visibility:"hidden",opacity:0}),d.background&&f.css({visibility:"hidden",opacity:0}),t(d.pagecontainer).attr("aria-hidden",!1),p.attr("aria-hidden",!0),u(e,r[e.id],d.onclose),l&&"0s"!==p.css("transition-duration")?p.one("transitionend",function(t){p.data("popup-visible")||(d.detach?p.hide().detach():c.hide()),d.scrolllock&&setTimeout(function(){s.css({overflow:"visible","margin-right":a})},10),u(e,r[e.id],d.closetransitionend)}):(d.detach?p.hide().detach():c.hide(),d.scrolllock&&setTimeout(function(){s.css({overflow:"visible","margin-right":a})},10),u(e,r[e.id],d.closetransitionend)),"tooltip"==d.type&&t(window).off("resize."+e.id)}},toggle:function(e,i){t(e).data("popup-visible")?d.hide(e):setTimeout(function(){d.show(e,i)},0)},reposition:function(e,i){var n=t(e),s=n.data("popupoptions"),r=t("#"+e.id+"_wrapper");t("#"+e.id+"_background");if(i=i||0,"tooltip"==s.type){var a;r.css({position:"absolute"});var h=(a=s.tooltipanchor?t(s.tooltipanchor):s.openelement?t(s.openelement).filter('[data-popup-ordinal="'+i+'"]'):t("."+e.id+'_open[data-popup-ordinal="'+i+'"]')).offset();"right"==s.horizontal?r.css("left",h.left+a.outerWidth()+s.offsetleft):"leftedge"==s.horizontal?r.css("left",h.left+a.outerWidth()-a.outerWidth()+s.offsetleft):"left"==s.horizontal?r.css("right",o.width()-h.left-s.offsetleft):"rightedge"==s.horizontal?r.css("right",o.width()-h.left-a.outerWidth()-s.offsetleft):r.css("left",h.left+a.outerWidth()/2-n.outerWidth()/2-parseFloat(n.css("marginLeft"))+s.offsetleft),"bottom"==s.vertical?r.css("top",h.top+a.outerHeight()+s.offsettop):"bottomedge"==s.vertical?r.css("top",h.top+a.outerHeight()-n.outerHeight()+s.offsettop):"top"==s.vertical?r.css("bottom",o.height()-h.top-s.offsettop):"topedge"==s.vertical?r.css("bottom",o.height()-h.top-n.outerHeight()-s.offsettop):r.css("top",h.top+a.outerHeight()/2-n.outerHeight()/2-parseFloat(n.css("marginTop"))+s.offsettop)}else"overlay"==s.type&&(s.horizontal?r.css("text-align",s.horizontal):r.css("text-align","center"),s.vertical?n.css("vertical-align",s.vertical):n.css("vertical-align","middle"))},addclosebutton:function(e){var i;i=t(e).data("popupoptions").closebuttonmarkup?t(n.closebuttonmarkup).addClass(e.id+"_close"):'<button class="popup_close '+e.id+'_close" title="Close" aria-label="Close"><span aria-hidden="true">×</span></button>',t(e).data("popup-initialized")&&t(e).append(i)}},u=function(e,i,o){var n,s,r=t(e).data("popupoptions");void 0!==r&&(n=r.openelement?r.openelement:"."+e.id+"_open",s=t(n+'[data-popup-ordinal="'+i+'"]'),"function"==typeof o&&o.call(t(e),e,s))};t(document).on("keydown",function(e){if(h.length){var i=h[h.length-1],o=document.getElementById(i);t(o).data("popupoptions").escape&&27==e.keyCode&&d.hide(o)}}),t(document).on("click",function(e){if(h.length){var i=h[h.length-1],o=document.getElementById(i),n=t(o).data("popupoptions").closeelement?t(o).data("popupoptions").closeelement:"."+o.id+"_close";t(e.target).closest(n).length&&(e.preventDefault(),d.hide(o)),t(o).data("popupoptions")&&t(o).data("popupoptions").blur&&!t(e.target).closest("#"+i).length&&2!==e.which&&t(e.target).is(":visible")&&(t(o).data("popupoptions").background?(d.hide(o),e.preventDefault()):d.hide(o,!0))}}),t(document).on("keydown",function(e){if(h.length&&9==e.which){var i=h[h.length-1],o=document.getElementById(i),n=t(o).find("*").filter("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible"),s=t(":focus"),r=n.length,a=n.index(s);0===r?(t(o).focus(),e.preventDefault()):e.shiftKey?0===a&&(n.get(r-1).focus(),e.preventDefault()):a==r-1&&(n.get(0).focus(),e.preventDefault())}}),t.fn.popup=function(e){return this.each(function(){var i=t(this);if("object"==typeof e){var o=t.extend({},t.fn.popup.defaults,i.data("popupoptions"),e);i.data("popupoptions",o),n=i.data("popupoptions"),d._init(this)}else"string"==typeof e?(i.data("popupoptions")||(i.data("popupoptions",t.fn.popup.defaults),n=i.data("popupoptions")),d[e].call(this,this)):(i.data("popupoptions")||(i.data("popupoptions",t.fn.popup.defaults),n=i.data("popupoptions")),d._init(this))})},t.fn.popup.defaults={type:"overlay",autoopen:!1,background:!0,backgroundactive:!1,color:"black",opacity:"0.5",horizontal:"center",vertical:"middle",offsettop:0,offsetleft:0,escape:!0,blur:!0,setzindex:!0,autozindex:!1,scrolllock:!1,closebutton:!1,closebuttonmarkup:null,keepfocus:!0,focuselement:null,focusdelay:50,outline:!1,pagecontainer:null,detach:!1,openelement:null,closeelement:null,transition:null,tooltipanchor:null,beforeopen:null,onclose:null,onopen:null,opentransitionend:null,closetransitionend:null}}(jQuery),function(t,e){t.fn.extend({_aria:function(t,e){return this.attr("aria-"+t,e)},_removeAria:function(t){return this.removeAttr("aria-"+t)},_enableAria:function(t){return null==t||t?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(t){return null==t||t?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(t){return null==t||t?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function(t){return t?this.attr("id",t):this.attr("id")}}),String.prototype.format||(String.prototype.format=function(){for(var e=1===arguments.length&&t.isArray(arguments[0])?arguments[0]:arguments,i=this,o=0;o<e.length;o++){var n=new RegExp("\\{"+o+"\\}","gm");i=i.replace(n,e[o])}return i});var i=0,o="jQu3ry_5teps_St@te_",n="-t-",s="-p-",r="-h-",a="Index out of range.",h="One or more corresponding step {0} are missing.";function l(i,n,s){var r=i.children(n.headerTag),a=i.children(n.bodyTag);r.length>a.length?D(h,"contents"):r.length<a.length&&D(h,"titles");var l=n.startIndex;if(s.stepCount=r.length,n.saveState&&t.cookie){var p=t.cookie(o+y(i)),d=parseInt(p,0);!isNaN(d)&&d<s.stepCount&&(l=d)}s.currentIndex=l,r.each(function(o){var n=t(this),s=a.eq(o),r=s.data("mode"),h=null==r?J.html:b(J,/^\s*$/.test(r)||isNaN(r)?r:parseInt(r,0)),l=h===J.html||s.data("url")===e?"":s.data("url"),p=h!==J.html&&"1"===s.data("loaded"),d=t.extend({},Q,{title:n.html(),content:h===J.html?s.html():"",contentUrl:l,contentMode:h,contentLoaded:p});!function(t,e){m(t).push(e)}(i,d)})}function p(t,e){var i=t.find(".steps li").eq(e.currentIndex);t.triggerHandler("finishing",[e.currentIndex])?(i.addClass("done").removeClass("error"),t.triggerHandler("finished",[e.currentIndex])):i.addClass("error")}function d(t){var e=t.data("eventNamespace");return null==e&&(e="."+y(t),t.data("eventNamespace",e)),e}function u(t,e){var i=y(t);return t.find("#"+i+n+e)}function c(t,e){var i=y(t);return t.find("#"+i+s+e)}function f(t){return t.data("options")}function g(t){return t.data("state")}function m(t){return t.data("steps")}function v(t,e){var i=m(t);return(e<0||e>=i.length)&&D(a),i[e]}function y(t){var e=t.data("uid");return null==e&&(null==(e=t._id())&&(e="steps-uid-".concat(i),t._id(e)),i++,t.data("uid",e)),e}function b(t,i){if(W("enumType",t),W("keyOrValue",i),"string"==typeof i){var o=t[i];return o===e&&D("The enum key '{0}' does not exist.",i),o}if("number"==typeof i){for(var n in t)if(t[n]===i)return i;D("Invalid enum value '{0}'.",i)}else D("Invalid key or value type.")}function _(t,e,i){return E(t,e,i,function(t,e){return t.currentIndex+e}(i,1))}function w(t,e,i){return E(t,e,i,function(t,e){return t.currentIndex-e}(i,1))}function C(e,i,o,n){if((n<0||n>=o.stepCount)&&D(a),!(i.forceMoveForward&&n<o.currentIndex)){var s=o.currentIndex;return e.triggerHandler("stepChanging",[o.currentIndex,n])?(o.currentIndex=n,H(e,i,o),j(e,i,o,s),P(e,i,o),S(e,i,o),function(e,i,o,n,s,r){var a=e.find(".content > .body"),h=b(F,i.transitionEffect),l=i.transitionEffectSpeed,p=a.eq(n),d=a.eq(s);switch(h){case F.fade:case F.slide:var u=h===F.fade?"fadeOut":"slideUp",c=h===F.fade?"fadeIn":"slideDown";o.transitionElement=p,d[u](l,function(){var e=t(this)._showAria(!1).parent().parent(),i=g(e);i.transitionElement&&(i.transitionElement[c](l,function(){t(this)._showAria()}).promise().done(r),i.transitionElement=null)});break;case F.slideLeft:var f=d.outerWidth(!0),m=n>s?-f:f,v=n>s?f:-f;t.when(d.animate({left:m},l,function(){t(this)._showAria(!1)}),p.css("left",v+"px")._showAria().animate({left:0},l)).done(r);break;default:t.when(d._showAria(!1),p._showAria()).done(r)}}(e,i,o,n,s,function(){e.triggerHandler("stepChanged",[n,s])})):e.find(".steps li").eq(s).addClass("error"),!0}}function x(e){var o=t.extend(!0,{},N,e);return this.each(function(){var e=t(this),n={currentIndex:o.startIndex,currentStep:null,stepCount:0,transitionElement:null};e.data("options",o),e.data("state",n),e.data("steps",[]),l(e,o,n),function(e,i,o){var n=b(R,i.stepsOrientation)===R.vertical?" vertical":"",s=t('<{0} class="{1}">{2}</{0}>'.format(i.contentContainerTag,"content "+i.clearFixCssClass,e.html())),r=t('<{0} class="{1}">{2}</{0}>'.format(i.stepsContainerTag,"steps "+i.clearFixCssClass,'<ul role="tablist"></ul>')),a=s.children(i.headerTag),h=s.children(i.bodyTag);e.attr("role","application").empty().append(r).append(s).addClass(i.cssClass+" "+i.clearFixCssClass+n),h.each(function(i){I(e,o,t(this),i)}),a.each(function(n){L(e,i,o,t(this),n)}),j(e,i,o),function(t,e,i){if(e.enablePagination){var o='<li><a href="#{0}" role="menuitem">{1}</a></li>',n="";e.forceMoveForward||(n+=o.format("previous",e.labels.previous)),n+=o.format("next",e.labels.next),e.enableFinishButton&&(n+=o.format("finish",e.labels.finish)),e.enableCancelButton&&(n+=o.format("cancel",e.labels.cancel)),t.append('<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>'.format(e.actionContainerTag,e.clearFixCssClass,e.labels.pagination,n)),P(t,e,i),S(t,e,i)}}(e,i,o)}(e,o,n),function(t,e){var i=d(t);t.bind("canceled"+i,e.onCanceled),t.bind("contentLoaded"+i,e.onContentLoaded),t.bind("finishing"+i,e.onFinishing),t.bind("finished"+i,e.onFinished),t.bind("init"+i,e.onInit),t.bind("stepChanging"+i,e.onStepChanging),t.bind("stepChanged"+i,e.onStepChanged),e.enableKeyNavigation&&t.bind("keyup"+i,O);t.find(".actions a").bind("click"+i,k)}(e,o),o.autoFocus&&0===i&&u(e,o.startIndex).focus(),e.triggerHandler("init",[o.startIndex])})}function T(e,i,o,n,s){(n<0||n>o.stepCount)&&D(a),function(t,e,i){m(t).splice(e,0,i)}(e,n,s=t.extend({},Q,s)),o.currentIndex!==o.stepCount&&o.currentIndex>=n&&(o.currentIndex++,H(e,i,o)),o.stepCount++;var r=e.find(".content"),h=t("<{0}>{1}</{0}>".format(i.headerTag,s.title)),l=t("<{0}></{0}>".format(i.bodyTag));return null!=s.contentMode&&s.contentMode!==J.html||l.html(s.content),0===n?r.prepend(l).prepend(h):c(e,n-1).after(l).after(h),I(e,o,l,n),L(e,i,o,h,n),B(e,i,o,n),n===o.currentIndex&&j(e,i,o),P(e,i,o),e}function O(e){var i=t(this),o=f(i),n=g(i);if(o.suppressPaginationOnFocus&&i.find(":focus").is(":input"))return e.preventDefault(),!1;var s=37,r=39;e.keyCode===s?(e.preventDefault(),w(i,o,n)):e.keyCode===r&&(e.preventDefault(),_(i,o,n))}function S(e,i,o){if(o.stepCount>0){var n=o.currentIndex,s=v(e,n);if(!i.enableContentCache||!s.contentLoaded)switch(b(J,s.contentMode)){case J.iframe:e.find(".content > .body").eq(o.currentIndex).empty().html('<iframe src="'+s.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case J.async:var r=c(e,n)._aria("busy","true").empty().append(A(i.loadingTemplate,{text:i.labels.loading}));t.ajax({url:s.contentUrl,cache:!1}).done(function(t){r.empty().html(t)._aria("busy","false").data("loaded","1"),e.triggerHandler("contentLoaded",[n])})}}}function E(t,e,i,o){var n=i.currentIndex;if(o>=0&&o<i.stepCount&&!(e.forceMoveForward&&o<i.currentIndex)){var s=u(t,o),r=s.parent(),a=r.hasClass("disabled");return r._enableAria(),s.click(),n!==i.currentIndex||!a||(r._enableAria(!1),!1)}return!1}function k(e){e.preventDefault();var i=t(this),o=i.parent().parent().parent().parent(),n=f(o),s=g(o),r=i.attr("href");switch(r.substring(r.lastIndexOf("#")+1)){case"cancel":!function(t){t.triggerHandler("canceled")}(o);break;case"finish":p(o,s);break;case"next":_(o,n,s);break;case"previous":w(o,n,s)}}function P(t,e,i){if(e.enablePagination){var o=t.find(".actions a[href$='#finish']").parent(),n=t.find(".actions a[href$='#next']").parent();if(!e.forceMoveForward)t.find(".actions a[href$='#previous']").parent()._enableAria(i.currentIndex>0);e.enableFinishButton&&e.showFinishButtonAlways?(o._enableAria(i.stepCount>0),n._enableAria(i.stepCount>1&&i.stepCount>i.currentIndex+1)):(o._showAria(e.enableFinishButton&&i.stepCount===i.currentIndex+1),n._showAria(0===i.stepCount||i.stepCount>i.currentIndex+1)._enableAria(i.stepCount>i.currentIndex+1||!e.enableFinishButton))}}function j(e,i,o,n){var s=u(e,o.currentIndex),r=t('<span class="current-info audible">'+i.labels.current+" </span>"),a=e.find(".content > .title");if(null!=n){var h=u(e,n);h.parent().addClass("done").removeClass("error")._selectAria(!1),a.eq(n).removeClass("current").next(".body").removeClass("current"),r=h.find(".current-info"),s.focus()}s.prepend(r).parent()._selectAria().removeClass("done")._enableAria(),a.eq(o.currentIndex).addClass("current").next(".body").addClass("current")}function B(t,e,i,o){for(var a=y(t),h=o;h<i.stepCount;h++){var l=a+n+h,p=a+s+h,d=a+r+h,u=t.find(".title").eq(h)._id(d);t.find(".steps a").eq(h)._id(l)._aria("controls",p).attr("href","#"+d).html(A(e.titleTemplate,{index:h+1,title:u.html()})),t.find(".body").eq(h)._id(p)._aria("labelledby",d)}}function M(t,e,i,o){return!(o<0||o>=i.stepCount||i.currentIndex===o)&&(function(t,e){m(t).splice(e,1)}(t,o),i.currentIndex>o&&(i.currentIndex--,H(t,e,i)),i.stepCount--,function(t,e){var i=y(t);return t.find("#"+i+r+e)}(t,o).remove(),c(t,o).remove(),u(t,o).parent().remove(),0===o&&t.find(".steps li").first().addClass("first"),o===i.stepCount&&t.find(".steps li").eq(o).addClass("last"),B(t,e,i,o),P(t,e,i),!0)}function I(t,e,i,o){var n=y(t),a=n+s+o,h=n+r+o;i._id(a).attr("role","tabpanel")._aria("labelledby",h).addClass("body")._showAria(e.currentIndex===o)}function A(t,i){for(var o=t.match(/#([a-z]*)#/gi),n=0;n<o.length;n++){var s=o[n],r=s.substring(1,s.length-1);i[r]===e&&D("The key '{0}' does not exist in the substitute collection!",r),t=t.replace(s,i[r])}return t}function L(e,i,o,a,h){var l=y(e),p=l+n+h,u=l+s+h,c=l+r+h,f=e.find(".steps > ul"),g=A(i.titleTemplate,{index:h+1,title:a.html()}),m=t('<li role="tab"><a id="'+p+'" href="#'+c+'" aria-controls="'+u+'">'+g+"</a></li>");m._enableAria(i.enableAllSteps||o.currentIndex>h),o.currentIndex>h&&m.addClass("done"),a._id(c).attr("tabindex","-1").addClass("title"),0===h?f.prepend(m):f.find("li").eq(h-1).after(m),0===h&&f.find("li").removeClass("first").eq(h).addClass("first"),h===o.stepCount-1&&f.find("li").removeClass("last").eq(h).addClass("last"),m.children("a").bind("click"+d(e),z)}function H(e,i,n){i.saveState&&t.cookie&&t.cookie(o+y(e),n.currentIndex)}function z(e){e.preventDefault();var i=t(this),o=i.parent().parent().parent().parent(),n=f(o),s=g(o),r=s.currentIndex;if(i.parent().is(":not(.disabled):not(.current)")){var a=i.attr("href");C(o,n,s,parseInt(a.substring(a.lastIndexOf("-")+1),0))}if(r===s.currentIndex)return u(o,r).focus(),!1}function D(t){throw arguments.length>1&&(t=t.format(Array.prototype.slice.call(arguments,1))),new Error(t)}function W(t,e){null==e&&D("The argument '{0}' is null or undefined.",t)}t.fn.steps=function(e){return t.fn.steps[e]?t.fn.steps[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.steps"):x.apply(this,arguments)},t.fn.steps.add=function(t){var e=g(this);return T(this,f(this),e,e.stepCount,t)},t.fn.steps.destroy=function(){return function(e,i){var o=d(e);e.unbind(o).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(o),e.removeClass(i.clearFixCssClass+" vertical");var n=e.find(".content > *");n.removeData("loaded").removeData("mode").removeData("url"),n.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden"),e.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty();var s=t('<{0} class="{1}"></{0}>'.format(e.get(0).tagName,e.attr("class"))),r=e._id();return null!=r&&""!==r&&s._id(r),s.html(e.find(".content").html()),e.after(s),e.remove(),s}(this,f(this))},t.fn.steps.finish=function(){p(this,g(this))},t.fn.steps.getCurrentIndex=function(){return g(this).currentIndex},t.fn.steps.getCurrentStep=function(){return v(this,g(this).currentIndex)},t.fn.steps.getStep=function(t){return v(this,t)},t.fn.steps.insert=function(t,e){return T(this,f(this),g(this),t,e)},t.fn.steps.next=function(){return _(this,f(this),g(this))},t.fn.steps.previous=function(){return w(this,f(this),g(this))},t.fn.steps.remove=function(t){return M(this,f(this),g(this),t)},t.fn.steps.setStep=function(t,e){throw new Error("Not yet implemented!")},t.fn.steps.skip=function(t){throw new Error("Not yet implemented!")};var J=t.fn.steps.contentMode={html:0,iframe:1,async:2},R=t.fn.steps.stepsOrientation={horizontal:0,vertical:1},F=t.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},Q=t.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:J.html,contentLoaded:!1},N=t.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:R.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableCancelButton:!1,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:F.none,transitionEffectSpeed:200,onStepChanging:function(t,e,i){return!0},onStepChanged:function(t,e,i){},onCanceled:function(t){},onFinishing:function(t,e){return!0},onFinished:function(t,e){},onContentLoaded:function(t,e){},onInit:function(t,e){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}}}(jQuery),function(t,e){function i(i,o,n){var s=i.children(o.headerTag),r=i.children(o.bodyTag);s.length>r.length?B(W,"contents"):s.length<r.length&&B(W,"titles");var a=o.startIndex;if(n.stepCount=s.length,o.saveState&&t.cookie){var h=t.cookie(A+d(i)),p=parseInt(h,0);!isNaN(p)&&p<n.stepCount&&(a=p)}n.currentIndex=a,s.each(function(o){var n=t(this),s=r.eq(o),a=s.data("mode"),h=null==a?J.html:u(J,/^\s*$/.test(a)||isNaN(a)?a:parseInt(a,0)),p=h===J.html||s.data("url")===e?"":s.data("url"),d=h!==J.html&&"1"===s.data("loaded"),c=t.extend({},Q,{title:n.html(),content:h===J.html?s.html():"",contentUrl:p,contentMode:h,contentLoaded:d});!function(t,e){l(t).push(e)}(i,c)})}function o(t,e){var i=t.find(".steps li").eq(e.currentIndex);t.triggerHandler("finishing",[e.currentIndex])?(i.addClass("done").removeClass("error"),t.triggerHandler("finished",[e.currentIndex])):i.addClass("error")}function n(t){var e=t.data("eventNamespace");return null==e&&(e="."+d(t),t.data("eventNamespace",e)),e}function s(t,e){var i=d(t);return t.find("#"+i+L+e)}function r(t,e){var i=d(t);return t.find("#"+i+H+e)}function a(t){return t.data("options")}function h(t){return t.data("state")}function l(t){return t.data("steps")}function p(t,e){var i=l(t);return(0>e||e>=i.length)&&B(D),i[e]}function d(t){var e=t.data("uid");return null==e&&(null==(e=t._id())&&(e="steps-uid-".concat(I),t._id(e)),I++,t.data("uid",e)),e}function u(t,i){if(M("enumType",t),M("keyOrValue",i),"string"==typeof i){var o=t[i];return o===e&&B("The enum key '{0}' does not exist.",i),o}if("number"==typeof i){for(var n in t)if(t[n]===i)return i;B("Invalid enum value '{0}'.",i)}else B("Invalid key or value type.")}function c(t,e,i){return b(t,e,i,function(t,e){return t.currentIndex+e}(i,1))}function f(t,e,i){return b(t,e,i,function(t,e){return t.currentIndex-e}(i,1))}function g(e){var o=t.extend(!0,{},N,e);return this.each(function(){var e=t(this),r={currentIndex:o.startIndex,currentStep:null,stepCount:0,transitionElement:null};e.data("options",o),e.data("state",r),e.data("steps",[]),i(e,o,r),function(e,i,o){var n='<{0} class="{1}">{2}</{0}>',s=u(R,i.stepsOrientation)===R.vertical?" vertical":"",r=t(n.format(i.contentContainerTag,"content "+i.clearFixCssClass,e.html())),a=t(n.format(i.stepsContainerTag,"steps "+i.clearFixCssClass,'<ul role="tablist"></ul>')),h=r.children(i.headerTag),l=r.children(i.bodyTag);e.attr("role","application").empty().append(a).append(r).addClass(i.cssClass+" "+i.clearFixCssClass+s),l.each(function(i){O(e,o,t(this),i)}),h.each(function(n){E(e,i,o,t(this),n)}),C(e,i,o),function(t,e,i){if(e.enablePagination){var o='<li><a href="#{0}" role="menuitem">{1}</a></li>',n="";e.forceMoveForward||(n+=o.format("previous",e.labels.previous)),n+=o.format("next",e.labels.next),e.enableFinishButton&&(n+=o.format("finish",e.labels.finish)),e.enableCancelButton&&(n+=o.format("cancel",e.labels.cancel)),t.append('<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>'.format(e.actionContainerTag,e.clearFixCssClass,e.labels.pagination,n)),w(t,e,i),y(t,e,i)}}(e,i,o)}(e,o,r),function(t,e){var i=n(t);t.bind("canceled"+i,e.onCanceled),t.bind("contentLoaded"+i,e.onContentLoaded),t.bind("finishing"+i,e.onFinishing),t.bind("finished"+i,e.onFinished),t.bind("init"+i,e.onInit),t.bind("stepChanging"+i,e.onStepChanging),t.bind("stepChanged"+i,e.onStepChanged),e.enableKeyNavigation&&t.bind("keyup"+i,v),t.find(".actions a").bind("click"+i,_)}(e,o),o.autoFocus&&0===I&&s(e,o.startIndex).focus(),e.triggerHandler("init",[o.startIndex])})}function m(e,i,o,n,s){(0>n||n>o.stepCount)&&B(D),function(t,e,i){l(t).splice(e,0,i)}(e,n,s=t.extend({},Q,s)),o.currentIndex!==o.stepCount&&o.currentIndex>=n&&(o.currentIndex++,k(e,i,o)),o.stepCount++;var a=e.find(".content"),h=t("<{0}>{1}</{0}>".format(i.headerTag,s.title)),p=t("<{0}></{0}>".format(i.bodyTag));return(null==s.contentMode||s.contentMode===J.html)&&p.html(s.content),0===n?a.prepend(p).prepend(h):r(e,n-1).after(p).after(h),O(e,o,p,n),E(e,i,o,h,n),x(e,i,o,n),n===o.currentIndex&&C(e,i,o),w(e,i,o),e}function v(e){var i=t(this),o=a(i),n=h(i);if(o.suppressPaginationOnFocus&&i.find(":focus").is(":input"))return e.preventDefault(),!1;var s=37,r=39;e.keyCode===s?(e.preventDefault(),f(i,o,n)):e.keyCode===r&&(e.preventDefault(),c(i,o,n))}function y(e,i,o){if(o.stepCount>0){var n=o.currentIndex,s=p(e,n);if(!i.enableContentCache||!s.contentLoaded)switch(u(J,s.contentMode)){case J.iframe:e.find(".content > .body").eq(o.currentIndex).empty().html('<iframe src="'+s.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case J.async:var a=r(e,n)._aria("busy","true").empty().append(S(i.loadingTemplate,{text:i.labels.loading}));t.ajax({url:s.contentUrl,cache:!1}).done(function(t){a.empty().html(t)._aria("busy","false").data("loaded","1"),e.triggerHandler("contentLoaded",[n])})}}}function b(t,e,i,o){var n=i.currentIndex;if(o>=0&&o<i.stepCount&&!(e.forceMoveForward&&o<i.currentIndex)){var r=s(t,o),a=r.parent(),h=a.hasClass("disabled");return a._enableAria(),r.click(),n!==i.currentIndex||!h||(a._enableAria(!1),!1)}return!1}function _(e){e.preventDefault();var i=t(this),n=i.parent().parent().parent().parent(),s=a(n),r=h(n),l=i.attr("href");switch(l.substring(l.lastIndexOf("#")+1)){case"cancel":!function(t){t.triggerHandler("canceled")}(n);break;case"finish":o(n,r);break;case"next":c(n,s,r);break;case"previous":f(n,s,r)}}function w(t,e,i){if(e.enablePagination){var o=t.find(".actions a[href$='#finish']").parent(),n=t.find(".actions a[href$='#next']").parent();if(!e.forceMoveForward)t.find(".actions a[href$='#previous']").parent()._enableAria(i.currentIndex>0);e.enableFinishButton&&e.showFinishButtonAlways?(o._enableAria(i.stepCount>0),n._enableAria(i.stepCount>1&&i.stepCount>i.currentIndex+1)):(o._showAria(e.enableFinishButton&&i.stepCount===i.currentIndex+1),n._showAria(0===i.stepCount||i.stepCount>i.currentIndex+1)._enableAria(i.stepCount>i.currentIndex+1||!e.enableFinishButton))}}function C(e,i,o,n){var r=s(e,o.currentIndex),a=t('<span class="current-info audible">'+i.labels.current+" </span>"),h=e.find(".content > .title");if(null!=n){var l=s(e,n);l.parent().addClass("done").removeClass("error")._selectAria(!1),h.eq(n).removeClass("current").next(".body").removeClass("current"),a=l.find(".current-info"),r.focus()}r.prepend(a).parent()._selectAria().removeClass("done")._enableAria(),h.eq(o.currentIndex).addClass("current").next(".body").addClass("current")}function x(t,e,i,o){for(var n=d(t),s=o;s<i.stepCount;s++){var r=n+L+s,a=n+H+s,h=n+z+s,l=t.find(".title").eq(s)._id(h);t.find(".steps a").eq(s)._id(r)._aria("controls",a).attr("href","#"+h).html(S(e.titleTemplate,{index:s+1,title:l.html()})),t.find(".body").eq(s)._id(a)._aria("labelledby",h)}}function T(t,e,i,o){return!(0>o||o>=i.stepCount||i.currentIndex===o)&&(function(t,e){l(t).splice(e,1)}(t,o),i.currentIndex>o&&(i.currentIndex--,k(t,e,i)),i.stepCount--,function(t,e){var i=d(t);return t.find("#"+i+z+e)}(t,o).remove(),r(t,o).remove(),s(t,o).parent().remove(),0===o&&t.find(".steps li").first().addClass("first"),o===i.stepCount&&t.find(".steps li").eq(o).addClass("last"),x(t,e,i,o),w(t,e,i),!0)}function O(t,e,i,o){var n=d(t),s=n+H+o,r=n+z+o;i._id(s).attr("role","tabpanel")._aria("labelledby",r).addClass("body")._showAria(e.currentIndex===o)}function S(t,i){for(var o=t.match(/#([a-z]*)#/gi),n=0;n<o.length;n++){var s=o[n],r=s.substring(1,s.length-1);i[r]===e&&B("The key '{0}' does not exist in the substitute collection!",r),t=t.replace(s,i[r])}return t}function E(e,i,o,s,r){var a=d(e),h=a+L+r,l=a+H+r,p=a+z+r,u=e.find(".steps > ul"),c=S(i.titleTemplate,{index:r+1,title:s.html()}),f=t('<li role="tab"><a id="'+h+'" href="#'+p+'" aria-controls="'+l+'">'+c+"</a></li>");f._enableAria(i.enableAllSteps||o.currentIndex>r),o.currentIndex>r&&f.addClass("done"),s._id(p).attr("tabindex","-1").addClass("title"),0===r?u.prepend(f):u.find("li").eq(r-1).after(f),0===r&&u.find("li").removeClass("first").eq(r).addClass("first"),r===o.stepCount-1&&u.find("li").removeClass("last").eq(r).addClass("last"),f.children("a").bind("click"+n(e),j)}function k(e,i,o){i.saveState&&t.cookie&&t.cookie(A+d(e),o.currentIndex)}function P(e,i,o,n,s,r){var a=e.find(".content > .body"),l=u(F,i.transitionEffect),p=i.transitionEffectSpeed,d=a.eq(n),c=a.eq(s);switch(l){case F.fade:case F.slide:var f=l===F.fade?"fadeOut":"slideUp",g=l===F.fade?"fadeIn":"slideDown";o.transitionElement=d,c[f](p,function(){var e=h(t(this)._showAria(!1).parent().parent());e.transitionElement&&(e.transitionElement[g](p,function(){t(this)._showAria()}).promise().done(r),e.transitionElement=null)});break;case F.slideLeft:var m=c.outerWidth(!0),v=n>s?-m:m,y=n>s?m:-m;t.when(c.animate({left:v},p,function(){t(this)._showAria(!1)}),d.css("left",y+"px")._showAria().animate({left:0},p)).done(r);break;default:t.when(c._showAria(!1),d._showAria()).done(r)}}function j(e){e.preventDefault();var i=t(this),o=i.parent().parent().parent().parent(),n=a(o),r=h(o),l=r.currentIndex;if(i.parent().is(":not(.disabled):not(.current)")){var p=i.attr("href");!function(t,e,i,o){if((0>o||o>=i.stepCount)&&B(D),!(e.forceMoveForward&&o<i.currentIndex)){var n=i.currentIndex;t.triggerHandler("stepChanging",[i.currentIndex,o])?(i.currentIndex=o,k(t,e,i),C(t,e,i,n),w(t,e,i),y(t,e,i),P(t,e,i,o,n,function(){t.triggerHandler("stepChanged",[o,n])})):t.find(".steps li").eq(n).addClass("error")}}(o,n,r,parseInt(p.substring(p.lastIndexOf("-")+1),0))}return l===r.currentIndex?(s(o,l).focus(),!1):void 0}function B(t){throw arguments.length>1&&(t=t.format(Array.prototype.slice.call(arguments,1))),new Error(t)}function M(t,e){null==e&&B("The argument '{0}' is null or undefined.",t)}t.fn.extend({_aria:function(t,e){return this.attr("aria-"+t,e)},_removeAria:function(t){return this.removeAttr("aria-"+t)},_enableAria:function(t){return null==t||t?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(t){return null==t||t?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(t){return null==t||t?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function(t){return t?this.attr("id",t):this.attr("id")}}),String.prototype.format||(String.prototype.format=function(){for(var e=1===arguments.length&&t.isArray(arguments[0])?arguments[0]:arguments,i=this,o=0;o<e.length;o++){var n=new RegExp("\\{"+o+"\\}","gm");i=i.replace(n,e[o])}return i});var I=0,A="jQu3ry_5teps_St@te_",L="-t-",H="-p-",z="-h-",D="Index out of range.",W="One or more corresponding step {0} are missing.";t.fn.steps=function(e){return t.fn.steps[e]?t.fn.steps[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.steps"):g.apply(this,arguments)},t.fn.steps.add=function(t){var e=h(this);return m(this,a(this),e,e.stepCount,t)},t.fn.steps.destroy=function(){return function(e,i){var o=n(e);e.unbind(o).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(o),e.removeClass(i.clearFixCssClass+" vertical");var s=e.find(".content > *");s.removeData("loaded").removeData("mode").removeData("url"),s.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden"),e.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty();var r=t('<{0} class="{1}"></{0}>'.format(e.get(0).tagName,e.attr("class"))),a=e._id();return null!=a&&""!==a&&r._id(a),r.html(e.find(".content").html()),e.after(r),e.remove(),r}(this,a(this))},t.fn.steps.finish=function(){o(this,h(this))},t.fn.steps.getCurrentIndex=function(){return h(this).currentIndex},t.fn.steps.getCurrentStep=function(){return p(this,h(this).currentIndex)},t.fn.steps.getStep=function(t){return p(this,t)},t.fn.steps.insert=function(t,e){return m(this,a(this),h(this),t,e)},t.fn.steps.next=function(){return c(this,a(this),h(this))},t.fn.steps.previous=function(){return f(this,a(this),h(this))},t.fn.steps.remove=function(t){return T(this,a(this),h(this),t)},t.fn.steps.setStep=function(){throw new Error("Not yet implemented!")},t.fn.steps.skip=function(){throw new Error("Not yet implemented!")};var J=t.fn.steps.contentMode={html:0,iframe:1,async:2},R=t.fn.steps.stepsOrientation={horizontal:0,vertical:1},F=t.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},Q=t.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:J.html,contentLoaded:!1},N=t.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:R.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableCancelButton:!1,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:F.none,transitionEffectSpeed:200,onStepChanging:function(){return!0},onStepChanged:function(){},onCanceled:function(){},onFinishing:function(){return!0},onFinished:function(){},onContentLoaded:function(){},onInit:function(){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}}}(jQuery),function(t){var e,i,o=t(window),n={},s=[],r=[],a=null,h=[],l=null,p=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),d={_init:function(e){var i=t(e),o=i.data("popupoptions");r[e.id]=!1,s[e.id]=0,i.data("popup-initialized")||(i.attr("data-popup-initialized","true"),d._initonce(e)),o.autoopen&&setTimeout(function(){d.show(e,0)},0)},_initonce:function(i){var o,n,s,r,h=t(i),u=t("body"),c=h.data("popupoptions");(a=parseInt(u.css("margin-right"),10),l=void 0!==document.body.style.webkitTransition||void 0!==document.body.style.MozTransition||void 0!==document.body.style.msTransition||void 0!==document.body.style.OTransition||void 0!==document.body.style.transition,"tooltip"==c.type&&(c.background=!1,c.scrolllock=!1),c.backgroundactive&&(c.background=!1,c.blur=!1,c.scrolllock=!1),c.scrolllock)&&(void 0===e&&(r=(s=t('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body")).children(),e=r.innerWidth()-r.height(99).innerWidth(),s.remove()));if(h.attr("id")||h.attr("id","j-popup-"+parseInt(1e8*Math.random(),10)),h.addClass("popup_content"),c.background&&!t("#"+i.id+"_background").length){u.append('<div id="'+i.id+'_background" class="popup_background"></div>');var f=t("#"+i.id+"_background");f.css({opacity:0,visibility:"hidden",backgroundColor:c.color,position:"fixed",top:0,right:0,bottom:0,left:0}),c.setzindex&&!c.autozindex&&f.css("z-index","100000"),c.transition&&f.css("transition",c.transition)}u.append(i),h.wrap('<div id="'+i.id+'_wrapper" class="popup_wrapper" />'),(o=t("#"+i.id+"_wrapper")).css({opacity:0,visibility:"hidden",position:"absolute"}),p&&o.css("cursor","pointer"),"overlay"==c.type&&o.css("overflow","auto"),h.css({opacity:0,visibility:"hidden",display:"inline-block"}),c.setzindex&&!c.autozindex&&o.css("z-index","100001"),c.outline||h.css("outline","none"),c.transition&&(h.css("transition",c.transition),o.css("transition",c.transition)),h.attr("aria-hidden",!0),"overlay"==c.type&&(h.css({textAlign:"left",position:"relative",verticalAlign:"middle"}),n={position:"fixed",width:"100%",height:"100%",top:0,left:0,textAlign:"center"},c.backgroundactive&&(n.position="absolute",n.height="0",n.overflow="visible"),o.css(n),o.append('<div class="popup_align" />'),t(".popup_align").css({display:"inline-block",verticalAlign:"middle",height:"100%"})),h.attr("role","dialog");var g=c.openelement?c.openelement:"."+i.id+"_open";t(g).each(function(e,i){t(i).attr("data-popup-ordinal",e),i.id||t(i).attr("id","open_"+parseInt(1e8*Math.random(),10))}),h.attr("aria-labelledby")||h.attr("aria-label")||h.attr("aria-labelledby",t(g).attr("id")),"hover"==c.action?(c.keepfocus=!1,t(g).on("mouseenter",function(e){d.show(i,t(this).data("popup-ordinal"))}),t(g).on("mouseleave",function(t){d.hide(i)})):t(document).on("click",g,function(e){e.preventDefault();var o=t(this).data("popup-ordinal");setTimeout(function(){d.show(i,o)},0)}),c.closebutton&&d.addclosebutton(i),c.detach?h.hide().detach():o.hide()},show:function(n,p){var c=t(n);if(!c.data("popup-visible")){c.data("popup-initialized")||d._init(n),c.attr("data-popup-initialized","true");var f=t("body"),g=c.data("popupoptions"),m=t("#"+n.id+"_wrapper"),v=t("#"+n.id+"_background");if(u(n,p,g.beforeopen),r[n.id]=p,setTimeout(function(){h.push(n.id)},0),g.autozindex){for(var y=document.getElementsByTagName("*"),b=y.length,_=0,w=0;w<b;w++){var C=t(y[w]).css("z-index");"auto"!==C&&_<(C=parseInt(C,10))&&(_=C)}s[n.id]=_,g.background&&s[n.id]>0&&t("#"+n.id+"_background").css({zIndex:s[n.id]+1}),s[n.id]>0&&m.css({zIndex:s[n.id]+2})}g.detach?(m.prepend(n),c.show()):m.show(),i=setTimeout(function(){m.css({visibility:"visible",opacity:1}),t("html").addClass("popup_visible").addClass("popup_visible_"+n.id),m.addClass("popup_wrapper_visible")},20),g.scrolllock&&(f.css("overflow","hidden"),f.height()>o.height()&&f.css("margin-right",a+e)),g.backgroundactive&&c.css({top:(o.height()-(c.get(0).offsetHeight+parseInt(c.css("margin-top"),10)+parseInt(c.css("margin-bottom"),10)))/2+"px"}),c.css({visibility:"visible",opacity:1}),g.background&&(v.css({visibility:"visible",opacity:g.opacity}),setTimeout(function(){v.css({opacity:g.opacity})},0)),c.data("popup-visible",!0),d.reposition(n,p),c.data("focusedelementbeforepopup",document.activeElement),g.keepfocus&&(c.attr("tabindex",-1),setTimeout(function(){"closebutton"===g.focuselement?t("#"+n.id+" ."+n.id+"_close:first").focus():g.focuselement?t(g.focuselement).focus():c.focus()},g.focusdelay)),t(g.pagecontainer).attr("aria-hidden",!0),c.attr("aria-hidden",!1),u(n,p,g.onopen),l?m.one("transitionend",function(){u(n,p,g.opentransitionend)}):u(n,p,g.opentransitionend),"tooltip"==g.type&&t(window).on("resize."+n.id,function(){d.reposition(n,p)})}},hide:function(e,o){var n=t.inArray(e.id,h);if(-1!==n){i&&clearTimeout(i);var s=t("body"),p=t(e),d=p.data("popupoptions"),c=t("#"+e.id+"_wrapper"),f=t("#"+e.id+"_background");p.data("popup-visible",!1),1===h.length?t("html").removeClass("popup_visible").removeClass("popup_visible_"+e.id):t("html").hasClass("popup_visible_"+e.id)&&t("html").removeClass("popup_visible_"+e.id),h.splice(n,1),c.hasClass("popup_wrapper_visible")&&c.removeClass("popup_wrapper_visible"),d.keepfocus&&!o&&setTimeout(function(){t(p.data("focusedelementbeforepopup")).is(":visible")&&p.data("focusedelementbeforepopup").focus()},0),c.css({visibility:"hidden",opacity:0}),p.css({visibility:"hidden",opacity:0}),d.background&&f.css({visibility:"hidden",opacity:0}),t(d.pagecontainer).attr("aria-hidden",!1),p.attr("aria-hidden",!0),u(e,r[e.id],d.onclose),l&&"0s"!==p.css("transition-duration")?p.one("transitionend",function(t){p.data("popup-visible")||(d.detach?p.hide().detach():c.hide()),d.scrolllock&&setTimeout(function(){s.css({overflow:"visible","margin-right":a})},10),u(e,r[e.id],d.closetransitionend)}):(d.detach?p.hide().detach():c.hide(),d.scrolllock&&setTimeout(function(){s.css({overflow:"visible","margin-right":a})},10),u(e,r[e.id],d.closetransitionend)),"tooltip"==d.type&&t(window).off("resize."+e.id)}},toggle:function(e,i){t(e).data("popup-visible")?d.hide(e):setTimeout(function(){d.show(e,i)},0)},reposition:function(e,i){var n=t(e),s=n.data("popupoptions"),r=t("#"+e.id+"_wrapper");t("#"+e.id+"_background");if(i=i||0,"tooltip"==s.type){var a;r.css({position:"absolute"});var h=(a=s.tooltipanchor?t(s.tooltipanchor):s.openelement?t(s.openelement).filter('[data-popup-ordinal="'+i+'"]'):t("."+e.id+'_open[data-popup-ordinal="'+i+'"]')).offset();"right"==s.horizontal?r.css("left",h.left+a.outerWidth()+s.offsetleft):"leftedge"==s.horizontal?r.css("left",h.left+a.outerWidth()-a.outerWidth()+s.offsetleft):"left"==s.horizontal?r.css("right",o.width()-h.left-s.offsetleft):"rightedge"==s.horizontal?r.css("right",o.width()-h.left-a.outerWidth()-s.offsetleft):r.css("left",h.left+a.outerWidth()/2-n.outerWidth()/2-parseFloat(n.css("marginLeft"))+s.offsetleft),"bottom"==s.vertical?r.css("top",h.top+a.outerHeight()+s.offsettop):"bottomedge"==s.vertical?r.css("top",h.top+a.outerHeight()-n.outerHeight()+s.offsettop):"top"==s.vertical?r.css("bottom",o.height()-h.top-s.offsettop):"topedge"==s.vertical?r.css("bottom",o.height()-h.top-n.outerHeight()-s.offsettop):r.css("top",h.top+a.outerHeight()/2-n.outerHeight()/2-parseFloat(n.css("marginTop"))+s.offsettop)}else"overlay"==s.type&&(s.horizontal?r.css("text-align",s.horizontal):r.css("text-align","center"),s.vertical?n.css("vertical-align",s.vertical):n.css("vertical-align","middle"))},addclosebutton:function(e){var i;i=t(e).data("popupoptions").closebuttonmarkup?t(n.closebuttonmarkup).addClass(e.id+"_close"):'<button class="popup_close '+e.id+'_close" title="Close" aria-label="Close"><span aria-hidden="true">×</span></button>',t(e).data("popup-initialized")&&t(e).append(i)}},u=function(e,i,o){var n,s,r=t(e).data("popupoptions");void 0!==r&&(n=r.openelement?r.openelement:"."+e.id+"_open",s=t(n+'[data-popup-ordinal="'+i+'"]'),"function"==typeof o&&o.call(t(e),e,s))};t(document).on("keydown",function(e){if(h.length){var i=h[h.length-1],o=document.getElementById(i);t(o).data("popupoptions").escape&&27==e.keyCode&&d.hide(o)}}),t(document).on("click",function(e){if(h.length){var i=h[h.length-1],o=document.getElementById(i),n=t(o).data("popupoptions").closeelement?t(o).data("popupoptions").closeelement:"."+o.id+"_close";t(e.target).closest(n).length&&(e.preventDefault(),d.hide(o)),t(o).data("popupoptions")&&t(o).data("popupoptions").blur&&!t(e.target).closest("#"+i).length&&2!==e.which&&t(e.target).is(":visible")&&(t(o).data("popupoptions").background?(d.hide(o),e.preventDefault()):d.hide(o,!0))}}),t(document).on("keydown",function(e){if(h.length&&9==e.which){var i=h[h.length-1],o=document.getElementById(i),n=t(o).find("*").filter("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible"),s=t(":focus"),r=n.length,a=n.index(s);0===r?(t(o).focus(),e.preventDefault()):e.shiftKey?0===a&&(n.get(r-1).focus(),e.preventDefault()):a==r-1&&(n.get(0).focus(),e.preventDefault())}}),t.fn.popup=function(e){return this.each(function(){var i=t(this);if("object"==typeof e){var o=t.extend({},t.fn.popup.defaults,i.data("popupoptions"),e);i.data("popupoptions",o),n=i.data("popupoptions"),d._init(this)}else"string"==typeof e?(i.data("popupoptions")||(i.data("popupoptions",t.fn.popup.defaults),n=i.data("popupoptions")),d[e].call(this,this)):(i.data("popupoptions")||(i.data("popupoptions",t.fn.popup.defaults),n=i.data("popupoptions")),d._init(this))})},t.fn.popup.defaults={type:"overlay",autoopen:!1,background:!0,backgroundactive:!1,color:"black",opacity:"0.5",horizontal:"center",vertical:"middle",offsettop:0,offsetleft:0,escape:!0,blur:!0,setzindex:!0,autozindex:!1,scrolllock:!1,closebutton:!1,closebuttonmarkup:null,keepfocus:!0,focuselement:null,focusdelay:50,outline:!1,pagecontainer:null,detach:!1,openelement:null,closeelement:null,transition:null,tooltipanchor:null,beforeopen:null,onclose:null,onopen:null,opentransitionend:null,closetransitionend:null}}(jQuery),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ProgressBar=t()}}(function(){return function t(e,i,o){function n(r,a){if(!i[r]){if(!e[r]){var h="function"==typeof require&&require;if(!a&&h)return h(r,!0);if(s)return s(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var p=i[r]={exports:{}};e[r][0].call(p.exports,function(t){var i=e[r][1][t];return n(i||t)},p,p.exports,t,e,i,o)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)n(o[r]);return n}({1:[function(t,e,i){(function(){var t=this||Function("return this")(),o=function(){"use strict";function o(){}function n(t,e){var i;for(i in t)Object.hasOwnProperty.call(t,i)&&e(i)}function s(t,e){return n(e,function(i){t[i]=e[i]}),t}function r(t,e){n(e,function(i){void 0===t[i]&&(t[i]=e[i])})}function a(t,e,i,o,n,s,r){var a,l,p,d=t<s?0:(t-s)/n;for(a in e)e.hasOwnProperty(a)&&(p="function"==typeof(l=r[a])?l:c[l],e[a]=h(i[a],o[a],p,d));return e}function h(t,e,i,o){return t+(e-t)*i(o)}function l(t,e){var i=u.prototype.filter,o=t._filterArgs;n(i,function(n){void 0!==i[n][e]&&i[n][e].apply(t,o)})}function p(t,e,i,o,n,s,r,h,p,d,u){g=e+i+o,m=Math.min(u||C(),g),v=m>=g,y=o-(g-m),t.isPlaying()&&(v?(p(r,t._attachment,y),t.stop(!0)):(t._scheduleId=d(t._timeoutHandler,_),l(t,"beforeTween"),m<e+i?a(1,n,s,r,1,1,h):a(m,n,s,r,o,e+i,h),l(t,"afterTween"),p(n,t._attachment,y)))}function d(t,e){var i={},o=typeof e;return n(t,"string"===o||"function"===o?function(t){i[t]=e}:function(t){i[t]||(i[t]=e[t]||b)}),i}function u(t,e){this._currentState=t||{},this._configured=!1,this._scheduleFunction=f,void 0!==e&&this.setConfig(e)}var c,f,g,m,v,y,b="linear",_=1e3/60,w=Date.now?Date.now:function(){return+new Date},C="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:w;return f="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame)||setTimeout,u.prototype.tween=function(t){return this._isTweening?this:(void 0===t&&this._configured||this.setConfig(t),this._timestamp=C(),this._start(this.get(),this._attachment),this.resume())},u.prototype.setConfig=function(t){t=t||{},this._configured=!0,this._attachment=t.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=t.delay||0,this._start=t.start||o,this._step=t.step||o,this._finish=t.finish||o,this._duration=t.duration||500,this._currentState=s({},t.from||this.get()),this._originalState=this.get(),this._targetState=s({},t.to||this.get());var e=this;this._timeoutHandler=function(){p(e,e._timestamp,e._delay,e._duration,e._currentState,e._originalState,e._targetState,e._easing,e._step,e._scheduleFunction)};var i=this._currentState,n=this._targetState;return r(n,i),this._easing=d(i,t.easing||b),this._filterArgs=[i,this._originalState,n,this._easing],l(this,"tweenCreated"),this},u.prototype.get=function(){return s({},this._currentState)},u.prototype.set=function(t){this._currentState=t},u.prototype.pause=function(){return this._pausedAtTime=C(),this._isPaused=!0,this},u.prototype.resume=function(){return this._isPaused&&(this._timestamp+=C()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},u.prototype.seek=function(t){t=Math.max(t,0);var e=C();return this._timestamp+t===0?this:(this._timestamp=e-t,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,p(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,e),this.pause()),this)},u.prototype.stop=function(e){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=o,(t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.mozCancelRequestAnimationFrame||t.clearTimeout)(this._scheduleId),e&&(l(this,"beforeTween"),a(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),l(this,"afterTween"),l(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},u.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},u.prototype.setScheduleFunction=function(t){this._scheduleFunction=t},u.prototype.dispose=function(){var t;for(t in this)this.hasOwnProperty(t)&&delete this[t]},u.prototype.filter={},u.prototype.formula={linear:function(t){return t}},c=u.prototype.formula,s(u,{now:C,each:n,tweenProps:a,tweenProp:h,applyFilter:l,shallowCopy:s,defaults:r,composeEasingObject:d}),"function"==typeof SHIFTY_DEBUG_NOW&&(t.timeoutHandler=p),"object"==typeof i?e.exports=u:void 0===t.Tweenable&&(t.Tweenable=u),u}();o.shallowCopy(o.prototype.formula,{easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInQuint:function(t){return Math.pow(t,5)},easeOutQuint:function(t){return Math.pow(t-1,5)+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},swingFromTo:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},swingFrom:function(t){var e=1.70158;return t*t*((e+1)*t-e)},swingTo:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},bounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bouncePast:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},easeFromTo:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeFrom:function(t){return Math.pow(t,4)},easeTo:function(t){return Math.pow(t,.25)}}),function(){function t(t,e,i,o,n,s){function r(t){return((l*t+p)*t+d)*t}function a(t){return(3*l*t+2*p)*t+d}function h(t){return t>=0?t:0-t}var l=0,p=0,d=0,u=0,c=0,f=0;return l=1-(d=3*e)-(p=3*(o-e)-d),u=1-(f=3*i)-(c=3*(n-i)-f),function(t,e){return function(t){return((u*t+c)*t+f)*t}(function(t,e){var i,o,n,s,l,p;for(n=t,p=0;p<8;p++){if(h(s=r(n)-t)<e)return n;if(h(l=a(n))<1e-6)break;n-=s/l}if(o=1,(n=t)<(i=0))return i;if(n>o)return o;for(;i<o;){if(h((s=r(n))-t)<e)return n;t>s?i=n:o=n,n=.5*(o-i)+i}return n}(t,e))}(t,function(t){return 1/(200*t)}(s))}function e(e,i,o,n){return function(s){return t(s,e,i,o,n,1)}}o.setBezierFunction=function(t,i,n,s,r){var a=e(i,n,s,r);return a.displayName=t,a.x1=i,a.y1=n,a.x2=s,a.y2=r,o.prototype.formula[t]=a},o.unsetBezierFunction=function(t){delete o.prototype.formula[t]}}(),function(){var t=new o;t._filterArgs=[],o.interpolate=function(e,i,n,s,r){var a=o.shallowCopy({},e),h=r||0,l=o.composeEasingObject(e,s||"linear");t.set({});var p=t._filterArgs;p.length=0,p[0]=a,p[1]=e,p[2]=i,p[3]=l,o.applyFilter(t,"tweenCreated"),o.applyFilter(t,"beforeTween");var d=function(t,e,i,n,s,r){return o.tweenProps(n,e,t,i,1,r,s)}(e,a,i,n,l,h);return o.applyFilter(t,"afterTween"),d}}(),function(t){function e(e){t.each(e,function(t){var o=e[t];"string"==typeof o&&o.match(v)&&(e[t]=function(t){return n(v,t,i)}(o))})}function i(t){var e=function(t){return 3===(t=t.replace(/#/,"")).length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),b[0]=o(t.substr(0,2)),b[1]=o(t.substr(2,2)),b[2]=o(t.substr(4,2)),b}(t);return"rgb("+e[0]+","+e[1]+","+e[2]+")"}function o(t){return parseInt(t,16)}function n(t,e,i){var o=e.match(t),n=e.replace(t,y);if(o)for(var s,r=o.length,a=0;a<r;a++)s=o.shift(),n=n.replace(y,i(s));return n}function s(t){for(var e=t.match(f),i=e.length,o=t.match(m)[0],n=0;n<i;n++)o+=parseInt(e[n],10)+",";return o.slice(0,-1)+")"}function r(e){var i={};return t.each(e,function(t){var o=e[t];if("string"==typeof o){var n=l(o);i[t]={formatString:function(t){var e=t.match(c);return e?(1===e.length||t.charAt(0).match(u))&&e.unshift(""):e=["",""],e.join(y)}(o),chunkNames:function(t,e){var i,o=[],n=t.length;for(i=0;i<n;i++)o.push("_"+e+"_"+i);return o}(n,t)}}}),i}function a(e,i){t.each(i,function(t){for(var o=l(e[t]),n=o.length,s=0;s<n;s++)e[i[t].chunkNames[s]]=+o[s];delete e[t]})}function h(e,i){t.each(i,function(t){var o=e[t],r=function(t,e){_.length=0;for(var i=e.length,o=0;o<i;o++)_.push(t[e[o]]);return _}(function(t,e){for(var i,o={},n=e.length,s=0;s<n;s++)i=e[s],o[i]=t[i],delete t[i];return o}(e,i[t].chunkNames),i[t].chunkNames);o=function(t,e){for(var i=t,o=e.length,n=0;n<o;n++)i=i.replace(y,+e[n].toFixed(4));return i}(i[t].formatString,r),e[t]=function(t){return n(g,t,s)}(o)})}function l(t){return t.match(f)}function p(e,i){t.each(i,function(t){var o,n=i[t].chunkNames,s=n.length,r=e[t];if("string"==typeof r){var a=r.split(" "),h=a[a.length-1];for(o=0;o<s;o++)e[n[o]]=a[o]||h}else for(o=0;o<s;o++)e[n[o]]=r;delete e[t]})}function d(e,i){t.each(i,function(t){var o=i[t].chunkNames,n=o.length,s=e[o[0]];if("string"===typeof s){for(var r="",a=0;a<n;a++)r+=" "+e[o[a]],delete e[o[a]];e[t]=r.substr(1)}else e[t]=s})}var u=/(\d|\-|\.)/,c=/([^\-0-9\.]+)/g,f=/[0-9.\-]+/g,g=new RegExp("rgb\\("+f.source+/,\s*/.source+f.source+/,\s*/.source+f.source+"\\)","g"),m=/^.*\(/,v=/#([0-9]|[a-f]){3,6}/gi,y="VAL",b=[],_=[];t.prototype.filter.token={tweenCreated:function(t,i,o,n){e(t),e(i),e(o),this._tokenData=r(t)},beforeTween:function(t,e,i,o){p(o,this._tokenData),a(t,this._tokenData),a(e,this._tokenData),a(i,this._tokenData)},afterTween:function(t,e,i,o){h(t,this._tokenData),h(e,this._tokenData),h(i,this._tokenData),d(o,this._tokenData)}}}(o)}).call(null)},{}],2:[function(t,e,i){var o=t("./shape"),n=t("./utils"),s=function(t,e){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,o.apply(this,arguments)};(s.prototype=new o).constructor=s,s.prototype._pathString=function(t){var e=t.strokeWidth;t.trailWidth&&t.trailWidth>t.strokeWidth&&(e=t.trailWidth);var i=50-e/2;return n.render(this._pathTemplate,{radius:i,"2radius":2*i})},s.prototype._trailString=function(t){return this._pathString(t)},e.exports=s},{"./shape":7,"./utils":9}],3:[function(t,e,i){var o=t("./shape"),n=t("./utils"),s=function(t,e){this._pathTemplate="M 0,{center} L 100,{center}",o.apply(this,arguments)};(s.prototype=new o).constructor=s,s.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 "+e.strokeWidth),t.setAttribute("preserveAspectRatio","none")},s.prototype._pathString=function(t){return n.render(this._pathTemplate,{center:t.strokeWidth/2})},s.prototype._trailString=function(t){return this._pathString(t)},e.exports=s},{"./shape":7,"./utils":9}],4:[function(t,e,i){e.exports={Line:t("./line"),Circle:t("./circle"),SemiCircle:t("./semicircle"),Square:t("./square"),Path:t("./path"),Shape:t("./shape"),utils:t("./utils")}},{"./circle":2,"./line":3,"./path":5,"./semicircle":6,"./shape":7,"./square":8,"./utils":9}],5:[function(t,e,i){var o=t("shifty"),n=t("./utils"),s={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},r=function t(e,i){if(!(this instanceof t))throw new Error("Constructor was called without new keyword");var o;i=n.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},i),o=n.isString(e)?document.querySelector(e):e,this.path=o,this._opts=i,this._tweenable=null;var s=this.path.getTotalLength();this.path.style.strokeDasharray=s+" "+s,this.set(0)};r.prototype.value=function(){var t=this._getComputedDashOffset(),e=this.path.getTotalLength();return parseFloat((1-t/e).toFixed(6),10)},r.prototype.set=function(t){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(t);var e=this._opts.step;if(n.isFunction(e)){var i=this._easing(this._opts.easing);e(this._calculateTo(t,i),this._opts.shape||this,this._opts.attachment)}},r.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},r.prototype.animate=function(t,e,i){e=e||{},n.isFunction(e)&&(i=e,e={});var s=n.extend({},e),r=n.extend({},this._opts);e=n.extend(r,e);var a=this._easing(e.easing),h=this._resolveFromAndTo(t,a,s);this.stop(),this.path.getBoundingClientRect();var l=this._getComputedDashOffset(),p=this._progressToOffset(t),d=this;this._tweenable=new o,this._tweenable.tween({from:n.extend({offset:l},h.from),to:n.extend({offset:p},h.to),duration:e.duration,easing:a,step:function(t){d.path.style.strokeDashoffset=t.offset;var i=e.shape||d;e.step(t,i,e.attachment)},finish:function(t){n.isFunction(i)&&i()}})},r.prototype._getComputedDashOffset=function(){var t=window.getComputedStyle(this.path,null);return parseFloat(t.getPropertyValue("stroke-dashoffset"),10)},r.prototype._progressToOffset=function(t){var e=this.path.getTotalLength();return e-t*e},r.prototype._resolveFromAndTo=function(t,e,i){return i.from&&i.to?{from:i.from,to:i.to}:{from:this._calculateFrom(e),to:this._calculateTo(t,e)}},r.prototype._calculateFrom=function(t){return o.interpolate(this._opts.from,this._opts.to,this.value(),t)},r.prototype._calculateTo=function(t,e){return o.interpolate(this._opts.from,this._opts.to,t,e)},r.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},r.prototype._easing=function(t){return s.hasOwnProperty(t)?s[t]:t},e.exports=r},{"./utils":9,shifty:1}],6:[function(t,e,i){var o=t("./shape"),n=t("./circle"),s=t("./utils"),r=function(t,e){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,o.apply(this,arguments)};(r.prototype=new o).constructor=r,r.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 50")},r.prototype._initializeTextContainer=function(t,e,i){t.text.style&&(i.style.top="auto",i.style.bottom="0",t.text.alignToBottom?s.setStyle(i,"transform","translate(-50%, 0)"):s.setStyle(i,"transform","translate(-50%, 50%)"))},r.prototype._pathString=n.prototype._pathString,r.prototype._trailString=n.prototype._trailString,e.exports=r},{"./circle":2,"./shape":7,"./utils":9}],7:[function(t,e,i){var o=t("./path"),n=t("./utils"),s="Object is destroyed",r=function t(e,i){if(!(this instanceof t))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=n.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},i,!0),n.isObject(i)&&void 0!==i.svgStyle&&(this._opts.svgStyle=i.svgStyle),n.isObject(i)&&n.isObject(i.text)&&void 0!==i.text.style&&(this._opts.text.style=i.text.style);var s,r=this._createSvgView(this._opts);if(!(s=n.isString(e)?document.querySelector(e):e))throw new Error("Container does not exist: "+e);this._container=s,this._container.appendChild(r.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&n.setStyles(r.svg,this._opts.svgStyle),this.svg=r.svg,this.path=r.path,this.trail=r.trail,this.text=null;var a=n.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new o(r.path,a),n.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};r.prototype.animate=function(t,e,i){if(null===this._progressPath)throw new Error(s);this._progressPath.animate(t,e,i)},r.prototype.stop=function(){if(null===this._progressPath)throw new Error(s);void 0!==this._progressPath&&this._progressPath.stop()},r.prototype.destroy=function(){if(null===this._progressPath)throw new Error(s);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},r.prototype.set=function(t){if(null===this._progressPath)throw new Error(s);this._progressPath.set(t)},r.prototype.value=function(){if(null===this._progressPath)throw new Error(s);return void 0===this._progressPath?0:this._progressPath.value()},r.prototype.setText=function(t){if(null===this._progressPath)throw new Error(s);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),n.isObject(t)?(n.removeChildren(this.text),this.text.appendChild(t)):this.text.innerHTML=t},r.prototype._createSvgView=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(e,t);var i=null;(t.trailColor||t.trailWidth)&&(i=this._createTrail(t),e.appendChild(i));var o=this._createPath(t);return e.appendChild(o),{svg:e,path:o,trail:i}},r.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 100")},r.prototype._createPath=function(t){var e=this._pathString(t);return this._createPathElement(e,t)},r.prototype._createTrail=function(t){var e=this._trailString(t),i=n.extend({},t);return i.trailColor||(i.trailColor="#eee"),i.trailWidth||(i.trailWidth=i.strokeWidth),i.color=i.trailColor,i.strokeWidth=i.trailWidth,i.fill=null,this._createPathElement(e,i)},r.prototype._createPathElement=function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",t),i.setAttribute("stroke",e.color),i.setAttribute("stroke-width",e.strokeWidth),e.fill?i.setAttribute("fill",e.fill):i.setAttribute("fill-opacity","0"),i},r.prototype._createTextContainer=function(t,e){var i=document.createElement("div");i.className=t.text.className;var o=t.text.style;return o&&(t.text.autoStyleContainer&&(e.style.position="relative"),n.setStyles(i,o),o.color||(i.style.color=t.color)),this._initializeTextContainer(t,e,i),i},r.prototype._initializeTextContainer=function(t,e,i){},r.prototype._pathString=function(t){throw new Error("Override this function for each progress bar")},r.prototype._trailString=function(t){throw new Error("Override this function for each progress bar")},r.prototype._warnContainerAspectRatio=function(t){if(this.containerAspectRatio){var e=window.getComputedStyle(t,null),i=parseFloat(e.getPropertyValue("width"),10),o=parseFloat(e.getPropertyValue("height"),10);n.floatEquals(this.containerAspectRatio,i/o)||(console.warn("Incorrect aspect ratio of container","#"+t.id,"detected:",e.getPropertyValue("width")+"(width)","/",e.getPropertyValue("height")+"(height)","=",i/o),console.warn("Aspect ratio of should be",this.containerAspectRatio))}},e.exports=r},{"./path":5,"./utils":9}],8:[function(t,e,i){var o=t("./shape"),n=t("./utils"),s=function(t,e){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",o.apply(this,arguments)};(s.prototype=new o).constructor=s,s.prototype._pathString=function(t){var e=100-t.strokeWidth/2;return n.render(this._pathTemplate,{width:e,strokeWidth:t.strokeWidth,halfOfStrokeWidth:t.strokeWidth/2})},s.prototype._trailString=function(t){var e=100-t.strokeWidth/2;return n.render(this._trailTemplate,{width:e,strokeWidth:t.strokeWidth,halfOfStrokeWidth:t.strokeWidth/2,startMargin:t.strokeWidth/2-t.trailWidth/2})},e.exports=s},{"./shape":7,"./utils":9}],9:[function(t,e,i){function o(t,e,i){for(var o=t.style,s=0;s<a.length;++s){o[a[s]+n(e)]=i}o[e]=i}function n(t){return t.charAt(0).toUpperCase()+t.slice(1)}function s(t){return!function(t){return"[object Array]"===Object.prototype.toString.call(t)}(t)&&("object"===typeof t&&!!t)}function r(t,e){for(var i in t)if(t.hasOwnProperty(i)){e(t[i],i)}}var a="Webkit Moz O ms".split(" "),h=.001;e.exports={extend:function t(e,i,o){for(var n in e=e||{},o=o||!1,i=i||{})if(i.hasOwnProperty(n)){var r=e[n],a=i[n];o&&s(r)&&s(a)?e[n]=t(r,a,o):e[n]=a}return e},render:function(t,e){var i=t;for(var o in e)if(e.hasOwnProperty(o)){var n=e[o],s=new RegExp("\\{"+o+"\\}","g");i=i.replace(s,n)}return i},setStyle:o,setStyles:function(t,e){r(e,function(e,i){null!=e&&(s(e)&&!0===e.prefix?o(t,i,e.value):t.style[i]=e)})},capitalize:n,isString:function(t){return"string"==typeof t||t instanceof String},isFunction:function(t){return"function"==typeof t},isObject:s,forEachObject:r,floatEquals:function(t,e){return Math.abs(t-e)<h},removeChildren:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}}},{}]},{},[4])(4)});var __slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,o,n){var s,r,a,h,l,p,d,u,c,f,g,m,v,y,b=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,(s=this.adapter.data(e,"opentips")||[]).push(this),this.adapter.data(e,"opentips",s),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw new Error("You can't call Opentip on multiple elements.");if(this.triggerElement.length<1)throw new Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},n=this.adapter.clone(n),"object"==typeof i?(n=i,i=o=void 0):"object"==typeof o&&(n=o,o=void 0),null!=o&&(n.title=o),null!=i&&this.setContent(i),null==n.extends&&(null!=n.style?n.extends=n.style:n.extends=t.defaultStyle),h=[n],y=n;y.extends;){if(p=y.extends,null==(y=t.styles[p]))throw new Error("Invalid style: "+p);h.unshift(y),null==y.extends&&"standard"!==p&&(y.extends="standard")}for((n=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(h)))).hideTriggers=function(){var t,e,i,o;for(o=[],t=0,e=(i=n.hideTriggers).length;t<e;t++)r=i[t],o.push(r);return o}(),n.hideTrigger&&0===n.hideTriggers.length&&n.hideTriggers.push(n.hideTrigger),d=0,c=(m=["tipJoint","targetJoint","stem"]).length;d<c;d++)n[l=m[d]]&&"string"==typeof n[l]&&(n[l]=new t.Joint(n[l]));for(!n.ajax||!0!==n.ajax&&n.ajax||("A"===this.adapter.tagName(this.triggerElement)?n.ajax=this.adapter.attr(this.triggerElement,"href"):n.ajax=!1),"click"===n.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),n.target&&(n.fixed=!0),!0===n.stem&&(n.stem=new t.Joint(n.tipJoint)),!0===n.target?n.target=this.triggerElement:n.target&&(n.target=this.adapter.wrap(n.target)),this.currentStem=n.stem,null==n.delay&&(n.delay="mouseover"===n.showOn?.2:0),null==n.targetJoint&&(n.targetJoint=new t.Joint(n.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],n.showOn&&"creation"!==n.showOn&&this.showTriggers.push({element:this.triggerElement,event:n.showOn}),null!=n.ajaxCache&&(n.cache=n.ajaxCache,delete n.ajaxCache),this.options=n,this.bound={},u=0,f=(v=["prepareToShow","prepareToHide","show","hide","reposition"]).length;u<f;u++)a=v[u],this.bound[a]=function(t){return function(){return b[t].apply(b,arguments)}}(a);this.adapter.domReady(function(){if(b.activate(),"creation"===b.options.showOn)return b.prepareToShow()})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype.class={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,n,s,r,a,h,l,p;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],o=n=0,r=(h=this.options.hideTriggers).length;n<r;o=++n){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw new Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=[],s=0,a=(l=this.hideTriggers).length;s<a;s++)e=l[s],p.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return p},t.prototype._buildContainer=function(){if(this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this.class.container+" "+this.class.hidden+" "+this.class.stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this.class.loading),this.options.fixed&&this.adapter.addClass(this.container,this.class.fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this.class.showEffectPrefix+this.options.showEffect),this.options.hideEffect)return this.adapter.addClass(this.container,""+this.class.hideEffectPrefix+this.options.hideEffect)},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this.class.opentip+'"><div class="'+this.class.header+'"></div><div class="'+this.class.content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this.class.header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this.class.loadingIndicator+'"><span>↻</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this.class.close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){if(this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible)return this._updateElementContent()},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(null!=(t=this.adapter.find(this.container,"."+this.class.content))&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:this.dimensions.width+"px",top:this.currentPosition.top+"px",left:this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m=this;for(s=0,l=(o=1<=arguments.length?__slice.call(arguments,0):[]).length;s<l;s++)if(i=o[s],e=!1,"-"===i.charAt(0)&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=1<=arguments.length?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case"showing":for(r=0,p=(c=this.hideTriggers).length;r<p;r++)t((n=c[r]).element,n.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(a=0,d=(f=this.showTriggersWhenVisible).length;a<d;a++)t((n=f[a]).element,n.event,this.bound.prepareToShow);break;case"hiding":for(h=0,u=(g=this.showTriggers).length;h<u;h++)t((n=g[h]).element,n.event,this.bound.prepareToShow);break;case"hidden":break;default:throw new Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){if(this._abortHiding(),this._abortShowing(),!this.visible)return this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0)},t.prototype.show=function(){var e=this;if(this._abortHiding(),!this.visible)return this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this.class.hiding),this.adapter.removeClass(this.container,this.class.hidden),this.adapter.addClass(this.container,this.class.goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e.class.goingToShow),e.adapter.addClass(e.container,e.class.showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e.class.showing),e.adapter.addClass(e.container,e.class.visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate()},t.prototype._abortShowing=function(){if(this.preparingToShow)return this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")},t.prototype.prepareToHide=function(){if(this._abortShowing(),this._abortHiding(),this.visible)return this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)},t.prototype.hide=function(){var t=this;if(this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container))return this.adapter.removeClass(this.container,this.class.visible),this.adapter.removeClass(this.container,this.class.showing),this.adapter.addClass(this.container,this.class.goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t.class.goingToHide),t.adapter.addClass(t.container,t.class.hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){if(t.adapter.removeClass(t.container,t.class.hiding),t.adapter.addClass(t.container,t.class.hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide)return t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement},e)})},t.prototype._abortHiding=function(){if(this.preparingToHide)return this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")},t.prototype.reposition=function(){var t,e,i,o=this;if(null!=(t=this.getPosition())&&(e=this.options.stem,this.options.containInViewport&&(t=(i=this._ensureViewportContainment(t)).position,e=i.stem),!this._positionsEqual(t,this.currentPosition)))return this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:t.left+"px",top:t.top+"px"}),this.defer(function(){var t;return(t=o.adapter.unwrap(o.container)).style.visibility="hidden",t.offsetHeight,t.style.visibility="visible"})},t.prototype.getPosition=function(t,e,i){var o,n,s,r,a,h,l,p,d;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),r={},this.options.target?(l=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=l,e.right?null!=(p=this.adapter.unwrap(this.options.target)).getBoundingClientRect?r.left=p.getBoundingClientRect().right+(null!=(d=window.pageXOffset)?d:document.body.scrollLeft):r.left+=h.width:e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(s=(a=this.options.stem?this.options.stemLength:0)&&this.options.fixed?2:10,o=t.middle&&!this.options.fixed?15:0,n=t.center&&!this.options.fixed?15:0,t.right?r.left-=s+o:t.left&&(r.left+=s+o),t.bottom?r.top-=s+n:t.top&&(r.top+=s+n),a&&(null==i&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,n,s,r,a,h,l,p,d,u;if(n={position:e,stem:h=this.options.stem},!this.visible||!e)return n;if(!(l=this._sticksOut(e))[0]&&!l[1])return n;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(p=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),[e.left-a[0],e.top-a[1]],i=!1,u.width>=this.dimensions.width&&l[0])switch(i=!0,l[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&p.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&p.setHorizontal("left")}if(u.height>=this.dimensions.height&&l[1])switch(i=!0,l[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&p.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&p.setVertical("top")}return i?(this.options.stem&&(h=d),e=this.getPosition(d,p,h),s=!1,r=!1,(o=this._sticksOut(e))[0]&&o[0]!==l[0]&&(s=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&p.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==l[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&p.setVertical(this.options.targetJoint.vertical)),s&&r?n:((s||r)&&(this.options.stem&&(h=d),e=this.getPosition(d,p,h)),{position:e,stem:h})):n},t.prototype._sticksOut=function(t){var e,i,o,n;return i=this.adapter.scrollOffset(),n=this.adapter.viewportDimensions(),o=[!1,!1],(e=[t.left-i[0],t.top-i[1]])[0]<0?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>n.width&&(o[0]=this.STICKS_OUT_RIGHT),e[1]<0?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>n.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m,v,y,b,_=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(g=0,m=(v=["top","right","bottom","left"]).length;g<m;g++)u=v[g],this.adapter.removeClass(this.container,"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(s=new t.Joint("top right"===(null!=(y=this.currentStem)?y.toString():void 0)?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),n=[0,0],this.options.borderWidth&&(o.width+=2*this.options.borderWidth,o.height+=2*this.options.borderWidth,n[0]-=this.options.borderWidth,n[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=2*this.options.shadowBlur,o.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),o.height+=2*this.options.shadowBlur,o.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),n[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),n[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),s&&(s.left?i.left=Math.max(i.left,a[0]):s.right&&(i.right=Math.max(i.right,a[0])),s.top?i.top=Math.max(i.top,a[1]):s.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,n[0]-=i.left,n[1]-=i.top,this.currentStem&&this.options.borderWidth&&(b=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=b.stemLength,c=b.stemBase),(e=this.adapter.unwrap(this.backgroundCanvas)).width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:e.width+"px",height:e.height+"px",left:n[0]+"px",top:n[1]+"px"}),(h=e.getContext("2d")).setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(f=this.options.stemLength,c=this.options.stemBase),null==c&&(c=0),p=function(t,e,i){if(i&&h.moveTo(Math.max(c,_.options.borderRadius,r[0])+1-d,-d),e)return h.lineTo(t/2-c/2,-d),h.lineTo(t/2,-f-d),h.lineTo(t/2+c/2,-d)},l=function(t,e,i){var o,n,s,a;return t?(h.lineTo(-c+d,0-d),h.lineTo(f+d,-f-d),h.lineTo(d,c-d)):e?(a=_.options.closeButtonOffset,s=r[0],i%2!=0&&(a=[a[1],a[0]],s=r[1]),o=Math.acos(a[1]/_.options.closeButtonRadius),n=Math.acos(a[0]/_.options.closeButtonRadius),h.lineTo(-s+d,-d),h.arc(d-a[0],-d+a[1],_.options.closeButtonRadius,-(Math.PI/2+o),n,!1)):(h.lineTo(-_.options.borderRadius+d,-d),h.quadraticCurveTo(d,-d,d,_.options.borderRadius-d))},h.translate(-n[0],-n[1]),h.save(),function(){var e,i,o,n,r,a,d,u,c,f,g;for(g=[],i=c=0,f=t.positions.length/2;0<=f?c<f:c>f;i=0<=f?++c:--c)r=2*i,a=0===i||3===i?0:_.dimensions.width,d=i<2?0:_.dimensions.height,u=Math.PI/2*i,o=i%2==0?_.dimensions.width:_.dimensions.height,n=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,d),h.rotate(u),p(o,n.eql(_.currentStem),0===i),h.translate(o,0),l(e.eql(_.currentStem),e.eql(s),i),g.push(h.restore())}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),s?(_.options.closeButtonRadius,w="top right"===s.toString()?[(x=[_.dimensions.width-_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]+d,x[1]-d]:[(x=[_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]-d,x[1]-d],h.translate(w[0],w[1]),C=_.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=_.options.closeButtonCrossColor,h.lineWidth=_.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-C,-C),h.lineTo(C,C),h.stroke(),h.beginPath(),h.moveTo(C,-C),h.lineTo(-C,C),h.stroke(),h.restore(),_.adapter.css(_.closeButtonElement,{left:x[0]-C-_.options.closeButtonLinkOverscan+"px",top:x[1]-C-_.options.closeButtonLinkOverscan+"px",width:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px",height:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px"})):void 0;var w,C,x}},t.prototype._getPathStemMeasures=function(t,e,i){var o,n,s,r;if(s=i/2,o=2*(n=Math.atan(t/2/e)),(r=s+e-2*(s/Math.sin(o))*Math.cos(n))<0)throw new Error("Sorry but your stemLength / stemBase ratio is strange.");return{stemLength:r,stemBase:Math.tan(n)*r*2}},t.prototype._getColor=function(t,e,i,o){var n,s,r,a,h;if(null==o&&(o=!1),"string"==typeof i)return i;for(s=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;a<h;r=++a)n=i[r],s.addColorStop(n[0],n[1]);return s},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(e=0,i=(o=this.adapter.findAll(this.container,"."+this.class.close)).length;e<i;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});if(this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible)return this._setupObservers("-visible","visible")},t.prototype._activateFirstInput=function(){var t;return null!=(t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")))&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){if(!this.options.fixed)return t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){if(!this.options.fixed)return t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this.class.loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t.class.loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t.class.ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t.class.loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){if(!this._triggerElementExists())return this.deactivate(),this._stopEnsureTriggerElement()},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,n,s,r;for(i in t=this.adapter.unwrap(t),r=[],e)__hasProp.call(e,i)&&(o=e[i],null!=t.style[i]?r.push(t.style[i]=o):r.push(function(){var e,r,a;for(a=[],e=0,r=vendors.length;e<r;e++)n=vendors[e],s=""+this.ucfirst(n)+this.ucfirst(i),null!=t.style[s]?a.push(t.style[s]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,n;for(mousePosition=Opentip.adapter.mousePosition(t),n=[],i=0,o=mousePositionObservers.length;i<o;i++)e=mousePositionObservers[i],n.push(e());return n},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,o,n;for(n=[],i=0,o=mousePositionObservers.length;i<o;i++)(e=mousePositionObservers[i])!==t&&n.push(e);return n}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t=t.toString()),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["left","center","right"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["top","middle","bottom"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t;return t=(Opentip.position[this.toString(!0)]+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return null==t&&(t=!1),i="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;if(t=1<=arguments.length?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0))return t.unshift("#"+this.id+" |"),console.debug.apply(console,t)},Opentip.findElements=function(){var t,e,i,o,n,s,r,a,h,l;for(l=[],r=0,a=(h=(t=Opentip.adapter).findAll(document.body,"[data-ot]")).length;r<a;r++){for(o in i=h[r],s={},""!==(e=t.data(i,"ot"))&&"true"!==e&&"yes"!==e||(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"",Opentip.styles.standard)null!=(n=t.data(i,"ot"+Opentip.prototype.ucfirst(o)))&&("yes"===n||"true"===n||"on"===n?n=!0:"no"!==n&&"false"!==n&&"off"!==n||(n=!1),s[o]=n);l.push(new Opentip(i,e,s))}return l},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){if(Opentip.adapters[t.name]=t,firstAdapter)return Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},i=_i=0,_len=(_ref=Opentip.positions).length;_i<_len;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{extends:null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{extends:"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{extends:"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{extends:"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;__slice=[].slice;!function(t){var e;t.fn.opentip=function(t,e,i){return new Opentip(this,t,e,i)},e=function(){function e(){}return e.prototype.name="jquery",e.prototype.domReady=function(e){return t(e)},e.prototype.create=function(e){return t(e)},e.prototype.wrap=function(e){if((e=t(e)).length>1)throw new Error("Multiple elements provided.");return e},e.prototype.unwrap=function(e){return t(e)[0]},e.prototype.tagName=function(t){return this.unwrap(t).tagName},e.prototype.attr=function(){var e,i,o;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],(o=t(i)).attr.apply(o,e)},e.prototype.data=function(){var e,i,o;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],(o=t(i)).data.apply(o,e)},e.prototype.find=function(e,i){return t(e).find(i).get(0)},e.prototype.findAll=function(e,i){return t(e).find(i)},e.prototype.update=function(e,i,o){return e=t(e),o?e.text(i):e.html(i)},e.prototype.append=function(e,i){return t(e).append(i)},e.prototype.remove=function(e){return t(e).remove()},e.prototype.addClass=function(e,i){return t(e).addClass(i)},e.prototype.removeClass=function(e,i){return t(e).removeClass(i)},e.prototype.css=function(e,i){return t(e).css(i)},e.prototype.dimensions=function(e){return{width:t(e).outerWidth(),height:t(e).outerHeight()}},e.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},e.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},e.prototype.mousePosition=function(t){return null==t?null:{x:t.pageX,y:t.pageY}},e.prototype.offset=function(e){var i;return{left:(i=t(e).offset()).left,top:i.top}},e.prototype.observe=function(e,i,o){return t(e).bind(i,o)},e.prototype.stopObserving=function(e,i,o){return t(e).unbind(i,o)},e.prototype.ajax=function(e){var i,o;if(null==e.url)throw new Error("No url provided");return t.ajax({url:e.url,type:null!=(i=null!=(o=e.method)?o.toUpperCase():void 0)?i:"GET"}).done(function(t){return"function"==typeof e.onSuccess?e.onSuccess(t):void 0}).fail(function(t){return"function"==typeof e.onError?e.onError("Server responded with status "+t.status):void 0}).always(function(){return"function"==typeof e.onComplete?e.onComplete():void 0})},e.prototype.clone=function(e){return t.extend({},e)},e.prototype.extend=function(){var e,i;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],t.extend.apply(t,[i].concat(__slice.call(e)))},e}(),Opentip.addAdapter(new e)}(jQuery),document.createElement("canvas").getContext||function(){var t=Math,e=t.round,i=t.sin,o=t.cos,n=t.abs,s=t.sqrt,r=10,a=r/2;function h(){return this.context_||(this.context_=new b(this))}var l=Array.prototype.slice;var p={init:function(t){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var e=t||document;e.createElement("canvas"),e.attachEvent("onreadystatechange",function(t,e,i){var o=l.call(arguments,2);return function(){return t.apply(e,o.concat(l.call(arguments)))}}(this.init_,this,e))}},init_:function(t){if(t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}for(var i=t.getElementsByTagName("canvas"),o=0;o<i.length;o++)this.initElement(i[o])},initElement:function(t){if(!t.getContext){t.getContext=h,t.innerHTML="",t.attachEvent("onpropertychange",d),t.attachEvent("onresize",u);var e=t.attributes;e.width&&e.width.specified?t.style.width=e.width.nodeValue+"px":t.width=t.clientWidth,e.height&&e.height.specified?t.style.height=e.height.nodeValue+"px":t.height=t.clientHeight}return t}};function d(t){var e=t.srcElement;switch(t.propertyName){case"width":e.style.width=e.attributes.width.nodeValue+"px",e.getContext().clearRect();break;case"height":e.style.height=e.attributes.height.nodeValue+"px",e.getContext().clearRect()}}function u(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}p.init();for(var c=[],f=0;f<16;f++)for(var g=0;g<16;g++)c[16*f+g]=f.toString(16)+g.toString(16);function m(t,e){for(var i=[[1,0,0],[0,1,0],[0,0,1]],o=0;o<3;o++)for(var n=0;n<3;n++){for(var s=0,r=0;r<3;r++)s+=t[o][r]*e[r][n];i[o][n]=s}return i}function v(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function y(t){var e,i=1;if("rgb"==(t=String(t)).substring(0,3)){var o=t.indexOf("(",3),n=t.indexOf(")",o+1),s=t.substring(o+1,n).split(",");e="#";for(var r=0;r<3;r++)e+=c[Number(s[r])];4==s.length&&"a"==t.substr(3,1)&&(i=s[3])}else e=t;return{color:e,alpha:i}}function b(t){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*r,this.globalAlpha=1,this.canvas=t;var e=t.ownerDocument.createElement("div");e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",e.style.position="absolute",t.appendChild(e),this.element_=e,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}var _=b.prototype;function w(t,e,i,o){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:o.x,y:o.y}),t.currentX_=o.x,t.currentY_=o.y}function C(t,e,i){if(function(t){for(var e=0;e<3;e++)for(var i=0;i<2;i++)if(!isFinite(t[e][i])||isNaN(t[e][i]))return!1;return!0}(e)&&(t.m_=e,i)){var o=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=s(n(o))}}function x(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function T(){}_.clearRect=function(){this.element_.innerHTML=""},_.beginPath=function(){this.currentPath_=[]},_.moveTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},_.lineTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},_.bezierCurveTo=function(t,e,i,o,n,s){var r=this.getCoords_(n,s);w(this,this.getCoords_(t,e),this.getCoords_(i,o),r)},_.quadraticCurveTo=function(t,e,i,o){var n=this.getCoords_(t,e),s=this.getCoords_(i,o),r={x:this.currentX_+2/3*(n.x-this.currentX_),y:this.currentY_+2/3*(n.y-this.currentY_)};w(this,r,{x:r.x+(s.x-this.currentX_)/3,y:r.y+(s.y-this.currentY_)/3},s)},_.arc=function(t,e,n,s,h,l){n*=r;var p=l?"at":"wa",d=t+o(s)*n-a,u=e+i(s)*n-a,c=t+o(h)*n-a,f=e+i(h)*n-a;d!=c||l||(d+=.125);var g=this.getCoords_(t,e),m=this.getCoords_(d,u),v=this.getCoords_(c,f);this.currentPath_.push({type:p,x:g.x,y:g.y,radius:n,xStart:m.x,yStart:m.y,xEnd:v.x,yEnd:v.y})},_.rect=function(t,e,i,o){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath()},_.strokeRect=function(t,e,i,o){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath(),this.stroke(),this.currentPath_=n},_.fillRect=function(t,e,i,o){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath(),this.fill(),this.currentPath_=n},_.createLinearGradient=function(t,e,i,o){var n=new x("gradient");return n.x0_=t,n.y0_=e,n.x1_=i,n.y1_=o,n},_.createRadialGradient=function(t,e,i,o,n,s){var r=new x("gradientradial");return r.x0_=t,r.y0_=e,r.r0_=i,r.x1_=o,r.y1_=n,r.r1_=s,r},_.drawImage=function(i,o){var n,s,a,h,l,p,d,u,c=i.runtimeStyle.width,f=i.runtimeStyle.height;i.runtimeStyle.width="auto",i.runtimeStyle.height="auto";var g=i.width,m=i.height;if(i.runtimeStyle.width=c,i.runtimeStyle.height=f,3==arguments.length)n=arguments[1],s=arguments[2],l=p=0,d=a=g,u=h=m;else if(5==arguments.length)n=arguments[1],s=arguments[2],a=arguments[3],h=arguments[4],l=p=0,d=g,u=m;else{if(9!=arguments.length)throw Error("Invalid number of arguments");l=arguments[1],p=arguments[2],d=arguments[3],u=arguments[4],n=arguments[5],s=arguments[6],a=arguments[7],h=arguments[8]}var v=this.getCoords_(n,s),y=[];if(y.push(" <g_vml_:group",' coordsize="',10*r,",",10*r,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]){var b=[];b.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",e(v.x/r),",","Dy=",e(v.y/r),"");var _=v,w=this.getCoords_(n+a,s),C=this.getCoords_(n,s+h),x=this.getCoords_(n+a,s+h);_.x=t.max(_.x,w.x,C.x,x.x),_.y=t.max(_.y,w.y,C.y,x.y),y.push("padding:0 ",e(_.x/r),"px ",e(_.y/r),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",b.join(""),", sizingmethod='clip');")}else y.push("top:",e(v.y/r),"px;left:",e(v.x/r),"px;");y.push(' ">','<g_vml_:image src="',i.src,'"',' style="width:',r*a,"px;"," height:",r*h,'px;"',' cropleft="',l/g,'"',' croptop="',p/m,'"',' cropright="',(g-l-d)/g,'"',' cropbottom="',(m-p-u)/m,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",y.join(""))},_.stroke=function(i){var o=[],n=y(i?this.fillStyle:this.strokeStyle),s=n.color,a=n.alpha*this.globalAlpha;o.push("<g_vml_:shape",' filled="',!!i,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0 0" coordsize="',10*r," ",10*r,'"',' stroked="',!i,'"',' path="');for(var h={x:null,y:null},l={x:null,y:null},p=0;p<this.currentPath_.length;p++){var d=this.currentPath_[p];switch(d.type){case"moveTo":d,o.push(" m ",e(d.x),",",e(d.y));break;case"lineTo":o.push(" l ",e(d.x),",",e(d.y));break;case"close":o.push(" x "),d=null;break;case"bezierCurveTo":o.push(" c ",e(d.cp1x),",",e(d.cp1y),",",e(d.cp2x),",",e(d.cp2y),",",e(d.x),",",e(d.y));break;case"at":case"wa":o.push(" ",d.type," ",e(d.x-this.arcScaleX_*d.radius),",",e(d.y-this.arcScaleY_*d.radius)," ",e(d.x+this.arcScaleX_*d.radius),",",e(d.y+this.arcScaleY_*d.radius)," ",e(d.xStart),",",e(d.yStart)," ",e(d.xEnd),",",e(d.yEnd))}d&&((null==h.x||d.x<h.x)&&(h.x=d.x),(null==l.x||d.x>l.x)&&(l.x=d.x),(null==h.y||d.y<h.y)&&(h.y=d.y),(null==l.y||d.y>l.y)&&(l.y=d.y))}if(o.push(' ">'),i)if("object"==typeof this.fillStyle){var u=this.fillStyle,c=0,f={x:0,y:0},g=0,m=1;if("gradient"==u.type_){var v=u.x0_/this.arcScaleX_,b=u.y0_/this.arcScaleY_,_=u.x1_/this.arcScaleX_,w=u.y1_/this.arcScaleY_,C=this.getCoords_(v,b),x=this.getCoords_(_,w),T=x.x-C.x,O=x.y-C.y;(c=180*Math.atan2(T,O)/Math.PI)<0&&(c+=360),c<1e-6&&(c=0)}else{C=this.getCoords_(u.x0_,u.y0_);var S=l.x-h.x,E=l.y-h.y;f={x:(C.x-h.x)/S,y:(C.y-h.y)/E},S/=this.arcScaleX_*r,E/=this.arcScaleY_*r;var k=t.max(S,E);g=2*u.r0_/k,m=2*u.r1_/k-g}var P=u.colors_;P.sort(function(t,e){return t.offset-e.offset});var j=P.length,B=P[0].color,M=P[j-1].color,I=P[0].alpha*this.globalAlpha,A=P[j-1].alpha*this.globalAlpha,L=[];for(p=0;p<j;p++){var H=P[p];L.push(H.offset*m+g+" "+H.color)}o.push('<g_vml_:fill type="',u.type_,'"',' method="none" focus="100%"',' color="',B,'"',' color2="',M,'"',' colors="',L.join(","),'"',' opacity="',A,'"',' g_o_:opacity2="',I,'"',' angle="',c,'"',' focusposition="',f.x,",",f.y,'" />')}else o.push('<g_vml_:fill color="',s,'" opacity="',a,'" />');else{var z=this.lineScale_*this.lineWidth;z<1&&(a*=z),o.push("<g_vml_:stroke",' opacity="',a,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',function(t){switch(t){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}(this.lineCap),'"',' weight="',z,'px"',' color="',s,'" />')}o.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",o.join(""))},_.fill=function(){this.stroke(!0)},_.closePath=function(){this.currentPath_.push({type:"close"})},_.getCoords_=function(t,e){var i=this.m_;return{x:r*(t*i[0][0]+e*i[1][0]+i[2][0])-a,y:r*(t*i[0][1]+e*i[1][1]+i[2][1])-a}},_.save=function(){var t={};v(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=m([[1,0,0],[0,1,0],[0,0,1]],this.m_)},_.restore=function(){v(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},_.translate=function(t,e){C(this,m([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},_.rotate=function(t){var e=o(t),n=i(t);C(this,m([[e,n,0],[-n,e,0],[0,0,1]],this.m_),!1)},_.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,C(this,m([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},_.transform=function(t,e,i,o,n,s){C(this,m([[t,e,0],[i,o,0],[n,s,1]],this.m_),!0)},_.setTransform=function(t,e,i,o,n,s){C(this,[[t,e,0],[i,o,0],[n,s,1]],!0)},_.clip=function(){},_.arcTo=function(){},_.createPattern=function(){return new T},x.prototype.addColorStop=function(t,e){e=y(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},G_vmlCanvasManager=p,CanvasRenderingContext2D=b,CanvasGradient=x,CanvasPattern=T}();__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,o,n){var s,r,a,h,l,p,d,u,c,f,g,m,v,y,b=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,(s=this.adapter.data(e,"opentips")||[]).push(this),this.adapter.data(e,"opentips",s),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw Error("You can't call Opentip on multiple elements.");if(1>this.triggerElement.length)throw Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},n=this.adapter.clone(n),"object"==typeof i?(n=i,i=o=void 0):"object"==typeof o&&(n=o,o=void 0),null!=o&&(n.title=o),null!=i&&this.setContent(i),null==n.extends&&(n.extends=null!=n.style?n.style:t.defaultStyle),h=[n],y=n;y.extends;){if(p=y.extends,null==(y=t.styles[p]))throw Error("Invalid style: "+p);h.unshift(y),null==y.extends&&"standard"!==p&&(y.extends="standard")}for((n=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(h)))).hideTriggers=function(){var t,e,i,o;for(o=[],t=0,e=(i=n.hideTriggers).length;e>t;t++)r=i[t],o.push(r);return o}(),n.hideTrigger&&0===n.hideTriggers.length&&n.hideTriggers.push(n.hideTrigger),d=0,c=(m=["tipJoint","targetJoint","stem"]).length;c>d;d++)n[l=m[d]]&&"string"==typeof n[l]&&(n[l]=new t.Joint(n[l]));for(!n.ajax||!0!==n.ajax&&n.ajax||(n.ajax="A"===this.adapter.tagName(this.triggerElement)&&this.adapter.attr(this.triggerElement,"href")),"click"===n.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),n.target&&(n.fixed=!0),!0===n.stem&&(n.stem=new t.Joint(n.tipJoint)),!0===n.target?n.target=this.triggerElement:n.target&&(n.target=this.adapter.wrap(n.target)),this.currentStem=n.stem,null==n.delay&&(n.delay="mouseover"===n.showOn?.2:0),null==n.targetJoint&&(n.targetJoint=new t.Joint(n.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],n.showOn&&"creation"!==n.showOn&&this.showTriggers.push({element:this.triggerElement,event:n.showOn}),null!=n.ajaxCache&&(n.cache=n.ajaxCache,delete n.ajaxCache),this.options=n,this.bound={},u=0,f=(v=["prepareToShow","prepareToHide","show","hide","reposition"]).length;f>u;u++)a=v[u],this.bound[a]=function(t){return function(){return b[t].apply(b,arguments)}}(a);this.adapter.domReady(function(){return b.activate(),"creation"===b.options.showOn?b.prepareToShow():void 0})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype.class={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,n,s,r,a,h,l,p;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],o=n=0,r=(h=this.options.hideTriggers).length;r>n;o=++n){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=[],s=0,a=(l=this.hideTriggers).length;a>s;s++)e=l[s],p.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return p},t.prototype._buildContainer=function(){return this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this.class.container+" "+this.class.hidden+" "+this.class.stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this.class.loading),this.options.fixed&&this.adapter.addClass(this.container,this.class.fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this.class.showEffectPrefix+this.options.showEffect),this.options.hideEffect?this.adapter.addClass(this.container,""+this.class.hideEffectPrefix+this.options.hideEffect):void 0},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this.class.opentip+'"><div class="'+this.class.header+'"></div><div class="'+this.class.content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this.class.header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this.class.loadingIndicator+'"><span>↻</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this.class.close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){return this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible?this._updateElementContent():void 0},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(null!=(t=this.adapter.find(this.container,"."+this.class.content))&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:this.dimensions.width+"px",top:this.currentPosition.top+"px",left:this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m=this;for(s=0,l=(o=arguments.length>=1?__slice.call(arguments,0):[]).length;l>s;s++)if(i=o[s],e=!1,"-"===i.charAt(0)&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=arguments.length>=1?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case"showing":for(r=0,p=(c=this.hideTriggers).length;p>r;r++)t((n=c[r]).element,n.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(a=0,d=(f=this.showTriggersWhenVisible).length;d>a;a++)t((n=f[a]).element,n.event,this.bound.prepareToShow);break;case"hiding":for(h=0,u=(g=this.showTriggers).length;u>h;h++)t((n=g[h]).element,n.event,this.bound.prepareToShow);break;case"hidden":break;default:throw Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){return this._abortHiding(),this._abortShowing(),this.visible?void 0:(this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0))},t.prototype.show=function(){var e=this;return this._abortHiding(),this.visible?void 0:(this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this.class.hiding),this.adapter.removeClass(this.container,this.class.hidden),this.adapter.addClass(this.container,this.class.goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e.class.goingToShow),e.adapter.addClass(e.container,e.class.showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e.class.showing),e.adapter.addClass(e.container,e.class.visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate())},t.prototype._abortShowing=function(){return this.preparingToShow?(this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")):void 0},t.prototype.prepareToHide=function(){return this._abortShowing(),this._abortHiding(),this.visible?(this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)):void 0},t.prototype.hide=function(){var t=this;return this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container)?(this.adapter.removeClass(this.container,this.class.visible),this.adapter.removeClass(this.container,this.class.showing),this.adapter.addClass(this.container,this.class.goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t.class.goingToHide),t.adapter.addClass(t.container,t.class.hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){return t.adapter.removeClass(t.container,t.class.hiding),t.adapter.addClass(t.container,t.class.hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide?(t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement):void 0},e)})):void 0},t.prototype._abortHiding=function(){return this.preparingToHide?(this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")):void 0},t.prototype.reposition=function(){var t,e,i,o=this;return null==(t=this.getPosition())||(e=this.options.stem,this.options.containInViewport&&(t=(i=this._ensureViewportContainment(t)).position,e=i.stem),this._positionsEqual(t,this.currentPosition))?void 0:(this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:t.left+"px",top:t.top+"px"}),this.defer(function(){var t;return(t=o.adapter.unwrap(o.container)).style.visibility="hidden",t.offsetHeight,t.style.visibility="visible"}))},t.prototype.getPosition=function(t,e,i){var o,n,s,r,a,h,l,p,d;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),r={},this.options.target?(l=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=l,e.right?null!=(p=this.adapter.unwrap(this.options.target)).getBoundingClientRect?r.left=p.getBoundingClientRect().right+(null!=(d=window.pageXOffset)?d:document.body.scrollLeft):r.left+=h.width:e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(s=(a=this.options.stem?this.options.stemLength:0)&&this.options.fixed?2:10,o=t.middle&&!this.options.fixed?15:0,n=t.center&&!this.options.fixed?15:0,t.right?r.left-=s+o:t.left&&(r.left+=s+o),t.bottom?r.top-=s+n:t.top&&(r.top+=s+n),a&&(null==i&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,n,s,r,a,h,l,p,d,u;if(n={position:e,stem:h=this.options.stem},!this.visible||!e)return n;if(!(l=this._sticksOut(e))[0]&&!l[1])return n;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(p=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),[e.left-a[0],e.top-a[1]],i=!1,u.width>=this.dimensions.width&&l[0])switch(i=!0,l[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&p.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&p.setHorizontal("left")}if(u.height>=this.dimensions.height&&l[1])switch(i=!0,l[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&p.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&p.setVertical("top")}return i?(this.options.stem&&(h=d),e=this.getPosition(d,p,h),s=!1,r=!1,(o=this._sticksOut(e))[0]&&o[0]!==l[0]&&(s=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&p.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==l[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&p.setVertical(this.options.targetJoint.vertical)),s&&r?n:((s||r)&&(this.options.stem&&(h=d),e=this.getPosition(d,p,h)),{position:e,stem:h})):n},t.prototype._sticksOut=function(t){var e,i,o,n;return i=this.adapter.scrollOffset(),n=this.adapter.viewportDimensions(),o=[!1,!1],0>(e=[t.left-i[0],t.top-i[1]])[0]?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>n.width&&(o[0]=this.STICKS_OUT_RIGHT),0>e[1]?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>n.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m,v,y,b,_=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(g=0,m=(v=["top","right","bottom","left"]).length;m>g;g++)u=v[g],this.adapter.removeClass(this.container,"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(s=new t.Joint("top right"===(null!=(y=this.currentStem)?y+"":void 0)?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),n=[0,0],this.options.borderWidth&&(o.width+=2*this.options.borderWidth,o.height+=2*this.options.borderWidth,n[0]-=this.options.borderWidth,n[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=2*this.options.shadowBlur,o.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),o.height+=2*this.options.shadowBlur,o.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),n[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),n[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),s&&(s.left?i.left=Math.max(i.left,a[0]):s.right&&(i.right=Math.max(i.right,a[0])),s.top?i.top=Math.max(i.top,a[1]):s.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,n[0]-=i.left,n[1]-=i.top,this.currentStem&&this.options.borderWidth&&(b=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=b.stemLength,c=b.stemBase),(e=this.adapter.unwrap(this.backgroundCanvas)).width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:e.width+"px",height:e.height+"px",left:n[0]+"px",top:n[1]+"px"}),(h=e.getContext("2d")).setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(f=this.options.stemLength,c=this.options.stemBase),null==c&&(c=0),p=function(t,e,i){return i&&h.moveTo(Math.max(c,_.options.borderRadius,r[0])+1-d,-d),e?(h.lineTo(t/2-c/2,-d),h.lineTo(t/2,-f-d),h.lineTo(t/2+c/2,-d)):void 0},l=function(t,e,i){var o,n,s,a;return t?(h.lineTo(-c+d,0-d),h.lineTo(f+d,-f-d),h.lineTo(d,c-d)):e?(a=_.options.closeButtonOffset,s=r[0],i%2!=0&&(a=[a[1],a[0]],s=r[1]),o=Math.acos(a[1]/_.options.closeButtonRadius),n=Math.acos(a[0]/_.options.closeButtonRadius),h.lineTo(-s+d,-d),h.arc(d-a[0],-d+a[1],_.options.closeButtonRadius,-(Math.PI/2+o),n,!1)):(h.lineTo(-_.options.borderRadius+d,-d),h.quadraticCurveTo(d,-d,d,_.options.borderRadius-d))},h.translate(-n[0],-n[1]),h.save(),function(){var e,i,o,n,r,a,d,u,c,f,g;for(g=[],i=c=0,f=t.positions.length/2;f>=0?f>c:c>f;i=f>=0?++c:--c)r=2*i,a=0===i||3===i?0:_.dimensions.width,d=2>i?0:_.dimensions.height,u=Math.PI/2*i,o=i%2==0?_.dimensions.width:_.dimensions.height,n=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,d),h.rotate(u),p(o,n.eql(_.currentStem),0===i),h.translate(o,0),l(e.eql(_.currentStem),e.eql(s),i),g.push(h.restore())}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),s?function(){var t,e,i;return 2*_.options.closeButtonRadius,s+""=="top right"?t=[(i=[_.dimensions.width-_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]+d,i[1]-d]:t=[(i=[_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]-d,i[1]-d],h.translate(t[0],t[1]),e=_.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=_.options.closeButtonCrossColor,h.lineWidth=_.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-e,-e),h.lineTo(e,e),h.stroke(),h.beginPath(),h.moveTo(e,-e),h.lineTo(-e,e),h.stroke(),h.restore(),_.adapter.css(_.closeButtonElement,{left:i[0]-e-_.options.closeButtonLinkOverscan+"px",top:i[1]-e-_.options.closeButtonLinkOverscan+"px",width:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px",height:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px"})}():void 0}},t.prototype._getPathStemMeasures=function(t,e,i){var o,n,s,r;if(s=i/2,o=2*(n=Math.atan(t/2/e)),0>(r=s+e-2*(s/Math.sin(o))*Math.cos(n)))throw Error("Sorry but your stemLength / stemBase ratio is strange.");return{stemLength:r,stemBase:Math.tan(n)*r*2}},t.prototype._getColor=function(t,e,i,o){var n,s,r,a,h;if(null==o&&(o=!1),"string"==typeof i)return i;for(s=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;h>a;r=++a)n=i[r],s.addColorStop(n[0],n[1]);return s},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(e=0,i=(o=this.adapter.findAll(this.container,"."+this.class.close)).length;i>e;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});return this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible?this._setupObservers("-visible","visible"):void 0},t.prototype._activateFirstInput=function(){var t;return null!=(t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")))&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){return this.options.fixed?void 0:t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){return this.options.fixed?void 0:t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this.class.loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t.class.loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t.class.ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t.class.loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){return this._triggerElementExists()?void 0:(this.deactivate(),this._stopEnsureTriggerElement())},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,n,s,r;for(i in t=this.adapter.unwrap(t),r=[],e)__hasProp.call(e,i)&&(o=e[i],null!=t.style[i]?r.push(t.style[i]=o):r.push(function(){var e,r,a;for(a=[],e=0,r=vendors.length;r>e;e++)n=vendors[e],s=""+this.ucfirst(n)+this.ucfirst(i),null!=t.style[s]?a.push(t.style[s]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,n;for(mousePosition=Opentip.adapter.mousePosition(t),n=[],i=0,o=mousePositionObservers.length;o>i;i++)e=mousePositionObservers[i],n.push(e());return n},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,o,n;for(n=[],i=0,o=mousePositionObservers.length;o>i;i++)(e=mousePositionObservers[i])!==t&&n.push(e);return n}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t+=""),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["left","center","right"]).length;s>o;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],n=0,r=i.length;r>n;n++)e=i[n],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["top","middle","bottom"]).length;s>o;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],n=0,r=i.length;r>n;n++)e=i[n],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t;return t=(Opentip.position[this.toString(!0)]+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return null==t&&(t=!1),i="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;return t=arguments.length>=1?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0)?(t.unshift("#"+this.id+" |"),console.debug.apply(console,t)):void 0},Opentip.findElements=function(){var t,e,i,o,n,s,r,a,h,l;for(l=[],r=0,a=(h=(t=Opentip.adapter).findAll(document.body,"[data-ot]")).length;a>r;r++){for(o in i=h[r],s={},(""===(e=t.data(i,"ot"))||"true"===e||"yes"===e)&&(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"",Opentip.styles.standard)null!=(n=t.data(i,"ot"+Opentip.prototype.ucfirst(o)))&&("yes"===n||"true"===n||"on"===n?n=!0:("no"===n||"false"===n||"off"===n)&&(n=!1),s[o]=n);l.push(new Opentip(i,e,s))}return l},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;n>o;o++)(i=s[o])!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;n>o;o++)(i=s[o])!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){return Opentip.adapters[t.name]=t,firstAdapter?(Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1):void 0},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},i=_i=0,_len=(_ref=Opentip.positions).length;_len>_i;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{extends:null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{extends:"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{extends:"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{extends:"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;__slice=[].slice;(function(t){var e;t.fn.opentip=function(t,e,i){return new Opentip(this,t,e,i)},e=function(){function e(){}return e.prototype.name="jquery",e.prototype.domReady=function(e){return t(e)},e.prototype.create=function(e){return t(e)},e.prototype.wrap=function(e){if((e=t(e)).length>1)throw Error("Multiple elements provided.");return e},e.prototype.unwrap=function(e){return t(e)[0]},e.prototype.tagName=function(t){return this.unwrap(t).tagName},e.prototype.attr=function(){var e,i,o;return i=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],(o=t(i)).attr.apply(o,e)},e.prototype.data=function(){var e,i,o;return i=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],(o=t(i)).data.apply(o,e)},e.prototype.find=function(e,i){return t(e).find(i).get(0)},e.prototype.findAll=function(e,i){return t(e).find(i)},e.prototype.update=function(e,i,o){return e=t(e),o?e.text(i):e.html(i)},e.prototype.append=function(e,i){return t(e).append(i)},e.prototype.remove=function(e){return t(e).remove()},e.prototype.addClass=function(e,i){return t(e).addClass(i)},e.prototype.removeClass=function(e,i){return t(e).removeClass(i)},e.prototype.css=function(e,i){return t(e).css(i)},e.prototype.dimensions=function(e){return{width:t(e).outerWidth(),height:t(e).outerHeight()}},e.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},e.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},e.prototype.mousePosition=function(t){return null==t?null:{x:t.pageX,y:t.pageY}},e.prototype.offset=function(e){var i;return{left:(i=t(e).offset()).left,top:i.top}},e.prototype.observe=function(e,i,o){return t(e).bind(i,o)},e.prototype.stopObserving=function(e,i,o){return t(e).unbind(i,o)},e.prototype.ajax=function(e){var i,o;if(null==e.url)throw Error("No url provided");return t.ajax({url:e.url,type:null!=(i=null!=(o=e.method)?o.toUpperCase():void 0)?i:"GET"}).done(function(t){return"function"==typeof e.onSuccess?e.onSuccess(t):void 0}).fail(function(t){return"function"==typeof e.onError?e.onError("Server responded with status "+t.status):void 0}).always(function(){return"function"==typeof e.onComplete?e.onComplete():void 0})},e.prototype.clone=function(e){return t.extend({},e)},e.prototype.extend=function(){var e,i;return i=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],t.extend.apply(t,[i].concat(__slice.call(e)))},e}(),Opentip.addAdapter(new e)})(jQuery),document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new r(this))}function e(t){var e=t.srcElement;switch(t.propertyName){case"width":e.style.width=e.attributes.width.nodeValue+"px",e.getContext().clearRect();break;case"height":e.style.height=e.attributes.height.nodeValue+"px",e.getContext().clearRect()}}function i(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function o(t,e){for(var i=[[1,0,0],[0,1,0],[0,0,1]],o=0;3>o;o++)for(var n=0;3>n;n++){for(var s=0,r=0;3>r;r++)s+=t[o][r]*e[r][n];i[o][n]=s}return i}function n(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function s(t){var e,i=1;if("rgb"==(t+="").substring(0,3)){var o=t.indexOf("(",3),n=t.indexOf(")",o+1),s=t.substring(o+1,n).split(",");e="#";for(var r=0;3>r;r++)e+=w[Number(s[r])];4==s.length&&"a"==t.substr(3,1)&&(i=s[3])}else e=t;return{color:e,alpha:i}}function r(t){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*v,this.globalAlpha=1,this.canvas=t;var e=t.ownerDocument.createElement("div");e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",e.style.position="absolute",t.appendChild(e),this.element_=e,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function a(t,e,i,o){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:o.x,y:o.y}),t.currentX_=o.x,t.currentY_=o.y}function h(t,e,i){if(function(t){for(var e=0;3>e;e++)for(var i=0;2>i;i++)if(!isFinite(t[e][i])||isNaN(t[e][i]))return!1;return!0}(e)&&(t.m_=e,i)){var o=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=m(g(o))}}function l(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function p(){}var d=Math,u=d.round,c=d.sin,f=d.cos,g=d.abs,m=d.sqrt,v=10,y=v/2,b=Array.prototype.slice,_={init:function(t){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var e=t||document;e.createElement("canvas"),e.attachEvent("onreadystatechange",function(t,e){var i=b.call(arguments,2);return function(){return t.apply(e,i.concat(b.call(arguments)))}}(this.init_,this,e))}},init_:function(t){if(t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}for(var i=t.getElementsByTagName("canvas"),o=0;i.length>o;o++)this.initElement(i[o])},initElement:function(o){if(!o.getContext){o.getContext=t,o.innerHTML="",o.attachEvent("onpropertychange",e),o.attachEvent("onresize",i);var n=o.attributes;n.width&&n.width.specified?o.style.width=n.width.nodeValue+"px":o.width=o.clientWidth,n.height&&n.height.specified?o.style.height=n.height.nodeValue+"px":o.height=o.clientHeight}return o}};_.init();for(var w=[],C=0;16>C;C++)for(var x=0;16>x;x++)w[16*C+x]=C.toString(16)+x.toString(16);var T=r.prototype;T.clearRect=function(){this.element_.innerHTML=""},T.beginPath=function(){this.currentPath_=[]},T.moveTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},T.lineTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},T.bezierCurveTo=function(t,e,i,o,n,s){var r=this.getCoords_(n,s);a(this,this.getCoords_(t,e),this.getCoords_(i,o),r)},T.quadraticCurveTo=function(t,e,i,o){var n=this.getCoords_(t,e),s=this.getCoords_(i,o),r={x:this.currentX_+2/3*(n.x-this.currentX_),y:this.currentY_+2/3*(n.y-this.currentY_)};a(this,r,{x:r.x+(s.x-this.currentX_)/3,y:r.y+(s.y-this.currentY_)/3},s)},T.arc=function(t,e,i,o,n,s){i*=v;var r=s?"at":"wa",a=t+f(o)*i-y,h=e+c(o)*i-y,l=t+f(n)*i-y,p=e+c(n)*i-y;a!=l||s||(a+=.125);var d=this.getCoords_(t,e),u=this.getCoords_(a,h),g=this.getCoords_(l,p);this.currentPath_.push({type:r,x:d.x,y:d.y,radius:i,xStart:u.x,yStart:u.y,xEnd:g.x,yEnd:g.y})},T.rect=function(t,e,i,o){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath()},T.strokeRect=function(t,e,i,o){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath(),this.stroke(),this.currentPath_=n},T.fillRect=function(t,e,i,o){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath(),this.fill(),this.currentPath_=n},T.createLinearGradient=function(t,e,i,o){var n=new l("gradient");return n.x0_=t,n.y0_=e,n.x1_=i,n.y1_=o,n},T.createRadialGradient=function(t,e,i,o,n,s){var r=new l("gradientradial");return r.x0_=t,r.y0_=e,r.r0_=i,r.x1_=o,r.y1_=n,r.r1_=s,r},T.drawImage=function(t){var e,i,o,n,s,r,a,h,l=t.runtimeStyle.width,p=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var c=t.width,f=t.height;if(t.runtimeStyle.width=l,t.runtimeStyle.height=p,3==arguments.length)e=arguments[1],i=arguments[2],s=r=0,a=o=c,h=n=f;else if(5==arguments.length)e=arguments[1],i=arguments[2],o=arguments[3],n=arguments[4],s=r=0,a=c,h=f;else{if(9!=arguments.length)throw Error("Invalid number of arguments");s=arguments[1],r=arguments[2],a=arguments[3],h=arguments[4],e=arguments[5],i=arguments[6],o=arguments[7],n=arguments[8]}var g=this.getCoords_(e,i),m=[];if(m.push(" <g_vml_:group",' coordsize="',10*v,",",10*v,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]){var y=[];y.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",u(g.x/v),",","Dy=",u(g.y/v),"");var b=g,_=this.getCoords_(e+o,i),w=this.getCoords_(e,i+n),C=this.getCoords_(e+o,i+n);b.x=d.max(b.x,_.x,w.x,C.x),b.y=d.max(b.y,_.y,w.y,C.y),m.push("padding:0 ",u(b.x/v),"px ",u(b.y/v),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",y.join(""),", sizingmethod='clip');")}else m.push("top:",u(g.y/v),"px;left:",u(g.x/v),"px;");m.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',v*o,"px;"," height:",v*n,'px;"',' cropleft="',s/c,'"',' croptop="',r/f,'"',' cropright="',(c-s-a)/c,'"',' cropbottom="',(f-r-h)/f,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",m.join(""))},T.stroke=function(t){var e=[],i=s(t?this.fillStyle:this.strokeStyle),o=i.color,n=i.alpha*this.globalAlpha;e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0 0" coordsize="',10*v," ",10*v,'"',' stroked="',!t,'"',' path="');for(var r={x:null,y:null},a={x:null,y:null},h=0;this.currentPath_.length>h;h++){var l=this.currentPath_[h];switch(l.type){case"moveTo":l,e.push(" m ",u(l.x),",",u(l.y));break;case"lineTo":e.push(" l ",u(l.x),",",u(l.y));break;case"close":e.push(" x "),l=null;break;case"bezierCurveTo":e.push(" c ",u(l.cp1x),",",u(l.cp1y),",",u(l.cp2x),",",u(l.cp2y),",",u(l.x),",",u(l.y));break;case"at":case"wa":e.push(" ",l.type," ",u(l.x-this.arcScaleX_*l.radius),",",u(l.y-this.arcScaleY_*l.radius)," ",u(l.x+this.arcScaleX_*l.radius),",",u(l.y+this.arcScaleY_*l.radius)," ",u(l.xStart),",",u(l.yStart)," ",u(l.xEnd),",",u(l.yEnd))}l&&((null==r.x||r.x>l.x)&&(r.x=l.x),(null==a.x||l.x>a.x)&&(a.x=l.x),(null==r.y||r.y>l.y)&&(r.y=l.y),(null==a.y||l.y>a.y)&&(a.y=l.y))}if(e.push(' ">'),t)if("object"==typeof this.fillStyle){var p=this.fillStyle,c=0,f={x:0,y:0},g=0,m=1;if("gradient"==p.type_){var y=p.x0_/this.arcScaleX_,b=p.y0_/this.arcScaleY_,_=p.x1_/this.arcScaleX_,w=p.y1_/this.arcScaleY_,C=this.getCoords_(y,b),x=this.getCoords_(_,w),T=x.x-C.x,O=x.y-C.y;0>(c=180*Math.atan2(T,O)/Math.PI)&&(c+=360),1e-6>c&&(c=0)}else{C=this.getCoords_(p.x0_,p.y0_);var S=a.x-r.x,E=a.y-r.y;f={x:(C.x-r.x)/S,y:(C.y-r.y)/E},S/=this.arcScaleX_*v,E/=this.arcScaleY_*v;var k=d.max(S,E);g=2*p.r0_/k,m=2*p.r1_/k-g}var P=p.colors_;P.sort(function(t,e){return t.offset-e.offset});var j=P.length,B=P[0].color,M=P[j-1].color,I=P[0].alpha*this.globalAlpha,A=P[j-1].alpha*this.globalAlpha,L=[];for(h=0;j>h;h++){var H=P[h];L.push(H.offset*m+g+" "+H.color)}e.push('<g_vml_:fill type="',p.type_,'"',' method="none" focus="100%"',' color="',B,'"',' color2="',M,'"',' colors="',L.join(","),'"',' opacity="',A,'"',' g_o_:opacity2="',I,'"',' angle="',c,'"',' focusposition="',f.x,",",f.y,'" />')}else e.push('<g_vml_:fill color="',o,'" opacity="',n,'" />');else{var z=this.lineScale_*this.lineWidth;1>z&&(n*=z),e.push("<g_vml_:stroke",' opacity="',n,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',function(t){switch(t){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}(this.lineCap),'"',' weight="',z,'px"',' color="',o,'" />')}e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},T.fill=function(){this.stroke(!0)},T.closePath=function(){this.currentPath_.push({type:"close"})},T.getCoords_=function(t,e){var i=this.m_;return{x:v*(t*i[0][0]+e*i[1][0]+i[2][0])-y,y:v*(t*i[0][1]+e*i[1][1]+i[2][1])-y}},T.save=function(){var t={};n(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=o([[1,0,0],[0,1,0],[0,0,1]],this.m_)},T.restore=function(){n(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},T.translate=function(t,e){h(this,o([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},T.rotate=function(t){var e=f(t),i=c(t);h(this,o([[e,i,0],[-i,e,0],[0,0,1]],this.m_),!1)},T.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,h(this,o([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},T.transform=function(t,e,i,n,s,r){h(this,o([[t,e,0],[i,n,0],[s,r,1]],this.m_),!0)},T.setTransform=function(t,e,i,o,n,s){h(this,[[t,e,0],[i,o,0],[n,s,1]],!0)},T.clip=function(){},T.arcTo=function(){},T.createPattern=function(){return new p},l.prototype.addColorStop=function(t,e){e=s(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},G_vmlCanvasManager=_,CanvasRenderingContext2D=r,CanvasGradient=l,CanvasPattern=p}();__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,o,n){var s,r,a,h,l,p,d,u,c,f,g,m,v,y,b=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,(s=this.adapter.data(e,"opentips")||[]).push(this),this.adapter.data(e,"opentips",s),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw new Error("You can't call Opentip on multiple elements.");if(this.triggerElement.length<1)throw new Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},n=this.adapter.clone(n),"object"==typeof i?(n=i,i=o=void 0):"object"==typeof o&&(n=o,o=void 0),null!=o&&(n.title=o),null!=i&&this.setContent(i),null==n.extends&&(null!=n.style?n.extends=n.style:n.extends=t.defaultStyle),h=[n],y=n;y.extends;){if(p=y.extends,null==(y=t.styles[p]))throw new Error("Invalid style: "+p);h.unshift(y),null==y.extends&&"standard"!==p&&(y.extends="standard")}for((n=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(h)))).hideTriggers=function(){var t,e,i,o;for(o=[],t=0,e=(i=n.hideTriggers).length;t<e;t++)r=i[t],o.push(r);return o}(),n.hideTrigger&&0===n.hideTriggers.length&&n.hideTriggers.push(n.hideTrigger),d=0,c=(m=["tipJoint","targetJoint","stem"]).length;d<c;d++)n[l=m[d]]&&"string"==typeof n[l]&&(n[l]=new t.Joint(n[l]));for(!n.ajax||!0!==n.ajax&&n.ajax||("A"===this.adapter.tagName(this.triggerElement)?n.ajax=this.adapter.attr(this.triggerElement,"href"):n.ajax=!1),"click"===n.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),n.target&&(n.fixed=!0),!0===n.stem&&(n.stem=new t.Joint(n.tipJoint)),!0===n.target?n.target=this.triggerElement:n.target&&(n.target=this.adapter.wrap(n.target)),this.currentStem=n.stem,null==n.delay&&(n.delay="mouseover"===n.showOn?.2:0),null==n.targetJoint&&(n.targetJoint=new t.Joint(n.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],n.showOn&&"creation"!==n.showOn&&this.showTriggers.push({element:this.triggerElement,event:n.showOn}),null!=n.ajaxCache&&(n.cache=n.ajaxCache,delete n.ajaxCache),this.options=n,this.bound={},u=0,f=(v=["prepareToShow","prepareToHide","show","hide","reposition"]).length;u<f;u++)a=v[u],this.bound[a]=function(t){return function(){return b[t].apply(b,arguments)}}(a);this.adapter.domReady(function(){if(b.activate(),"creation"===b.options.showOn)return b.prepareToShow()})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype.class={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,n,s,r,a,h,l,p;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],o=n=0,r=(h=this.options.hideTriggers).length;n<r;o=++n){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw new Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=[],s=0,a=(l=this.hideTriggers).length;s<a;s++)e=l[s],p.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return p},t.prototype._buildContainer=function(){if(this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this.class.container+" "+this.class.hidden+" "+this.class.stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this.class.loading),this.options.fixed&&this.adapter.addClass(this.container,this.class.fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this.class.showEffectPrefix+this.options.showEffect),this.options.hideEffect)return this.adapter.addClass(this.container,""+this.class.hideEffectPrefix+this.options.hideEffect)},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this.class.opentip+'"><div class="'+this.class.header+'"></div><div class="'+this.class.content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this.class.header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this.class.loadingIndicator+'"><span>↻</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this.class.close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){if(this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible)return this._updateElementContent()},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(null!=(t=this.adapter.find(this.container,"."+this.class.content))&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:this.dimensions.width+"px",top:this.currentPosition.top+"px",left:this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m=this;for(s=0,l=(o=1<=arguments.length?__slice.call(arguments,0):[]).length;s<l;s++)if(i=o[s],e=!1,"-"===i.charAt(0)&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=1<=arguments.length?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case"showing":for(r=0,p=(c=this.hideTriggers).length;r<p;r++)t((n=c[r]).element,n.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(a=0,d=(f=this.showTriggersWhenVisible).length;a<d;a++)t((n=f[a]).element,n.event,this.bound.prepareToShow);break;case"hiding":for(h=0,u=(g=this.showTriggers).length;h<u;h++)t((n=g[h]).element,n.event,this.bound.prepareToShow);break;case"hidden":break;default:throw new Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){if(this._abortHiding(),this._abortShowing(),!this.visible)return this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0)},t.prototype.show=function(){var e=this;if(this._abortHiding(),!this.visible)return this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this.class.hiding),this.adapter.removeClass(this.container,this.class.hidden),this.adapter.addClass(this.container,this.class.goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e.class.goingToShow),e.adapter.addClass(e.container,e.class.showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e.class.showing),e.adapter.addClass(e.container,e.class.visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate()},t.prototype._abortShowing=function(){if(this.preparingToShow)return this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")},t.prototype.prepareToHide=function(){if(this._abortShowing(),this._abortHiding(),this.visible)return this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)},t.prototype.hide=function(){var t=this;if(this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container))return this.adapter.removeClass(this.container,this.class.visible),this.adapter.removeClass(this.container,this.class.showing),this.adapter.addClass(this.container,this.class.goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t.class.goingToHide),t.adapter.addClass(t.container,t.class.hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){if(t.adapter.removeClass(t.container,t.class.hiding),t.adapter.addClass(t.container,t.class.hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide)return t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement},e)})},t.prototype._abortHiding=function(){if(this.preparingToHide)return this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")},t.prototype.reposition=function(){var t,e,i,o=this;if(null!=(t=this.getPosition())&&(e=this.options.stem,this.options.containInViewport&&(t=(i=this._ensureViewportContainment(t)).position,e=i.stem),!this._positionsEqual(t,this.currentPosition)))return this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:t.left+"px",top:t.top+"px"}),this.defer(function(){var t;return(t=o.adapter.unwrap(o.container)).style.visibility="hidden",t.offsetHeight,t.style.visibility="visible"})},t.prototype.getPosition=function(t,e,i){var o,n,s,r,a,h,l,p,d;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),r={},this.options.target?(l=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=l,e.right?null!=(p=this.adapter.unwrap(this.options.target)).getBoundingClientRect?r.left=p.getBoundingClientRect().right+(null!=(d=window.pageXOffset)?d:document.body.scrollLeft):r.left+=h.width:e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(s=(a=this.options.stem?this.options.stemLength:0)&&this.options.fixed?2:10,o=t.middle&&!this.options.fixed?15:0,n=t.center&&!this.options.fixed?15:0,t.right?r.left-=s+o:t.left&&(r.left+=s+o),t.bottom?r.top-=s+n:t.top&&(r.top+=s+n),a&&(null==i&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,n,s,r,a,h,l,p,d,u;if(n={position:e,stem:h=this.options.stem},!this.visible||!e)return n;if(!(l=this._sticksOut(e))[0]&&!l[1])return n;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(p=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),[e.left-a[0],e.top-a[1]],i=!1,u.width>=this.dimensions.width&&l[0])switch(i=!0,l[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&p.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&p.setHorizontal("left")}if(u.height>=this.dimensions.height&&l[1])switch(i=!0,l[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&p.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&p.setVertical("top")}return i?(this.options.stem&&(h=d),e=this.getPosition(d,p,h),s=!1,r=!1,(o=this._sticksOut(e))[0]&&o[0]!==l[0]&&(s=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&p.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==l[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&p.setVertical(this.options.targetJoint.vertical)),s&&r?n:((s||r)&&(this.options.stem&&(h=d),e=this.getPosition(d,p,h)),{position:e,stem:h})):n},t.prototype._sticksOut=function(t){var e,i,o,n;return i=this.adapter.scrollOffset(),n=this.adapter.viewportDimensions(),o=[!1,!1],(e=[t.left-i[0],t.top-i[1]])[0]<0?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>n.width&&(o[0]=this.STICKS_OUT_RIGHT),e[1]<0?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>n.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m,v,y,b,_=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(g=0,m=(v=["top","right","bottom","left"]).length;g<m;g++)u=v[g],this.adapter.removeClass(this.container,"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(s=new t.Joint("top right"===(null!=(y=this.currentStem)?y.toString():void 0)?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),n=[0,0],this.options.borderWidth&&(o.width+=2*this.options.borderWidth,o.height+=2*this.options.borderWidth,n[0]-=this.options.borderWidth,n[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=2*this.options.shadowBlur,o.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),o.height+=2*this.options.shadowBlur,o.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),n[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),n[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),s&&(s.left?i.left=Math.max(i.left,a[0]):s.right&&(i.right=Math.max(i.right,a[0])),s.top?i.top=Math.max(i.top,a[1]):s.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,n[0]-=i.left,n[1]-=i.top,this.currentStem&&this.options.borderWidth&&(b=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=b.stemLength,c=b.stemBase),(e=this.adapter.unwrap(this.backgroundCanvas)).width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:e.width+"px",height:e.height+"px",left:n[0]+"px",top:n[1]+"px"}),(h=e.getContext("2d")).setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(f=this.options.stemLength,c=this.options.stemBase),null==c&&(c=0),p=function(t,e,i){if(i&&h.moveTo(Math.max(c,_.options.borderRadius,r[0])+1-d,-d),e)return h.lineTo(t/2-c/2,-d),h.lineTo(t/2,-f-d),h.lineTo(t/2+c/2,-d)},l=function(t,e,i){var o,n,s,a;return t?(h.lineTo(-c+d,0-d),h.lineTo(f+d,-f-d),h.lineTo(d,c-d)):e?(a=_.options.closeButtonOffset,s=r[0],i%2!=0&&(a=[a[1],a[0]],s=r[1]),o=Math.acos(a[1]/_.options.closeButtonRadius),n=Math.acos(a[0]/_.options.closeButtonRadius),h.lineTo(-s+d,-d),h.arc(d-a[0],-d+a[1],_.options.closeButtonRadius,-(Math.PI/2+o),n,!1)):(h.lineTo(-_.options.borderRadius+d,-d),h.quadraticCurveTo(d,-d,d,_.options.borderRadius-d))},h.translate(-n[0],-n[1]),h.save(),function(){var e,i,o,n,r,a,d,u,c,f,g;for(g=[],i=c=0,f=t.positions.length/2;0<=f?c<f:c>f;i=0<=f?++c:--c)r=2*i,a=0===i||3===i?0:_.dimensions.width,d=i<2?0:_.dimensions.height,u=Math.PI/2*i,o=i%2==0?_.dimensions.width:_.dimensions.height,n=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,d),h.rotate(u),p(o,n.eql(_.currentStem),0===i),h.translate(o,0),l(e.eql(_.currentStem),e.eql(s),i),g.push(h.restore())}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),s?(_.options.closeButtonRadius,w="top right"===s.toString()?[(x=[_.dimensions.width-_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]+d,x[1]-d]:[(x=[_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]-d,x[1]-d],h.translate(w[0],w[1]),C=_.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=_.options.closeButtonCrossColor,h.lineWidth=_.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-C,-C),h.lineTo(C,C),h.stroke(),h.beginPath(),h.moveTo(C,-C),h.lineTo(-C,C),h.stroke(),h.restore(),_.adapter.css(_.closeButtonElement,{left:x[0]-C-_.options.closeButtonLinkOverscan+"px",top:x[1]-C-_.options.closeButtonLinkOverscan+"px",width:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px",height:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px"})):void 0;var w,C,x}},t.prototype._getPathStemMeasures=function(t,e,i){var o,n,s,r;if(s=i/2,o=2*(n=Math.atan(t/2/e)),(r=s+e-2*(s/Math.sin(o))*Math.cos(n))<0)throw new Error("Sorry but your stemLength / stemBase ratio is strange.");return{stemLength:r,stemBase:Math.tan(n)*r*2}},t.prototype._getColor=function(t,e,i,o){var n,s,r,a,h;if(null==o&&(o=!1),"string"==typeof i)return i;for(s=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;a<h;r=++a)n=i[r],s.addColorStop(n[0],n[1]);return s},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(e=0,i=(o=this.adapter.findAll(this.container,"."+this.class.close)).length;e<i;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});if(this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible)return this._setupObservers("-visible","visible")},t.prototype._activateFirstInput=function(){var t;return null!=(t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")))&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){if(!this.options.fixed)return t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){if(!this.options.fixed)return t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this.class.loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t.class.loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t.class.ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t.class.loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){if(!this._triggerElementExists())return this.deactivate(),this._stopEnsureTriggerElement()},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,n,s,r;for(i in t=this.adapter.unwrap(t),r=[],e)__hasProp.call(e,i)&&(o=e[i],null!=t.style[i]?r.push(t.style[i]=o):r.push(function(){var e,r,a;for(a=[],e=0,r=vendors.length;e<r;e++)n=vendors[e],s=""+this.ucfirst(n)+this.ucfirst(i),null!=t.style[s]?a.push(t.style[s]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,n;for(mousePosition=Opentip.adapter.mousePosition(t),n=[],i=0,o=mousePositionObservers.length;i<o;i++)e=mousePositionObservers[i],n.push(e());return n},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,o,n;for(n=[],i=0,o=mousePositionObservers.length;i<o;i++)(e=mousePositionObservers[i])!==t&&n.push(e);return n}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t=t.toString()),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["left","center","right"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["top","middle","bottom"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t;return t=(Opentip.position[this.toString(!0)]+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return null==t&&(t=!1),i="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;if(t=1<=arguments.length?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0))return t.unshift("#"+this.id+" |"),console.debug.apply(console,t)},Opentip.findElements=function(){var t,e,i,o,n,s,r,a,h,l;for(l=[],r=0,a=(h=(t=Opentip.adapter).findAll(document.body,"[data-ot]")).length;r<a;r++){for(o in i=h[r],s={},""!==(e=t.data(i,"ot"))&&"true"!==e&&"yes"!==e||(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"",Opentip.styles.standard)null!=(n=t.data(i,"ot"+Opentip.prototype.ucfirst(o)))&&("yes"===n||"true"===n||"on"===n?n=!0:"no"!==n&&"false"!==n&&"off"!==n||(n=!1),s[o]=n);l.push(new Opentip(i,e,s))}return l},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){if(Opentip.adapters[t.name]=t,firstAdapter)return Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},i=_i=0,_len=(_ref=Opentip.positions).length;_i<_len;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{extends:null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{extends:"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{extends:"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{extends:"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;__slice=[].slice;!function(t){var e;t.fn.opentip=function(t,e,i){return new Opentip(this,t,e,i)},e=function(){function e(){}return e.prototype.name="jquery",e.prototype.domReady=function(e){return t(e)},e.prototype.create=function(e){return t(e)},e.prototype.wrap=function(e){if((e=t(e)).length>1)throw new Error("Multiple elements provided.");return e},e.prototype.unwrap=function(e){return t(e)[0]},e.prototype.tagName=function(t){return this.unwrap(t).tagName},e.prototype.attr=function(){var e,i,o;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],(o=t(i)).attr.apply(o,e)},e.prototype.data=function(){var e,i,o;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],(o=t(i)).data.apply(o,e)},e.prototype.find=function(e,i){return t(e).find(i).get(0)},e.prototype.findAll=function(e,i){return t(e).find(i)},e.prototype.update=function(e,i,o){return e=t(e),o?e.text(i):e.html(i)},e.prototype.append=function(e,i){return t(e).append(i)},e.prototype.remove=function(e){return t(e).remove()},e.prototype.addClass=function(e,i){return t(e).addClass(i)},e.prototype.removeClass=function(e,i){return t(e).removeClass(i)},e.prototype.css=function(e,i){return t(e).css(i)},e.prototype.dimensions=function(e){return{width:t(e).outerWidth(),height:t(e).outerHeight()}},e.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},e.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},e.prototype.mousePosition=function(t){return null==t?null:{x:t.pageX,y:t.pageY}},e.prototype.offset=function(e){var i;return{left:(i=t(e).offset()).left,top:i.top}},e.prototype.observe=function(e,i,o){return t(e).bind(i,o)},e.prototype.stopObserving=function(e,i,o){return t(e).unbind(i,o)},e.prototype.ajax=function(e){var i,o;if(null==e.url)throw new Error("No url provided");return t.ajax({url:e.url,type:null!=(i=null!=(o=e.method)?o.toUpperCase():void 0)?i:"GET"}).done(function(t){return"function"==typeof e.onSuccess?e.onSuccess(t):void 0}).fail(function(t){return"function"==typeof e.onError?e.onError("Server responded with status "+t.status):void 0}).always(function(){return"function"==typeof e.onComplete?e.onComplete():void 0})},e.prototype.clone=function(e){return t.extend({},e)},e.prototype.extend=function(){var e,i;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],t.extend.apply(t,[i].concat(__slice.call(e)))},e}(),Opentip.addAdapter(new e)}(jQuery);__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,o,n){var s,r,a,h,l,p,d,u,c,f,g,m,v,y,b=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,(s=this.adapter.data(e,"opentips")||[]).push(this),this.adapter.data(e,"opentips",s),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw Error("You can't call Opentip on multiple elements.");if(1>this.triggerElement.length)throw Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},n=this.adapter.clone(n),"object"==typeof i?(n=i,i=o=void 0):"object"==typeof o&&(n=o,o=void 0),null!=o&&(n.title=o),null!=i&&this.setContent(i),null==n.extends&&(n.extends=null!=n.style?n.style:t.defaultStyle),h=[n],y=n;y.extends;){if(p=y.extends,null==(y=t.styles[p]))throw Error("Invalid style: "+p);h.unshift(y),null==y.extends&&"standard"!==p&&(y.extends="standard")}for((n=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(h)))).hideTriggers=function(){var t,e,i,o;for(o=[],t=0,e=(i=n.hideTriggers).length;e>t;t++)r=i[t],o.push(r);return o}(),n.hideTrigger&&0===n.hideTriggers.length&&n.hideTriggers.push(n.hideTrigger),d=0,c=(m=["tipJoint","targetJoint","stem"]).length;c>d;d++)n[l=m[d]]&&"string"==typeof n[l]&&(n[l]=new t.Joint(n[l]));for(!n.ajax||!0!==n.ajax&&n.ajax||(n.ajax="A"===this.adapter.tagName(this.triggerElement)&&this.adapter.attr(this.triggerElement,"href")),"click"===n.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),n.target&&(n.fixed=!0),!0===n.stem&&(n.stem=new t.Joint(n.tipJoint)),!0===n.target?n.target=this.triggerElement:n.target&&(n.target=this.adapter.wrap(n.target)),this.currentStem=n.stem,null==n.delay&&(n.delay="mouseover"===n.showOn?.2:0),null==n.targetJoint&&(n.targetJoint=new t.Joint(n.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],n.showOn&&"creation"!==n.showOn&&this.showTriggers.push({element:this.triggerElement,event:n.showOn}),null!=n.ajaxCache&&(n.cache=n.ajaxCache,delete n.ajaxCache),this.options=n,this.bound={},u=0,f=(v=["prepareToShow","prepareToHide","show","hide","reposition"]).length;f>u;u++)a=v[u],this.bound[a]=function(t){return function(){return b[t].apply(b,arguments)}}(a);this.adapter.domReady(function(){return b.activate(),"creation"===b.options.showOn?b.prepareToShow():void 0})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype.class={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,n,s,r,a,h,l,p;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],o=n=0,r=(h=this.options.hideTriggers).length;r>n;o=++n){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=[],s=0,a=(l=this.hideTriggers).length;a>s;s++)e=l[s],p.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return p},t.prototype._buildContainer=function(){return this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this.class.container+" "+this.class.hidden+" "+this.class.stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this.class.loading),this.options.fixed&&this.adapter.addClass(this.container,this.class.fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this.class.showEffectPrefix+this.options.showEffect),this.options.hideEffect?this.adapter.addClass(this.container,""+this.class.hideEffectPrefix+this.options.hideEffect):void 0},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this.class.opentip+'"><div class="'+this.class.header+'"></div><div class="'+this.class.content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this.class.header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this.class.loadingIndicator+'"><span>↻</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this.class.close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){return this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible?this._updateElementContent():void 0},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(null!=(t=this.adapter.find(this.container,"."+this.class.content))&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:this.dimensions.width+"px",top:this.currentPosition.top+"px",left:this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m=this;for(s=0,l=(o=arguments.length>=1?__slice.call(arguments,0):[]).length;l>s;s++)if(i=o[s],e=!1,"-"===i.charAt(0)&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=arguments.length>=1?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case"showing":for(r=0,p=(c=this.hideTriggers).length;p>r;r++)t((n=c[r]).element,n.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(a=0,d=(f=this.showTriggersWhenVisible).length;d>a;a++)t((n=f[a]).element,n.event,this.bound.prepareToShow);break;case"hiding":for(h=0,u=(g=this.showTriggers).length;u>h;h++)t((n=g[h]).element,n.event,this.bound.prepareToShow);break;case"hidden":break;default:throw Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){return this._abortHiding(),this._abortShowing(),this.visible?void 0:(this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0))},t.prototype.show=function(){var e=this;return this._abortHiding(),this.visible?void 0:(this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this.class.hiding),this.adapter.removeClass(this.container,this.class.hidden),this.adapter.addClass(this.container,this.class.goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e.class.goingToShow),e.adapter.addClass(e.container,e.class.showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e.class.showing),e.adapter.addClass(e.container,e.class.visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate())},t.prototype._abortShowing=function(){return this.preparingToShow?(this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")):void 0},t.prototype.prepareToHide=function(){return this._abortShowing(),this._abortHiding(),this.visible?(this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)):void 0},t.prototype.hide=function(){var t=this;return this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container)?(this.adapter.removeClass(this.container,this.class.visible),this.adapter.removeClass(this.container,this.class.showing),this.adapter.addClass(this.container,this.class.goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t.class.goingToHide),t.adapter.addClass(t.container,t.class.hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){return t.adapter.removeClass(t.container,t.class.hiding),t.adapter.addClass(t.container,t.class.hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide?(t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement):void 0},e)})):void 0},t.prototype._abortHiding=function(){return this.preparingToHide?(this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")):void 0},t.prototype.reposition=function(){var t,e,i,o=this;return null==(t=this.getPosition())||(e=this.options.stem,this.options.containInViewport&&(t=(i=this._ensureViewportContainment(t)).position,e=i.stem),this._positionsEqual(t,this.currentPosition))?void 0:(this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:t.left+"px",top:t.top+"px"}),this.defer(function(){var t;return(t=o.adapter.unwrap(o.container)).style.visibility="hidden",t.offsetHeight,t.style.visibility="visible"}))},t.prototype.getPosition=function(t,e,i){var o,n,s,r,a,h,l,p,d;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),r={},this.options.target?(l=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=l,e.right?null!=(p=this.adapter.unwrap(this.options.target)).getBoundingClientRect?r.left=p.getBoundingClientRect().right+(null!=(d=window.pageXOffset)?d:document.body.scrollLeft):r.left+=h.width:e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(s=(a=this.options.stem?this.options.stemLength:0)&&this.options.fixed?2:10,o=t.middle&&!this.options.fixed?15:0,n=t.center&&!this.options.fixed?15:0,t.right?r.left-=s+o:t.left&&(r.left+=s+o),t.bottom?r.top-=s+n:t.top&&(r.top+=s+n),a&&(null==i&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,n,s,r,a,h,l,p,d,u;if(n={position:e,stem:h=this.options.stem},!this.visible||!e)return n;if(!(l=this._sticksOut(e))[0]&&!l[1])return n;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(p=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),[e.left-a[0],e.top-a[1]],i=!1,u.width>=this.dimensions.width&&l[0])switch(i=!0,l[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&p.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&p.setHorizontal("left")}if(u.height>=this.dimensions.height&&l[1])switch(i=!0,l[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&p.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&p.setVertical("top")}return i?(this.options.stem&&(h=d),e=this.getPosition(d,p,h),s=!1,r=!1,(o=this._sticksOut(e))[0]&&o[0]!==l[0]&&(s=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&p.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==l[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&p.setVertical(this.options.targetJoint.vertical)),s&&r?n:((s||r)&&(this.options.stem&&(h=d),e=this.getPosition(d,p,h)),{position:e,stem:h})):n},t.prototype._sticksOut=function(t){var e,i,o,n;return i=this.adapter.scrollOffset(),n=this.adapter.viewportDimensions(),o=[!1,!1],0>(e=[t.left-i[0],t.top-i[1]])[0]?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>n.width&&(o[0]=this.STICKS_OUT_RIGHT),0>e[1]?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>n.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m,v,y,b,_=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(g=0,m=(v=["top","right","bottom","left"]).length;m>g;g++)u=v[g],this.adapter.removeClass(this.container,"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(s=new t.Joint("top right"===(null!=(y=this.currentStem)?y+"":void 0)?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),n=[0,0],this.options.borderWidth&&(o.width+=2*this.options.borderWidth,o.height+=2*this.options.borderWidth,n[0]-=this.options.borderWidth,n[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=2*this.options.shadowBlur,o.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),o.height+=2*this.options.shadowBlur,o.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),n[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),n[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),s&&(s.left?i.left=Math.max(i.left,a[0]):s.right&&(i.right=Math.max(i.right,a[0])),s.top?i.top=Math.max(i.top,a[1]):s.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,n[0]-=i.left,n[1]-=i.top,this.currentStem&&this.options.borderWidth&&(b=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=b.stemLength,c=b.stemBase),(e=this.adapter.unwrap(this.backgroundCanvas)).width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:e.width+"px",height:e.height+"px",left:n[0]+"px",top:n[1]+"px"}),(h=e.getContext("2d")).setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(f=this.options.stemLength,c=this.options.stemBase),null==c&&(c=0),p=function(t,e,i){return i&&h.moveTo(Math.max(c,_.options.borderRadius,r[0])+1-d,-d),e?(h.lineTo(t/2-c/2,-d),h.lineTo(t/2,-f-d),h.lineTo(t/2+c/2,-d)):void 0},l=function(t,e,i){var o,n,s,a;return t?(h.lineTo(-c+d,0-d),h.lineTo(f+d,-f-d),h.lineTo(d,c-d)):e?(a=_.options.closeButtonOffset,s=r[0],i%2!=0&&(a=[a[1],a[0]],s=r[1]),o=Math.acos(a[1]/_.options.closeButtonRadius),n=Math.acos(a[0]/_.options.closeButtonRadius),h.lineTo(-s+d,-d),h.arc(d-a[0],-d+a[1],_.options.closeButtonRadius,-(Math.PI/2+o),n,!1)):(h.lineTo(-_.options.borderRadius+d,-d),h.quadraticCurveTo(d,-d,d,_.options.borderRadius-d))},h.translate(-n[0],-n[1]),h.save(),function(){var e,i,o,n,r,a,d,u,c,f,g;for(g=[],i=c=0,f=t.positions.length/2;f>=0?f>c:c>f;i=f>=0?++c:--c)r=2*i,a=0===i||3===i?0:_.dimensions.width,d=2>i?0:_.dimensions.height,u=Math.PI/2*i,o=i%2==0?_.dimensions.width:_.dimensions.height,n=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,d),h.rotate(u),p(o,n.eql(_.currentStem),0===i),h.translate(o,0),l(e.eql(_.currentStem),e.eql(s),i),g.push(h.restore())}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),s?function(){var t,e,i;return 2*_.options.closeButtonRadius,s+""=="top right"?t=[(i=[_.dimensions.width-_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]+d,i[1]-d]:t=[(i=[_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]-d,i[1]-d],h.translate(t[0],t[1]),e=_.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=_.options.closeButtonCrossColor,h.lineWidth=_.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-e,-e),h.lineTo(e,e),h.stroke(),h.beginPath(),h.moveTo(e,-e),h.lineTo(-e,e),h.stroke(),h.restore(),_.adapter.css(_.closeButtonElement,{left:i[0]-e-_.options.closeButtonLinkOverscan+"px",top:i[1]-e-_.options.closeButtonLinkOverscan+"px",width:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px",height:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px"})}():void 0}},t.prototype._getPathStemMeasures=function(t,e,i){var o,n,s,r;if(s=i/2,o=2*(n=Math.atan(t/2/e)),0>(r=s+e-2*(s/Math.sin(o))*Math.cos(n)))throw Error("Sorry but your stemLength / stemBase ratio is strange.");return{stemLength:r,stemBase:Math.tan(n)*r*2}},t.prototype._getColor=function(t,e,i,o){var n,s,r,a,h;if(null==o&&(o=!1),"string"==typeof i)return i;for(s=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;h>a;r=++a)n=i[r],s.addColorStop(n[0],n[1]);return s},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(e=0,i=(o=this.adapter.findAll(this.container,"."+this.class.close)).length;i>e;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});return this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible?this._setupObservers("-visible","visible"):void 0},t.prototype._activateFirstInput=function(){var t;return null!=(t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")))&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){return this.options.fixed?void 0:t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){return this.options.fixed?void 0:t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this.class.loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t.class.loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t.class.ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t.class.loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){return this._triggerElementExists()?void 0:(this.deactivate(),this._stopEnsureTriggerElement())},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,n,s,r;for(i in t=this.adapter.unwrap(t),r=[],e)__hasProp.call(e,i)&&(o=e[i],null!=t.style[i]?r.push(t.style[i]=o):r.push(function(){var e,r,a;for(a=[],e=0,r=vendors.length;r>e;e++)n=vendors[e],s=""+this.ucfirst(n)+this.ucfirst(i),null!=t.style[s]?a.push(t.style[s]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,n;for(mousePosition=Opentip.adapter.mousePosition(t),n=[],i=0,o=mousePositionObservers.length;o>i;i++)e=mousePositionObservers[i],n.push(e());return n},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,o,n;for(n=[],i=0,o=mousePositionObservers.length;o>i;i++)(e=mousePositionObservers[i])!==t&&n.push(e);return n}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t+=""),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["left","center","right"]).length;s>o;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],n=0,r=i.length;r>n;n++)e=i[n],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["top","middle","bottom"]).length;s>o;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],n=0,r=i.length;r>n;n++)e=i[n],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t;return t=(Opentip.position[this.toString(!0)]+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return null==t&&(t=!1),i="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;return t=arguments.length>=1?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0)?(t.unshift("#"+this.id+" |"),console.debug.apply(console,t)):void 0},Opentip.findElements=function(){var t,e,i,o,n,s,r,a,h,l;for(l=[],r=0,a=(h=(t=Opentip.adapter).findAll(document.body,"[data-ot]")).length;a>r;r++){for(o in i=h[r],s={},(""===(e=t.data(i,"ot"))||"true"===e||"yes"===e)&&(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"",Opentip.styles.standard)null!=(n=t.data(i,"ot"+Opentip.prototype.ucfirst(o)))&&("yes"===n||"true"===n||"on"===n?n=!0:("no"===n||"false"===n||"off"===n)&&(n=!1),s[o]=n);l.push(new Opentip(i,e,s))}return l},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;n>o;o++)(i=s[o])!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;n>o;o++)(i=s[o])!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){return Opentip.adapters[t.name]=t,firstAdapter?(Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1):void 0},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},i=_i=0,_len=(_ref=Opentip.positions).length;_len>_i;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{extends:null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{extends:"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{extends:"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{extends:"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;__slice=[].slice;!function(t){var e;t.fn.opentip=function(t,e,i){return new Opentip(this,t,e,i)},e=function(){function e(){}return e.prototype.name="jquery",e.prototype.domReady=function(e){return t(e)},e.prototype.create=function(e){return t(e)},e.prototype.wrap=function(e){if((e=t(e)).length>1)throw Error("Multiple elements provided.");return e},e.prototype.unwrap=function(e){return t(e)[0]},e.prototype.tagName=function(t){return this.unwrap(t).tagName},e.prototype.attr=function(){var e,i,o;return i=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],(o=t(i)).attr.apply(o,e)},e.prototype.data=function(){var e,i,o;return i=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],(o=t(i)).data.apply(o,e)},e.prototype.find=function(e,i){return t(e).find(i).get(0)},e.prototype.findAll=function(e,i){return t(e).find(i)},e.prototype.update=function(e,i,o){return e=t(e),o?e.text(i):e.html(i)},e.prototype.append=function(e,i){return t(e).append(i)},e.prototype.remove=function(e){return t(e).remove()},e.prototype.addClass=function(e,i){return t(e).addClass(i)},e.prototype.removeClass=function(e,i){return t(e).removeClass(i)},e.prototype.css=function(e,i){return t(e).css(i)},e.prototype.dimensions=function(e){return{width:t(e).outerWidth(),height:t(e).outerHeight()}},e.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},e.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},e.prototype.mousePosition=function(t){return null==t?null:{x:t.pageX,y:t.pageY}},e.prototype.offset=function(e){var i;return{left:(i=t(e).offset()).left,top:i.top}},e.prototype.observe=function(e,i,o){return t(e).bind(i,o)},e.prototype.stopObserving=function(e,i,o){return t(e).unbind(i,o)},e.prototype.ajax=function(e){var i,o;if(null==e.url)throw Error("No url provided");return t.ajax({url:e.url,type:null!=(i=null!=(o=e.method)?o.toUpperCase():void 0)?i:"GET"}).done(function(t){return"function"==typeof e.onSuccess?e.onSuccess(t):void 0}).fail(function(t){return"function"==typeof e.onError?e.onError("Server responded with status "+t.status):void 0}).always(function(){return"function"==typeof e.onComplete?e.onComplete():void 0})},e.prototype.clone=function(e){return t.extend({},e)},e.prototype.extend=function(){var e,i;return i=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],t.extend.apply(t,[i].concat(__slice.call(e)))},e}(),Opentip.addAdapter(new e)}(jQuery);__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,o,n){var s,r,a,h,l,p,d,u,c,f,g,m,v,y,b=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,(s=this.adapter.data(e,"opentips")||[]).push(this),this.adapter.data(e,"opentips",s),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw new Error("You can't call Opentip on multiple elements.");if(this.triggerElement.length<1)throw new Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},n=this.adapter.clone(n),"object"==typeof i?(n=i,i=o=void 0):"object"==typeof o&&(n=o,o=void 0),null!=o&&(n.title=o),null!=i&&this.setContent(i),null==n.extends&&(null!=n.style?n.extends=n.style:n.extends=t.defaultStyle),h=[n],y=n;y.extends;){if(p=y.extends,null==(y=t.styles[p]))throw new Error("Invalid style: "+p);h.unshift(y),null==y.extends&&"standard"!==p&&(y.extends="standard")}for((n=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(h)))).hideTriggers=function(){var t,e,i,o;for(o=[],t=0,e=(i=n.hideTriggers).length;t<e;t++)r=i[t],o.push(r);return o}(),n.hideTrigger&&0===n.hideTriggers.length&&n.hideTriggers.push(n.hideTrigger),d=0,c=(m=["tipJoint","targetJoint","stem"]).length;d<c;d++)n[l=m[d]]&&"string"==typeof n[l]&&(n[l]=new t.Joint(n[l]));for(!n.ajax||!0!==n.ajax&&n.ajax||("A"===this.adapter.tagName(this.triggerElement)?n.ajax=this.adapter.attr(this.triggerElement,"href"):n.ajax=!1),"click"===n.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),n.target&&(n.fixed=!0),!0===n.stem&&(n.stem=new t.Joint(n.tipJoint)),!0===n.target?n.target=this.triggerElement:n.target&&(n.target=this.adapter.wrap(n.target)),this.currentStem=n.stem,null==n.delay&&(n.delay="mouseover"===n.showOn?.2:0),null==n.targetJoint&&(n.targetJoint=new t.Joint(n.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],n.showOn&&"creation"!==n.showOn&&this.showTriggers.push({element:this.triggerElement,event:n.showOn}),null!=n.ajaxCache&&(n.cache=n.ajaxCache,delete n.ajaxCache),this.options=n,this.bound={},u=0,f=(v=["prepareToShow","prepareToHide","show","hide","reposition"]).length;u<f;u++)a=v[u],this.bound[a]=function(t){return function(){return b[t].apply(b,arguments)}}(a);this.adapter.domReady(function(){if(b.activate(),"creation"===b.options.showOn)return b.prepareToShow()})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype.class={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,n,s,r,a,h,l,p;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],o=n=0,r=(h=this.options.hideTriggers).length;n<r;o=++n){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw new Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=[],s=0,a=(l=this.hideTriggers).length;s<a;s++)e=l[s],p.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return p},t.prototype._buildContainer=function(){if(this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this.class.container+" "+this.class.hidden+" "+this.class.stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this.class.loading),this.options.fixed&&this.adapter.addClass(this.container,this.class.fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this.class.showEffectPrefix+this.options.showEffect),this.options.hideEffect)return this.adapter.addClass(this.container,""+this.class.hideEffectPrefix+this.options.hideEffect)},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this.class.opentip+'"><div class="'+this.class.header+'"></div><div class="'+this.class.content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this.class.header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this.class.loadingIndicator+'"><span>↻</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this.class.close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){if(this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible)return this._updateElementContent()},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(null!=(t=this.adapter.find(this.container,"."+this.class.content))&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:this.dimensions.width+"px",top:this.currentPosition.top+"px",left:this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m=this;for(s=0,l=(o=1<=arguments.length?__slice.call(arguments,0):[]).length;s<l;s++)if(i=o[s],e=!1,"-"===i.charAt(0)&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=1<=arguments.length?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case"showing":for(r=0,p=(c=this.hideTriggers).length;r<p;r++)t((n=c[r]).element,n.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(a=0,d=(f=this.showTriggersWhenVisible).length;a<d;a++)t((n=f[a]).element,n.event,this.bound.prepareToShow);break;case"hiding":for(h=0,u=(g=this.showTriggers).length;h<u;h++)t((n=g[h]).element,n.event,this.bound.prepareToShow);break;case"hidden":break;default:throw new Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){if(this._abortHiding(),this._abortShowing(),!this.visible)return this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0)},t.prototype.show=function(){var e=this;if(this._abortHiding(),!this.visible)return this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this.class.hiding),this.adapter.removeClass(this.container,this.class.hidden),this.adapter.addClass(this.container,this.class.goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e.class.goingToShow),e.adapter.addClass(e.container,e.class.showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e.class.showing),e.adapter.addClass(e.container,e.class.visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate()},t.prototype._abortShowing=function(){if(this.preparingToShow)return this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")},t.prototype.prepareToHide=function(){if(this._abortShowing(),this._abortHiding(),this.visible)return this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)},t.prototype.hide=function(){var t=this;if(this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container))return this.adapter.removeClass(this.container,this.class.visible),this.adapter.removeClass(this.container,this.class.showing),this.adapter.addClass(this.container,this.class.goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t.class.goingToHide),t.adapter.addClass(t.container,t.class.hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){if(t.adapter.removeClass(t.container,t.class.hiding),t.adapter.addClass(t.container,t.class.hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide)return t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement},e)})},t.prototype._abortHiding=function(){if(this.preparingToHide)return this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")},t.prototype.reposition=function(){var t,e,i,o=this;if(null!=(t=this.getPosition())&&(e=this.options.stem,this.options.containInViewport&&(t=(i=this._ensureViewportContainment(t)).position,e=i.stem),!this._positionsEqual(t,this.currentPosition)))return this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:t.left+"px",top:t.top+"px"}),this.defer(function(){var t;return(t=o.adapter.unwrap(o.container)).style.visibility="hidden",t.offsetHeight,t.style.visibility="visible"})},t.prototype.getPosition=function(t,e,i){var o,n,s,r,a,h,l,p,d;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),r={},this.options.target?(l=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=l,e.right?null!=(p=this.adapter.unwrap(this.options.target)).getBoundingClientRect?r.left=p.getBoundingClientRect().right+(null!=(d=window.pageXOffset)?d:document.body.scrollLeft):r.left+=h.width:e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(s=(a=this.options.stem?this.options.stemLength:0)&&this.options.fixed?2:10,o=t.middle&&!this.options.fixed?15:0,n=t.center&&!this.options.fixed?15:0,t.right?r.left-=s+o:t.left&&(r.left+=s+o),t.bottom?r.top-=s+n:t.top&&(r.top+=s+n),a&&(null==i&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,n,s,r,a,h,l,p,d,u;if(n={position:e,stem:h=this.options.stem},!this.visible||!e)return n;if(!(l=this._sticksOut(e))[0]&&!l[1])return n;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(p=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),[e.left-a[0],e.top-a[1]],i=!1,u.width>=this.dimensions.width&&l[0])switch(i=!0,l[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&p.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&p.setHorizontal("left")}if(u.height>=this.dimensions.height&&l[1])switch(i=!0,l[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&p.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&p.setVertical("top")}return i?(this.options.stem&&(h=d),e=this.getPosition(d,p,h),s=!1,r=!1,(o=this._sticksOut(e))[0]&&o[0]!==l[0]&&(s=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&p.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==l[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&p.setVertical(this.options.targetJoint.vertical)),s&&r?n:((s||r)&&(this.options.stem&&(h=d),e=this.getPosition(d,p,h)),{position:e,stem:h})):n},t.prototype._sticksOut=function(t){var e,i,o,n;return i=this.adapter.scrollOffset(),n=this.adapter.viewportDimensions(),o=[!1,!1],(e=[t.left-i[0],t.top-i[1]])[0]<0?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>n.width&&(o[0]=this.STICKS_OUT_RIGHT),e[1]<0?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>n.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m,v,y,b,_=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(g=0,m=(v=["top","right","bottom","left"]).length;g<m;g++)u=v[g],this.adapter.removeClass(this.container,"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(s=new t.Joint("top right"===(null!=(y=this.currentStem)?y.toString():void 0)?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),n=[0,0],this.options.borderWidth&&(o.width+=2*this.options.borderWidth,o.height+=2*this.options.borderWidth,n[0]-=this.options.borderWidth,n[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=2*this.options.shadowBlur,o.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),o.height+=2*this.options.shadowBlur,o.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),n[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),n[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),s&&(s.left?i.left=Math.max(i.left,a[0]):s.right&&(i.right=Math.max(i.right,a[0])),s.top?i.top=Math.max(i.top,a[1]):s.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,n[0]-=i.left,n[1]-=i.top,this.currentStem&&this.options.borderWidth&&(b=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=b.stemLength,c=b.stemBase),(e=this.adapter.unwrap(this.backgroundCanvas)).width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:e.width+"px",height:e.height+"px",left:n[0]+"px",top:n[1]+"px"}),(h=e.getContext("2d")).setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(f=this.options.stemLength,c=this.options.stemBase),null==c&&(c=0),p=function(t,e,i){if(i&&h.moveTo(Math.max(c,_.options.borderRadius,r[0])+1-d,-d),e)return h.lineTo(t/2-c/2,-d),h.lineTo(t/2,-f-d),h.lineTo(t/2+c/2,-d)},l=function(t,e,i){var o,n,s,a;return t?(h.lineTo(-c+d,0-d),h.lineTo(f+d,-f-d),h.lineTo(d,c-d)):e?(a=_.options.closeButtonOffset,s=r[0],i%2!=0&&(a=[a[1],a[0]],s=r[1]),o=Math.acos(a[1]/_.options.closeButtonRadius),n=Math.acos(a[0]/_.options.closeButtonRadius),h.lineTo(-s+d,-d),h.arc(d-a[0],-d+a[1],_.options.closeButtonRadius,-(Math.PI/2+o),n,!1)):(h.lineTo(-_.options.borderRadius+d,-d),h.quadraticCurveTo(d,-d,d,_.options.borderRadius-d))},h.translate(-n[0],-n[1]),h.save(),function(){var e,i,o,n,r,a,d,u,c,f,g;for(g=[],i=c=0,f=t.positions.length/2;0<=f?c<f:c>f;i=0<=f?++c:--c)r=2*i,a=0===i||3===i?0:_.dimensions.width,d=i<2?0:_.dimensions.height,u=Math.PI/2*i,o=i%2==0?_.dimensions.width:_.dimensions.height,n=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,d),h.rotate(u),p(o,n.eql(_.currentStem),0===i),h.translate(o,0),l(e.eql(_.currentStem),e.eql(s),i),g.push(h.restore())}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),s?(_.options.closeButtonRadius,w="top right"===s.toString()?[(x=[_.dimensions.width-_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]+d,x[1]-d]:[(x=[_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]-d,x[1]-d],h.translate(w[0],w[1]),C=_.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=_.options.closeButtonCrossColor,h.lineWidth=_.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-C,-C),h.lineTo(C,C),h.stroke(),h.beginPath(),h.moveTo(C,-C),h.lineTo(-C,C),h.stroke(),h.restore(),_.adapter.css(_.closeButtonElement,{left:x[0]-C-_.options.closeButtonLinkOverscan+"px",top:x[1]-C-_.options.closeButtonLinkOverscan+"px",width:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px",height:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px"})):void 0;var w,C,x}},t.prototype._getPathStemMeasures=function(t,e,i){var o,n,s,r;if(s=i/2,o=2*(n=Math.atan(t/2/e)),(r=s+e-2*(s/Math.sin(o))*Math.cos(n))<0)throw new Error("Sorry but your stemLength / stemBase ratio is strange.");return{stemLength:r,stemBase:Math.tan(n)*r*2}},t.prototype._getColor=function(t,e,i,o){var n,s,r,a,h;if(null==o&&(o=!1),"string"==typeof i)return i;for(s=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;a<h;r=++a)n=i[r],s.addColorStop(n[0],n[1]);return s},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(e=0,i=(o=this.adapter.findAll(this.container,"."+this.class.close)).length;e<i;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});if(this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible)return this._setupObservers("-visible","visible")},t.prototype._activateFirstInput=function(){var t;return null!=(t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")))&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){if(!this.options.fixed)return t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){if(!this.options.fixed)return t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this.class.loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t.class.loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t.class.ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t.class.loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){if(!this._triggerElementExists())return this.deactivate(),this._stopEnsureTriggerElement()},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,n,s,r;for(i in t=this.adapter.unwrap(t),r=[],e)__hasProp.call(e,i)&&(o=e[i],null!=t.style[i]?r.push(t.style[i]=o):r.push(function(){var e,r,a;for(a=[],e=0,r=vendors.length;e<r;e++)n=vendors[e],s=""+this.ucfirst(n)+this.ucfirst(i),null!=t.style[s]?a.push(t.style[s]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,n;for(mousePosition=Opentip.adapter.mousePosition(t),n=[],i=0,o=mousePositionObservers.length;i<o;i++)e=mousePositionObservers[i],n.push(e());return n},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,o,n;for(n=[],i=0,o=mousePositionObservers.length;i<o;i++)(e=mousePositionObservers[i])!==t&&n.push(e);return n}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t=t.toString()),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["left","center","right"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["top","middle","bottom"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t;return t=(Opentip.position[this.toString(!0)]+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return null==t&&(t=!1),i="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;if(t=1<=arguments.length?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0))return t.unshift("#"+this.id+" |"),console.debug.apply(console,t)},Opentip.findElements=function(){var t,e,i,o,n,s,r,a,h,l;for(l=[],r=0,a=(h=(t=Opentip.adapter).findAll(document.body,"[data-ot]")).length;r<a;r++){for(o in i=h[r],s={},""!==(e=t.data(i,"ot"))&&"true"!==e&&"yes"!==e||(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"",Opentip.styles.standard)null!=(n=t.data(i,"ot"+Opentip.prototype.ucfirst(o)))&&("yes"===n||"true"===n||"on"===n?n=!0:"no"!==n&&"false"!==n&&"off"!==n||(n=!1),s[o]=n);l.push(new Opentip(i,e,s))}return l},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){if(Opentip.adapters[t.name]=t,firstAdapter)return Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},i=_i=0,_len=(_ref=Opentip.positions).length;_i<_len;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{extends:null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{extends:"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{extends:"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{extends:"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;__hasProp={}.hasOwnProperty,__slice=[].slice;Adapter=function(){var t,e;function i(){}return i.prototype.name="native",i.prototype.domReady=function(t){var e,i,o,n,s,r,a,h,l,p,d;if(o=!1,l=!0,p=window,"complete"===(d=(i=document).readyState)||"loaded"===d)return t();if(h=i.documentElement,e=i.addEventListener?"addEventListener":"attachEvent",a=i.addEventListener?"removeEventListener":"detachEvent",r=i.addEventListener?"":"on",n=function(e){if("readystatechange"!==e.type||"complete"===i.readyState)return("load"===e.type?p:i)[a](r+e.type,n,!1),o?void 0:(o=!0,t())},s=function(){try{h.doScroll("left")}catch(t){return void setTimeout(s,50)}return n("poll")},"complete"!==i.readyState){if(i.createEventObject&&h.doScroll){try{l=!p.frameElement}catch(t){}l&&s()}return i[e](r+"DOMContentLoaded",n,!1),i[e](r+"readystatechange",n,!1),p[e](r+"load",n,!1)}},i.prototype.create=function(t){var e;return(e=document.createElement("div")).innerHTML=t,this.wrap(e.childNodes)},i.prototype.wrap=function(t){var e;return t?"string"==typeof t?t=(t=this.find(document.body,t))?[t]:[]:t instanceof NodeList?t=function(){var i,o,n;for(n=[],i=0,o=t.length;i<o;i++)e=t[i],n.push(e);return n}():t instanceof Array||(t=[t]):t=[],t},i.prototype.unwrap=function(t){return this.wrap(t)[0]},i.prototype.tagName=function(t){return this.unwrap(t).tagName},i.prototype.attr=function(t,e,i){return 3===arguments.length?this.unwrap(t).setAttribute(e,i):this.unwrap(t).getAttribute(e)},e=0,t={},i.prototype.data=function(i,o,n){var s;return(s=this.attr(i,"data-id"))||(s=++e,this.attr(i,"data-id",s),t[s]={}),3===arguments.length?t[s][o]=n:null!=(n=t[s][o])?n:((n=this.attr(i,"data-"+Opentip.prototype.dasherize(o)))&&(t[s][o]=n),n)},i.prototype.find=function(t,e){return this.unwrap(t).querySelector(e)},i.prototype.findAll=function(t,e){return this.unwrap(t).querySelectorAll(e)},i.prototype.update=function(t,e,i){return t=this.unwrap(t),i?(t.innerHTML="",t.appendChild(document.createTextNode(e))):t.innerHTML=e},i.prototype.append=function(t,e){var i;return i=this.unwrap(e),this.unwrap(t).appendChild(i)},i.prototype.remove=function(t){var e;if(null!=(e=(t=this.unwrap(t)).parentNode))return e.removeChild(t)},i.prototype.addClass=function(t,e){return this.unwrap(t).classList.add(e)},i.prototype.removeClass=function(t,e){return this.unwrap(t).classList.remove(e)},i.prototype.css=function(t,e){var i,o,n;for(i in t=this.unwrap(this.wrap(t)),n=[],e)__hasProp.call(e,i)&&(o=e[i],n.push(t.style[i]=o));return n},i.prototype.dimensions=function(t){var e,i;return(e={width:(t=this.unwrap(this.wrap(t))).offsetWidth,height:t.offsetHeight}).width&&e.height||(i={position:t.style.position||"",visibility:t.style.visibility||"",display:t.style.display||""},this.css(t,{position:"absolute",visibility:"hidden",display:"block"}),e={width:t.offsetWidth,height:t.offsetHeight},this.css(t,i)),e},i.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},i.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},i.prototype.mousePosition=function(t){var e;if(e={x:0,y:0},null==t&&(t=window.event),null!=t){try{t.pageX||t.pageY?(e.x=t.pageX,e.y=t.pageY):(t.clientX||t.clientY)&&(e.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop)}catch(t){}return e}},i.prototype.offset=function(t){var e;for(e={top:(t=this.unwrap(t)).offsetTop,left:t.offsetLeft};t=t.offsetParent;)e.top+=t.offsetTop,e.left+=t.offsetLeft,t!==document.body&&(e.top-=t.scrollTop,e.left-=t.scrollLeft);return e},i.prototype.observe=function(t,e,i){return this.unwrap(t).addEventListener(e,i,!1)},i.prototype.stopObserving=function(t,e,i){return this.unwrap(t).removeEventListener(e,i,!1)},i.prototype.ajax=function(t){var e,i,o;if(null==t.url)throw new Error("No url provided");if(window.XMLHttpRequest)e=new XMLHttpRequest;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}if(!e)throw new Error("Can't create XMLHttpRequest");return e.onreadystatechange=function(){if(4===e.readyState){try{200===e.status?"function"==typeof t.onSuccess&&t.onSuccess(e.responseText):"function"==typeof t.onError&&t.onError("Server responded with status "+e.status)}catch(e){"function"==typeof t.onError&&t.onError(e.message)}return"function"==typeof t.onComplete?t.onComplete():void 0}},e.open(null!=(i=null!=(o=t.method)?o.toUpperCase():void 0)?i:"GET",t.url),e.send()},i.prototype.clone=function(t){var e,i,o;for(e in i={},t)__hasProp.call(t,e)&&(o=t[e],i[e]=o);return i},i.prototype.extend=function(){var t,e,i,o,n,s,r;for(o=arguments[0],s=0,r=(i=2<=arguments.length?__slice.call(arguments,1):[]).length;s<r;s++)for(t in e=i[s])__hasProp.call(e,t)&&(n=e[t],o[t]=n);return o},i}(),Opentip.addAdapter(new Adapter),document.createElement("canvas").getContext||function(){var t=Math,e=t.round,i=t.sin,o=t.cos,n=t.abs,s=t.sqrt,r=10,a=r/2;function h(){return this.context_||(this.context_=new b(this))}var l=Array.prototype.slice;var p={init:function(t){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var e=t||document;e.createElement("canvas"),e.attachEvent("onreadystatechange",function(t,e,i){var o=l.call(arguments,2);return function(){return t.apply(e,o.concat(l.call(arguments)))}}(this.init_,this,e))}},init_:function(t){if(t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}for(var i=t.getElementsByTagName("canvas"),o=0;o<i.length;o++)this.initElement(i[o])},initElement:function(t){if(!t.getContext){t.getContext=h,t.innerHTML="",t.attachEvent("onpropertychange",d),t.attachEvent("onresize",u);var e=t.attributes;e.width&&e.width.specified?t.style.width=e.width.nodeValue+"px":t.width=t.clientWidth,e.height&&e.height.specified?t.style.height=e.height.nodeValue+"px":t.height=t.clientHeight}return t}};function d(t){var e=t.srcElement;switch(t.propertyName){case"width":e.style.width=e.attributes.width.nodeValue+"px",e.getContext().clearRect();break;case"height":e.style.height=e.attributes.height.nodeValue+"px",e.getContext().clearRect()}}function u(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}p.init();for(var c=[],f=0;f<16;f++)for(var g=0;g<16;g++)c[16*f+g]=f.toString(16)+g.toString(16);function m(t,e){for(var i=[[1,0,0],[0,1,0],[0,0,1]],o=0;o<3;o++)for(var n=0;n<3;n++){for(var s=0,r=0;r<3;r++)s+=t[o][r]*e[r][n];i[o][n]=s}return i}function v(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function y(t){var e,i=1;if("rgb"==(t=String(t)).substring(0,3)){var o=t.indexOf("(",3),n=t.indexOf(")",o+1),s=t.substring(o+1,n).split(",");e="#";for(var r=0;r<3;r++)e+=c[Number(s[r])];4==s.length&&"a"==t.substr(3,1)&&(i=s[3])}else e=t;return{color:e,alpha:i}}function b(t){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*r,this.globalAlpha=1,this.canvas=t;var e=t.ownerDocument.createElement("div");e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",e.style.position="absolute",t.appendChild(e),this.element_=e,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}var _=b.prototype;function w(t,e,i,o){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:o.x,y:o.y}),t.currentX_=o.x,t.currentY_=o.y}function C(t,e,i){if(function(t){for(var e=0;e<3;e++)for(var i=0;i<2;i++)if(!isFinite(t[e][i])||isNaN(t[e][i]))return!1;return!0}(e)&&(t.m_=e,i)){var o=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=s(n(o))}}function x(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function T(){}_.clearRect=function(){this.element_.innerHTML=""},_.beginPath=function(){this.currentPath_=[]},_.moveTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},_.lineTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},_.bezierCurveTo=function(t,e,i,o,n,s){var r=this.getCoords_(n,s);w(this,this.getCoords_(t,e),this.getCoords_(i,o),r)},_.quadraticCurveTo=function(t,e,i,o){var n=this.getCoords_(t,e),s=this.getCoords_(i,o),r={x:this.currentX_+2/3*(n.x-this.currentX_),y:this.currentY_+2/3*(n.y-this.currentY_)};w(this,r,{x:r.x+(s.x-this.currentX_)/3,y:r.y+(s.y-this.currentY_)/3},s)},_.arc=function(t,e,n,s,h,l){n*=r;var p=l?"at":"wa",d=t+o(s)*n-a,u=e+i(s)*n-a,c=t+o(h)*n-a,f=e+i(h)*n-a;d!=c||l||(d+=.125);var g=this.getCoords_(t,e),m=this.getCoords_(d,u),v=this.getCoords_(c,f);this.currentPath_.push({type:p,x:g.x,y:g.y,radius:n,xStart:m.x,yStart:m.y,xEnd:v.x,yEnd:v.y})},_.rect=function(t,e,i,o){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath()},_.strokeRect=function(t,e,i,o){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath(),this.stroke(),this.currentPath_=n},_.fillRect=function(t,e,i,o){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath(),this.fill(),this.currentPath_=n},_.createLinearGradient=function(t,e,i,o){var n=new x("gradient");return n.x0_=t,n.y0_=e,n.x1_=i,n.y1_=o,n},_.createRadialGradient=function(t,e,i,o,n,s){var r=new x("gradientradial");return r.x0_=t,r.y0_=e,r.r0_=i,r.x1_=o,r.y1_=n,r.r1_=s,r},_.drawImage=function(i,o){var n,s,a,h,l,p,d,u,c=i.runtimeStyle.width,f=i.runtimeStyle.height;i.runtimeStyle.width="auto",i.runtimeStyle.height="auto";var g=i.width,m=i.height;if(i.runtimeStyle.width=c,i.runtimeStyle.height=f,3==arguments.length)n=arguments[1],s=arguments[2],l=p=0,d=a=g,u=h=m;else if(5==arguments.length)n=arguments[1],s=arguments[2],a=arguments[3],h=arguments[4],l=p=0,d=g,u=m;else{if(9!=arguments.length)throw Error("Invalid number of arguments");l=arguments[1],p=arguments[2],d=arguments[3],u=arguments[4],n=arguments[5],s=arguments[6],a=arguments[7],h=arguments[8]}var v=this.getCoords_(n,s),y=[];if(y.push(" <g_vml_:group",' coordsize="',10*r,",",10*r,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]){var b=[];b.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",e(v.x/r),",","Dy=",e(v.y/r),"");var _=v,w=this.getCoords_(n+a,s),C=this.getCoords_(n,s+h),x=this.getCoords_(n+a,s+h);_.x=t.max(_.x,w.x,C.x,x.x),_.y=t.max(_.y,w.y,C.y,x.y),y.push("padding:0 ",e(_.x/r),"px ",e(_.y/r),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",b.join(""),", sizingmethod='clip');")}else y.push("top:",e(v.y/r),"px;left:",e(v.x/r),"px;");y.push(' ">','<g_vml_:image src="',i.src,'"',' style="width:',r*a,"px;"," height:",r*h,'px;"',' cropleft="',l/g,'"',' croptop="',p/m,'"',' cropright="',(g-l-d)/g,'"',' cropbottom="',(m-p-u)/m,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",y.join(""))},_.stroke=function(i){var o=[],n=y(i?this.fillStyle:this.strokeStyle),s=n.color,a=n.alpha*this.globalAlpha;o.push("<g_vml_:shape",' filled="',!!i,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0 0" coordsize="',10*r," ",10*r,'"',' stroked="',!i,'"',' path="');for(var h={x:null,y:null},l={x:null,y:null},p=0;p<this.currentPath_.length;p++){var d=this.currentPath_[p];switch(d.type){case"moveTo":d,o.push(" m ",e(d.x),",",e(d.y));break;case"lineTo":o.push(" l ",e(d.x),",",e(d.y));break;case"close":o.push(" x "),d=null;break;case"bezierCurveTo":o.push(" c ",e(d.cp1x),",",e(d.cp1y),",",e(d.cp2x),",",e(d.cp2y),",",e(d.x),",",e(d.y));break;case"at":case"wa":o.push(" ",d.type," ",e(d.x-this.arcScaleX_*d.radius),",",e(d.y-this.arcScaleY_*d.radius)," ",e(d.x+this.arcScaleX_*d.radius),",",e(d.y+this.arcScaleY_*d.radius)," ",e(d.xStart),",",e(d.yStart)," ",e(d.xEnd),",",e(d.yEnd))}d&&((null==h.x||d.x<h.x)&&(h.x=d.x),(null==l.x||d.x>l.x)&&(l.x=d.x),(null==h.y||d.y<h.y)&&(h.y=d.y),(null==l.y||d.y>l.y)&&(l.y=d.y))}if(o.push(' ">'),i)if("object"==typeof this.fillStyle){var u=this.fillStyle,c=0,f={x:0,y:0},g=0,m=1;if("gradient"==u.type_){var v=u.x0_/this.arcScaleX_,b=u.y0_/this.arcScaleY_,_=u.x1_/this.arcScaleX_,w=u.y1_/this.arcScaleY_,C=this.getCoords_(v,b),x=this.getCoords_(_,w),T=x.x-C.x,O=x.y-C.y;(c=180*Math.atan2(T,O)/Math.PI)<0&&(c+=360),c<1e-6&&(c=0)}else{C=this.getCoords_(u.x0_,u.y0_);var S=l.x-h.x,E=l.y-h.y;f={x:(C.x-h.x)/S,y:(C.y-h.y)/E},S/=this.arcScaleX_*r,E/=this.arcScaleY_*r;var k=t.max(S,E);g=2*u.r0_/k,m=2*u.r1_/k-g}var P=u.colors_;P.sort(function(t,e){return t.offset-e.offset});var j=P.length,B=P[0].color,M=P[j-1].color,I=P[0].alpha*this.globalAlpha,A=P[j-1].alpha*this.globalAlpha,L=[];for(p=0;p<j;p++){var H=P[p];L.push(H.offset*m+g+" "+H.color)}o.push('<g_vml_:fill type="',u.type_,'"',' method="none" focus="100%"',' color="',B,'"',' color2="',M,'"',' colors="',L.join(","),'"',' opacity="',A,'"',' g_o_:opacity2="',I,'"',' angle="',c,'"',' focusposition="',f.x,",",f.y,'" />')}else o.push('<g_vml_:fill color="',s,'" opacity="',a,'" />');else{var z=this.lineScale_*this.lineWidth;z<1&&(a*=z),o.push("<g_vml_:stroke",' opacity="',a,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',function(t){switch(t){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}(this.lineCap),'"',' weight="',z,'px"',' color="',s,'" />')}o.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",o.join(""))},_.fill=function(){this.stroke(!0)},_.closePath=function(){this.currentPath_.push({type:"close"})},_.getCoords_=function(t,e){var i=this.m_;return{x:r*(t*i[0][0]+e*i[1][0]+i[2][0])-a,y:r*(t*i[0][1]+e*i[1][1]+i[2][1])-a}},_.save=function(){var t={};v(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=m([[1,0,0],[0,1,0],[0,0,1]],this.m_)},_.restore=function(){v(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},_.translate=function(t,e){C(this,m([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},_.rotate=function(t){var e=o(t),n=i(t);C(this,m([[e,n,0],[-n,e,0],[0,0,1]],this.m_),!1)},_.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,C(this,m([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},_.transform=function(t,e,i,o,n,s){C(this,m([[t,e,0],[i,o,0],[n,s,1]],this.m_),!0)},_.setTransform=function(t,e,i,o,n,s){C(this,[[t,e,0],[i,o,0],[n,s,1]],!0)},_.clip=function(){},_.arcTo=function(){},_.createPattern=function(){return new T},x.prototype.addColorStop=function(t,e){e=y(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},G_vmlCanvasManager=p,CanvasRenderingContext2D=b,CanvasGradient=x,CanvasPattern=T}(),"undefined"==typeof document||"classList"in document.createElement("a")||function(t){"use strict";if("HTMLElement"in t||"Element"in t){var e=(t.HTMLElement||t.Element).prototype,i=Object,o=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},n=Array.prototype.indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},r=function(t,e){if(""===e)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return n.call(t,e)},a=function(t){for(var e=o.call(t.className),i=e?e.split(/\s+/):[],n=0,s=i.length;n<s;n++)this.push(i[n]);this._updateClassName=function(){t.className=this.toString()}},h=a.prototype=[],l=function(){return new a(this)};if(s.prototype=Error.prototype,h.item=function(t){return this[t]||null},h.contains=function(t){return-1!==r(this,t+="")},h.add=function(){var t,e=arguments,i=0,o=e.length,n=!1;do{t=e[i]+"",-1===r(this,t)&&(this.push(t),n=!0)}while(++i<o);n&&this._updateClassName()},h.remove=function(){var t,e=arguments,i=0,o=e.length,n=!1;do{t=e[i]+"";var s=r(this,t);-1!==s&&(this.splice(s,1),n=!0)}while(++i<o);n&&this._updateClassName()},h.toggle=function(t,e){t+="";var i=this.contains(t),o=i?!0!==e&&"remove":!1!==e&&"add";return o&&this[o](t),i},h.toString=function(){return this.join(" ")},i.defineProperty){var p={get:l,enumerable:!0,configurable:!0};try{i.defineProperty(e,"classList",p)}catch(t){-2146823252===t.number&&(p.enumerable=!1,i.defineProperty(e,"classList",p))}}else i.prototype.__defineGetter__&&e.__defineGetter__("classList",l)}}(self),!window.addEventListener&&function(t,e,i,o,n,s,r){t.addEventListener=e.addEventListener=i.addEventListener=function(t,e){var i=this;r.unshift([i,t,e,function(t){t.currentTarget=i,t.preventDefault=function(){t.returnValue=!1},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||i,e.call(i,t)}]),this.attachEvent("on"+t,r[0][3])},t.removeEventListener=e.removeEventListener=i.removeEventListener=function(t,e){for(var i,o=0;i=r[o];++o)if(i[0]==this&&i[1]==t&&i[2]==e)return this.detachEvent("on"+t,r.splice(o,1)[0][3])},t.dispatchEvent=e.dispatchEvent=i.dispatchEvent=function(t){return this.fireEvent("on"+t.type,t)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,0,0,0,[]);__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,o,n){var s,r,a,h,l,p,d,u,c,f,g,m,v,y,b=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,(s=this.adapter.data(e,"opentips")||[]).push(this),this.adapter.data(e,"opentips",s),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw Error("You can't call Opentip on multiple elements.");if(1>this.triggerElement.length)throw Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},n=this.adapter.clone(n),"object"==typeof i?(n=i,i=o=void 0):"object"==typeof o&&(n=o,o=void 0),null!=o&&(n.title=o),null!=i&&this.setContent(i),null==n.extends&&(n.extends=null!=n.style?n.style:t.defaultStyle),h=[n],y=n;y.extends;){if(p=y.extends,null==(y=t.styles[p]))throw Error("Invalid style: "+p);h.unshift(y),null==y.extends&&"standard"!==p&&(y.extends="standard")}for((n=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(h)))).hideTriggers=function(){var t,e,i,o;for(o=[],t=0,e=(i=n.hideTriggers).length;e>t;t++)r=i[t],o.push(r);return o}(),n.hideTrigger&&0===n.hideTriggers.length&&n.hideTriggers.push(n.hideTrigger),d=0,c=(m=["tipJoint","targetJoint","stem"]).length;c>d;d++)n[l=m[d]]&&"string"==typeof n[l]&&(n[l]=new t.Joint(n[l]));for(!n.ajax||!0!==n.ajax&&n.ajax||(n.ajax="A"===this.adapter.tagName(this.triggerElement)&&this.adapter.attr(this.triggerElement,"href")),"click"===n.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),n.target&&(n.fixed=!0),!0===n.stem&&(n.stem=new t.Joint(n.tipJoint)),!0===n.target?n.target=this.triggerElement:n.target&&(n.target=this.adapter.wrap(n.target)),this.currentStem=n.stem,null==n.delay&&(n.delay="mouseover"===n.showOn?.2:0),null==n.targetJoint&&(n.targetJoint=new t.Joint(n.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],n.showOn&&"creation"!==n.showOn&&this.showTriggers.push({element:this.triggerElement,event:n.showOn}),null!=n.ajaxCache&&(n.cache=n.ajaxCache,delete n.ajaxCache),this.options=n,this.bound={},u=0,f=(v=["prepareToShow","prepareToHide","show","hide","reposition"]).length;f>u;u++)a=v[u],this.bound[a]=function(t){return function(){return b[t].apply(b,arguments)}}(a);this.adapter.domReady(function(){return b.activate(),"creation"===b.options.showOn?b.prepareToShow():void 0})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype.class={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,n,s,r,a,h,l,p;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],o=n=0,r=(h=this.options.hideTriggers).length;r>n;o=++n){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=[],s=0,a=(l=this.hideTriggers).length;a>s;s++)e=l[s],p.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return p},t.prototype._buildContainer=function(){return this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this.class.container+" "+this.class.hidden+" "+this.class.stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this.class.loading),this.options.fixed&&this.adapter.addClass(this.container,this.class.fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this.class.showEffectPrefix+this.options.showEffect),this.options.hideEffect?this.adapter.addClass(this.container,""+this.class.hideEffectPrefix+this.options.hideEffect):void 0},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this.class.opentip+'"><div class="'+this.class.header+'"></div><div class="'+this.class.content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this.class.header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this.class.loadingIndicator+'"><span>↻</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this.class.close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){return this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible?this._updateElementContent():void 0},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(null!=(t=this.adapter.find(this.container,"."+this.class.content))&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:this.dimensions.width+"px",top:this.currentPosition.top+"px",left:this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m=this;for(s=0,l=(o=arguments.length>=1?__slice.call(arguments,0):[]).length;l>s;s++)if(i=o[s],e=!1,"-"===i.charAt(0)&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=arguments.length>=1?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case"showing":for(r=0,p=(c=this.hideTriggers).length;p>r;r++)t((n=c[r]).element,n.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(a=0,d=(f=this.showTriggersWhenVisible).length;d>a;a++)t((n=f[a]).element,n.event,this.bound.prepareToShow);break;case"hiding":for(h=0,u=(g=this.showTriggers).length;u>h;h++)t((n=g[h]).element,n.event,this.bound.prepareToShow);break;case"hidden":break;default:throw Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){return this._abortHiding(),this._abortShowing(),this.visible?void 0:(this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0))},t.prototype.show=function(){var e=this;return this._abortHiding(),this.visible?void 0:(this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this.class.hiding),this.adapter.removeClass(this.container,this.class.hidden),this.adapter.addClass(this.container,this.class.goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e.class.goingToShow),e.adapter.addClass(e.container,e.class.showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e.class.showing),e.adapter.addClass(e.container,e.class.visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate())},t.prototype._abortShowing=function(){return this.preparingToShow?(this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")):void 0},t.prototype.prepareToHide=function(){return this._abortShowing(),this._abortHiding(),this.visible?(this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)):void 0},t.prototype.hide=function(){var t=this;return this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container)?(this.adapter.removeClass(this.container,this.class.visible),this.adapter.removeClass(this.container,this.class.showing),this.adapter.addClass(this.container,this.class.goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t.class.goingToHide),t.adapter.addClass(t.container,t.class.hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){return t.adapter.removeClass(t.container,t.class.hiding),t.adapter.addClass(t.container,t.class.hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide?(t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement):void 0},e)})):void 0},t.prototype._abortHiding=function(){return this.preparingToHide?(this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")):void 0},t.prototype.reposition=function(){var t,e,i,o=this;return null==(t=this.getPosition())||(e=this.options.stem,this.options.containInViewport&&(t=(i=this._ensureViewportContainment(t)).position,e=i.stem),this._positionsEqual(t,this.currentPosition))?void 0:(this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:t.left+"px",top:t.top+"px"}),this.defer(function(){var t;return(t=o.adapter.unwrap(o.container)).style.visibility="hidden",t.offsetHeight,t.style.visibility="visible"}))},t.prototype.getPosition=function(t,e,i){var o,n,s,r,a,h,l,p,d;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),r={},this.options.target?(l=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=l,e.right?null!=(p=this.adapter.unwrap(this.options.target)).getBoundingClientRect?r.left=p.getBoundingClientRect().right+(null!=(d=window.pageXOffset)?d:document.body.scrollLeft):r.left+=h.width:e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(s=(a=this.options.stem?this.options.stemLength:0)&&this.options.fixed?2:10,o=t.middle&&!this.options.fixed?15:0,n=t.center&&!this.options.fixed?15:0,t.right?r.left-=s+o:t.left&&(r.left+=s+o),t.bottom?r.top-=s+n:t.top&&(r.top+=s+n),a&&(null==i&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,n,s,r,a,h,l,p,d,u;if(n={position:e,stem:h=this.options.stem},!this.visible||!e)return n;if(!(l=this._sticksOut(e))[0]&&!l[1])return n;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(p=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),[e.left-a[0],e.top-a[1]],i=!1,u.width>=this.dimensions.width&&l[0])switch(i=!0,l[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&p.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&p.setHorizontal("left")}if(u.height>=this.dimensions.height&&l[1])switch(i=!0,l[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&p.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&p.setVertical("top")}return i?(this.options.stem&&(h=d),e=this.getPosition(d,p,h),s=!1,r=!1,(o=this._sticksOut(e))[0]&&o[0]!==l[0]&&(s=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&p.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==l[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&p.setVertical(this.options.targetJoint.vertical)),s&&r?n:((s||r)&&(this.options.stem&&(h=d),e=this.getPosition(d,p,h)),{position:e,stem:h})):n},t.prototype._sticksOut=function(t){var e,i,o,n;return i=this.adapter.scrollOffset(),n=this.adapter.viewportDimensions(),o=[!1,!1],0>(e=[t.left-i[0],t.top-i[1]])[0]?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>n.width&&(o[0]=this.STICKS_OUT_RIGHT),0>e[1]?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>n.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m,v,y,b,_=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(g=0,m=(v=["top","right","bottom","left"]).length;m>g;g++)u=v[g],this.adapter.removeClass(this.container,"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(s=new t.Joint("top right"===(null!=(y=this.currentStem)?y+"":void 0)?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),n=[0,0],this.options.borderWidth&&(o.width+=2*this.options.borderWidth,o.height+=2*this.options.borderWidth,n[0]-=this.options.borderWidth,n[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=2*this.options.shadowBlur,o.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),o.height+=2*this.options.shadowBlur,o.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),n[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),n[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),s&&(s.left?i.left=Math.max(i.left,a[0]):s.right&&(i.right=Math.max(i.right,a[0])),s.top?i.top=Math.max(i.top,a[1]):s.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,n[0]-=i.left,n[1]-=i.top,this.currentStem&&this.options.borderWidth&&(b=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=b.stemLength,c=b.stemBase),(e=this.adapter.unwrap(this.backgroundCanvas)).width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:e.width+"px",height:e.height+"px",left:n[0]+"px",top:n[1]+"px"}),(h=e.getContext("2d")).setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(f=this.options.stemLength,c=this.options.stemBase),null==c&&(c=0),p=function(t,e,i){return i&&h.moveTo(Math.max(c,_.options.borderRadius,r[0])+1-d,-d),e?(h.lineTo(t/2-c/2,-d),h.lineTo(t/2,-f-d),h.lineTo(t/2+c/2,-d)):void 0},l=function(t,e,i){var o,n,s,a;return t?(h.lineTo(-c+d,0-d),h.lineTo(f+d,-f-d),h.lineTo(d,c-d)):e?(a=_.options.closeButtonOffset,s=r[0],i%2!=0&&(a=[a[1],a[0]],s=r[1]),o=Math.acos(a[1]/_.options.closeButtonRadius),n=Math.acos(a[0]/_.options.closeButtonRadius),h.lineTo(-s+d,-d),h.arc(d-a[0],-d+a[1],_.options.closeButtonRadius,-(Math.PI/2+o),n,!1)):(h.lineTo(-_.options.borderRadius+d,-d),h.quadraticCurveTo(d,-d,d,_.options.borderRadius-d))},h.translate(-n[0],-n[1]),h.save(),function(){var e,i,o,n,r,a,d,u,c,f,g;for(g=[],i=c=0,f=t.positions.length/2;f>=0?f>c:c>f;i=f>=0?++c:--c)r=2*i,a=0===i||3===i?0:_.dimensions.width,d=2>i?0:_.dimensions.height,u=Math.PI/2*i,o=i%2==0?_.dimensions.width:_.dimensions.height,n=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,d),h.rotate(u),p(o,n.eql(_.currentStem),0===i),h.translate(o,0),l(e.eql(_.currentStem),e.eql(s),i),g.push(h.restore())}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),s?function(){var t,e,i;return 2*_.options.closeButtonRadius,s+""=="top right"?t=[(i=[_.dimensions.width-_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]+d,i[1]-d]:t=[(i=[_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]-d,i[1]-d],h.translate(t[0],t[1]),e=_.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=_.options.closeButtonCrossColor,h.lineWidth=_.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-e,-e),h.lineTo(e,e),h.stroke(),h.beginPath(),h.moveTo(e,-e),h.lineTo(-e,e),h.stroke(),h.restore(),_.adapter.css(_.closeButtonElement,{left:i[0]-e-_.options.closeButtonLinkOverscan+"px",top:i[1]-e-_.options.closeButtonLinkOverscan+"px",width:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px",height:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px"})}():void 0}},t.prototype._getPathStemMeasures=function(t,e,i){var o,n,s,r;if(s=i/2,o=2*(n=Math.atan(t/2/e)),0>(r=s+e-2*(s/Math.sin(o))*Math.cos(n)))throw Error("Sorry but your stemLength / stemBase ratio is strange.");return{stemLength:r,stemBase:Math.tan(n)*r*2}},t.prototype._getColor=function(t,e,i,o){var n,s,r,a,h;if(null==o&&(o=!1),"string"==typeof i)return i;for(s=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;h>a;r=++a)n=i[r],s.addColorStop(n[0],n[1]);return s},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(e=0,i=(o=this.adapter.findAll(this.container,"."+this.class.close)).length;i>e;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});return this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible?this._setupObservers("-visible","visible"):void 0},t.prototype._activateFirstInput=function(){var t;return null!=(t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")))&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){return this.options.fixed?void 0:t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){return this.options.fixed?void 0:t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this.class.loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t.class.loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t.class.ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t.class.loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){return this._triggerElementExists()?void 0:(this.deactivate(),this._stopEnsureTriggerElement())},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,n,s,r;for(i in t=this.adapter.unwrap(t),r=[],e)__hasProp.call(e,i)&&(o=e[i],null!=t.style[i]?r.push(t.style[i]=o):r.push(function(){var e,r,a;for(a=[],e=0,r=vendors.length;r>e;e++)n=vendors[e],s=""+this.ucfirst(n)+this.ucfirst(i),null!=t.style[s]?a.push(t.style[s]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,n;for(mousePosition=Opentip.adapter.mousePosition(t),n=[],i=0,o=mousePositionObservers.length;o>i;i++)e=mousePositionObservers[i],n.push(e());return n},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,o,n;for(n=[],i=0,o=mousePositionObservers.length;o>i;i++)(e=mousePositionObservers[i])!==t&&n.push(e);return n}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t+=""),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["left","center","right"]).length;s>o;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],n=0,r=i.length;r>n;n++)e=i[n],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["top","middle","bottom"]).length;s>o;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],n=0,r=i.length;r>n;n++)e=i[n],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t;return t=(Opentip.position[this.toString(!0)]+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return null==t&&(t=!1),i="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;return t=arguments.length>=1?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0)?(t.unshift("#"+this.id+" |"),console.debug.apply(console,t)):void 0},Opentip.findElements=function(){var t,e,i,o,n,s,r,a,h,l;for(l=[],r=0,a=(h=(t=Opentip.adapter).findAll(document.body,"[data-ot]")).length;a>r;r++){for(o in i=h[r],s={},(""===(e=t.data(i,"ot"))||"true"===e||"yes"===e)&&(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"",Opentip.styles.standard)null!=(n=t.data(i,"ot"+Opentip.prototype.ucfirst(o)))&&("yes"===n||"true"===n||"on"===n?n=!0:("no"===n||"false"===n||"off"===n)&&(n=!1),s[o]=n);l.push(new Opentip(i,e,s))}return l},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;n>o;o++)(i=s[o])!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;n>o;o++)(i=s[o])!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){return Opentip.adapters[t.name]=t,firstAdapter?(Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1):void 0},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},i=_i=0,_len=(_ref=Opentip.positions).length;_len>_i;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{extends:null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{extends:"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{extends:"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{extends:"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;__hasProp={}.hasOwnProperty,__slice=[].slice;Adapter=function(){function t(){}var e,i;return t.prototype.name="native",t.prototype.domReady=function(t){var e,i,o,n,s,r,a,h,l,p,d;if(o=!1,l=!0,p=window,"complete"===(d=(i=document).readyState)||"loaded"===d)return t();if(h=i.documentElement,e=i.addEventListener?"addEventListener":"attachEvent",a=i.addEventListener?"removeEventListener":"detachEvent",r=i.addEventListener?"":"on",n=function(e){return"readystatechange"!==e.type||"complete"===i.readyState?(("load"===e.type?p:i)[a](r+e.type,n,!1),o?void 0:(o=!0,t())):void 0},s=function(){try{h.doScroll("left")}catch(t){return void setTimeout(s,50)}return n("poll")},"complete"!==i.readyState){if(i.createEventObject&&h.doScroll){try{l=!p.frameElement}catch(t){}l&&s()}return i[e](r+"DOMContentLoaded",n,!1),i[e](r+"readystatechange",n,!1),p[e](r+"load",n,!1)}},t.prototype.create=function(t){var e;return(e=document.createElement("div")).innerHTML=t,this.wrap(e.childNodes)},t.prototype.wrap=function(t){var e;return t?"string"==typeof t?t=(t=this.find(document.body,t))?[t]:[]:t instanceof NodeList?t=function(){var i,o,n;for(n=[],i=0,o=t.length;o>i;i++)e=t[i],n.push(e);return n}():t instanceof Array||(t=[t]):t=[],t},t.prototype.unwrap=function(t){return this.wrap(t)[0]},t.prototype.tagName=function(t){return this.unwrap(t).tagName},t.prototype.attr=function(t,e,i){return 3===arguments.length?this.unwrap(t).setAttribute(e,i):this.unwrap(t).getAttribute(e)},i=0,e={},t.prototype.data=function(t,o,n){var s;return(s=this.attr(t,"data-id"))||(s=++i,this.attr(t,"data-id",s),e[s]={}),3===arguments.length?e[s][o]=n:null!=(n=e[s][o])?n:((n=this.attr(t,"data-"+Opentip.prototype.dasherize(o)))&&(e[s][o]=n),n)},t.prototype.find=function(t,e){return this.unwrap(t).querySelector(e)},t.prototype.findAll=function(t,e){return this.unwrap(t).querySelectorAll(e)},t.prototype.update=function(t,e,i){return t=this.unwrap(t),i?(t.innerHTML="",t.appendChild(document.createTextNode(e))):t.innerHTML=e},t.prototype.append=function(t,e){var i;return i=this.unwrap(e),this.unwrap(t).appendChild(i)},t.prototype.remove=function(t){var e;return null!=(e=(t=this.unwrap(t)).parentNode)?e.removeChild(t):void 0},t.prototype.addClass=function(t,e){return this.unwrap(t).classList.add(e)},t.prototype.removeClass=function(t,e){return this.unwrap(t).classList.remove(e)},t.prototype.css=function(t,e){var i,o,n;for(i in t=this.unwrap(this.wrap(t)),n=[],e)__hasProp.call(e,i)&&(o=e[i],n.push(t.style[i]=o));return n},t.prototype.dimensions=function(t){var e,i;return(e={width:(t=this.unwrap(this.wrap(t))).offsetWidth,height:t.offsetHeight}).width&&e.height||(i={position:t.style.position||"",visibility:t.style.visibility||"",display:t.style.display||""},this.css(t,{position:"absolute",visibility:"hidden",display:"block"}),e={width:t.offsetWidth,height:t.offsetHeight},this.css(t,i)),e},t.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},t.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},t.prototype.mousePosition=function(t){var e;if(e={x:0,y:0},null==t&&(t=window.event),null!=t){try{t.pageX||t.pageY?(e.x=t.pageX,e.y=t.pageY):(t.clientX||t.clientY)&&(e.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop)}catch(t){}return e}},t.prototype.offset=function(t){var e;for(e={top:(t=this.unwrap(t)).offsetTop,left:t.offsetLeft};t=t.offsetParent;)e.top+=t.offsetTop,e.left+=t.offsetLeft,t!==document.body&&(e.top-=t.scrollTop,e.left-=t.scrollLeft);return e},t.prototype.observe=function(t,e,i){return this.unwrap(t).addEventListener(e,i,!1)},t.prototype.stopObserving=function(t,e,i){return this.unwrap(t).removeEventListener(e,i,!1)},t.prototype.ajax=function(t){var e,i,o;if(null==t.url)throw Error("No url provided");if(window.XMLHttpRequest)e=new XMLHttpRequest;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}if(!e)throw Error("Can't create XMLHttpRequest");return e.onreadystatechange=function(){if(4===e.readyState){try{200===e.status?"function"==typeof t.onSuccess&&t.onSuccess(e.responseText):"function"==typeof t.onError&&t.onError("Server responded with status "+e.status)}catch(e){"function"==typeof t.onError&&t.onError(e.message)}return"function"==typeof t.onComplete?t.onComplete():void 0}},e.open(null!=(i=null!=(o=t.method)?o.toUpperCase():void 0)?i:"GET",t.url),e.send()},t.prototype.clone=function(t){var e,i,o;for(e in i={},t)__hasProp.call(t,e)&&(o=t[e],i[e]=o);return i},t.prototype.extend=function(){var t,e,i,o,n,s,r;for(o=arguments[0],s=0,r=(i=arguments.length>=2?__slice.call(arguments,1):[]).length;r>s;s++)for(t in e=i[s])__hasProp.call(e,t)&&(n=e[t],o[t]=n);return o},t}(),Opentip.addAdapter(new Adapter),document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new r(this))}function e(t){var e=t.srcElement;switch(t.propertyName){case"width":e.style.width=e.attributes.width.nodeValue+"px",e.getContext().clearRect();break;case"height":e.style.height=e.attributes.height.nodeValue+"px",e.getContext().clearRect()}}function i(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function o(t,e){for(var i=[[1,0,0],[0,1,0],[0,0,1]],o=0;3>o;o++)for(var n=0;3>n;n++){for(var s=0,r=0;3>r;r++)s+=t[o][r]*e[r][n];i[o][n]=s}return i}function n(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function s(t){var e,i=1;if("rgb"==(t+="").substring(0,3)){var o=t.indexOf("(",3),n=t.indexOf(")",o+1),s=t.substring(o+1,n).split(",");e="#";for(var r=0;3>r;r++)e+=w[Number(s[r])];4==s.length&&"a"==t.substr(3,1)&&(i=s[3])}else e=t;return{color:e,alpha:i}}function r(t){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*v,this.globalAlpha=1,this.canvas=t;var e=t.ownerDocument.createElement("div");e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",e.style.position="absolute",t.appendChild(e),this.element_=e,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function a(t,e,i,o){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:o.x,y:o.y}),t.currentX_=o.x,t.currentY_=o.y}function h(t,e,i){if(function(t){for(var e=0;3>e;e++)for(var i=0;2>i;i++)if(!isFinite(t[e][i])||isNaN(t[e][i]))return!1;return!0}(e)&&(t.m_=e,i)){var o=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=m(g(o))}}function l(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function p(){}var d=Math,u=d.round,c=d.sin,f=d.cos,g=d.abs,m=d.sqrt,v=10,y=v/2,b=Array.prototype.slice,_={init:function(t){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var e=t||document;e.createElement("canvas"),e.attachEvent("onreadystatechange",function(t,e){var i=b.call(arguments,2);return function(){return t.apply(e,i.concat(b.call(arguments)))}}(this.init_,this,e))}},init_:function(t){if(t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}for(var i=t.getElementsByTagName("canvas"),o=0;i.length>o;o++)this.initElement(i[o])},initElement:function(o){if(!o.getContext){o.getContext=t,o.innerHTML="",o.attachEvent("onpropertychange",e),o.attachEvent("onresize",i);var n=o.attributes;n.width&&n.width.specified?o.style.width=n.width.nodeValue+"px":o.width=o.clientWidth,n.height&&n.height.specified?o.style.height=n.height.nodeValue+"px":o.height=o.clientHeight}return o}};_.init();for(var w=[],C=0;16>C;C++)for(var x=0;16>x;x++)w[16*C+x]=C.toString(16)+x.toString(16);var T=r.prototype;T.clearRect=function(){this.element_.innerHTML=""},T.beginPath=function(){this.currentPath_=[]},T.moveTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},T.lineTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},T.bezierCurveTo=function(t,e,i,o,n,s){var r=this.getCoords_(n,s);a(this,this.getCoords_(t,e),this.getCoords_(i,o),r)},T.quadraticCurveTo=function(t,e,i,o){var n=this.getCoords_(t,e),s=this.getCoords_(i,o),r={x:this.currentX_+2/3*(n.x-this.currentX_),y:this.currentY_+2/3*(n.y-this.currentY_)};a(this,r,{x:r.x+(s.x-this.currentX_)/3,y:r.y+(s.y-this.currentY_)/3},s)},T.arc=function(t,e,i,o,n,s){i*=v;var r=s?"at":"wa",a=t+f(o)*i-y,h=e+c(o)*i-y,l=t+f(n)*i-y,p=e+c(n)*i-y;a!=l||s||(a+=.125);var d=this.getCoords_(t,e),u=this.getCoords_(a,h),g=this.getCoords_(l,p);this.currentPath_.push({type:r,x:d.x,y:d.y,radius:i,xStart:u.x,yStart:u.y,xEnd:g.x,yEnd:g.y})},T.rect=function(t,e,i,o){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath()},T.strokeRect=function(t,e,i,o){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath(),this.stroke(),this.currentPath_=n},T.fillRect=function(t,e,i,o){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath(),this.fill(),this.currentPath_=n},T.createLinearGradient=function(t,e,i,o){var n=new l("gradient");return n.x0_=t,n.y0_=e,n.x1_=i,n.y1_=o,n},T.createRadialGradient=function(t,e,i,o,n,s){var r=new l("gradientradial");return r.x0_=t,r.y0_=e,r.r0_=i,r.x1_=o,r.y1_=n,r.r1_=s,r},T.drawImage=function(t){var e,i,o,n,s,r,a,h,l=t.runtimeStyle.width,p=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var c=t.width,f=t.height;if(t.runtimeStyle.width=l,t.runtimeStyle.height=p,3==arguments.length)e=arguments[1],i=arguments[2],s=r=0,a=o=c,h=n=f;else if(5==arguments.length)e=arguments[1],i=arguments[2],o=arguments[3],n=arguments[4],s=r=0,a=c,h=f;else{if(9!=arguments.length)throw Error("Invalid number of arguments");s=arguments[1],r=arguments[2],a=arguments[3],h=arguments[4],e=arguments[5],i=arguments[6],o=arguments[7],n=arguments[8]}var g=this.getCoords_(e,i),m=[];if(m.push(" <g_vml_:group",' coordsize="',10*v,",",10*v,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]){var y=[];y.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",u(g.x/v),",","Dy=",u(g.y/v),"");var b=g,_=this.getCoords_(e+o,i),w=this.getCoords_(e,i+n),C=this.getCoords_(e+o,i+n);b.x=d.max(b.x,_.x,w.x,C.x),b.y=d.max(b.y,_.y,w.y,C.y),m.push("padding:0 ",u(b.x/v),"px ",u(b.y/v),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",y.join(""),", sizingmethod='clip');")}else m.push("top:",u(g.y/v),"px;left:",u(g.x/v),"px;");m.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',v*o,"px;"," height:",v*n,'px;"',' cropleft="',s/c,'"',' croptop="',r/f,'"',' cropright="',(c-s-a)/c,'"',' cropbottom="',(f-r-h)/f,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",m.join(""))},T.stroke=function(t){var e=[],i=s(t?this.fillStyle:this.strokeStyle),o=i.color,n=i.alpha*this.globalAlpha;e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0 0" coordsize="',10*v," ",10*v,'"',' stroked="',!t,'"',' path="');for(var r={x:null,y:null},a={x:null,y:null},h=0;this.currentPath_.length>h;h++){var l=this.currentPath_[h];switch(l.type){case"moveTo":l,e.push(" m ",u(l.x),",",u(l.y));break;case"lineTo":e.push(" l ",u(l.x),",",u(l.y));break;case"close":e.push(" x "),l=null;break;case"bezierCurveTo":e.push(" c ",u(l.cp1x),",",u(l.cp1y),",",u(l.cp2x),",",u(l.cp2y),",",u(l.x),",",u(l.y));break;case"at":case"wa":e.push(" ",l.type," ",u(l.x-this.arcScaleX_*l.radius),",",u(l.y-this.arcScaleY_*l.radius)," ",u(l.x+this.arcScaleX_*l.radius),",",u(l.y+this.arcScaleY_*l.radius)," ",u(l.xStart),",",u(l.yStart)," ",u(l.xEnd),",",u(l.yEnd))}l&&((null==r.x||r.x>l.x)&&(r.x=l.x),(null==a.x||l.x>a.x)&&(a.x=l.x),(null==r.y||r.y>l.y)&&(r.y=l.y),(null==a.y||l.y>a.y)&&(a.y=l.y))}if(e.push(' ">'),t)if("object"==typeof this.fillStyle){var p=this.fillStyle,c=0,f={x:0,y:0},g=0,m=1;if("gradient"==p.type_){var y=p.x0_/this.arcScaleX_,b=p.y0_/this.arcScaleY_,_=p.x1_/this.arcScaleX_,w=p.y1_/this.arcScaleY_,C=this.getCoords_(y,b),x=this.getCoords_(_,w),T=x.x-C.x,O=x.y-C.y;0>(c=180*Math.atan2(T,O)/Math.PI)&&(c+=360),1e-6>c&&(c=0)}else{C=this.getCoords_(p.x0_,p.y0_);var S=a.x-r.x,E=a.y-r.y;f={x:(C.x-r.x)/S,y:(C.y-r.y)/E},S/=this.arcScaleX_*v,E/=this.arcScaleY_*v;var k=d.max(S,E);g=2*p.r0_/k,m=2*p.r1_/k-g}var P=p.colors_;P.sort(function(t,e){return t.offset-e.offset});var j=P.length,B=P[0].color,M=P[j-1].color,I=P[0].alpha*this.globalAlpha,A=P[j-1].alpha*this.globalAlpha,L=[];for(h=0;j>h;h++){var H=P[h];L.push(H.offset*m+g+" "+H.color)}e.push('<g_vml_:fill type="',p.type_,'"',' method="none" focus="100%"',' color="',B,'"',' color2="',M,'"',' colors="',L.join(","),'"',' opacity="',A,'"',' g_o_:opacity2="',I,'"',' angle="',c,'"',' focusposition="',f.x,",",f.y,'" />')}else e.push('<g_vml_:fill color="',o,'" opacity="',n,'" />');else{var z=this.lineScale_*this.lineWidth;1>z&&(n*=z),e.push("<g_vml_:stroke",' opacity="',n,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',function(t){switch(t){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}(this.lineCap),'"',' weight="',z,'px"',' color="',o,'" />')}e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},T.fill=function(){this.stroke(!0)},T.closePath=function(){this.currentPath_.push({type:"close"})},T.getCoords_=function(t,e){var i=this.m_;return{x:v*(t*i[0][0]+e*i[1][0]+i[2][0])-y,y:v*(t*i[0][1]+e*i[1][1]+i[2][1])-y}},T.save=function(){var t={};n(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=o([[1,0,0],[0,1,0],[0,0,1]],this.m_)},T.restore=function(){n(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},T.translate=function(t,e){h(this,o([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},T.rotate=function(t){var e=f(t),i=c(t);h(this,o([[e,i,0],[-i,e,0],[0,0,1]],this.m_),!1)},T.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,h(this,o([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},T.transform=function(t,e,i,n,s,r){h(this,o([[t,e,0],[i,n,0],[s,r,1]],this.m_),!0)},T.setTransform=function(t,e,i,o,n,s){h(this,[[t,e,0],[i,o,0],[n,s,1]],!0)},T.clip=function(){},T.arcTo=function(){},T.createPattern=function(){return new p},l.prototype.addColorStop=function(t,e){e=s(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},G_vmlCanvasManager=_,CanvasRenderingContext2D=r,CanvasGradient=l,CanvasPattern=p}(),"undefined"==typeof document||"classList"in document.createElement("a")||function(t){"use strict";if("HTMLElement"in t||"Element"in t){var e="classList",i="prototype",o=(t.HTMLElement||t.Element)[i],n=Object,s=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array[i].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},h=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(t,e)},l=function(t){for(var e=s.call(t.className),i=e?e.split(/\s+/):[],o=0,n=i.length;n>o;o++)this.push(i[o]);this._updateClassName=function(){t.className=this+""}},p=l[i]=[],d=function(){return new l(this)};if(a[i]=Error[i],p.item=function(t){return this[t]||null},p.contains=function(t){return-1!==h(this,t+="")},p.add=function(){var t,e=arguments,i=0,o=e.length,n=!1;do{t=e[i]+"",-1===h(this,t)&&(this.push(t),n=!0)}while(o>++i);n&&this._updateClassName()},p.remove=function(){var t,e=arguments,i=0,o=e.length,n=!1;do{t=e[i]+"";var s=h(this,t);-1!==s&&(this.splice(s,1),n=!0)}while(o>++i);n&&this._updateClassName()},p.toggle=function(t,e){t+="";var i=this.contains(t),o=i?!0!==e&&"remove":!1!==e&&"add";return o&&this[o](t),i},p.toString=function(){return this.join(" ")},n.defineProperty){var u={get:d,enumerable:!0,configurable:!0};try{n.defineProperty(o,e,u)}catch(t){-2146823252===t.number&&(u.enumerable=!1,n.defineProperty(o,e,u))}}else n[i].__defineGetter__&&o.__defineGetter__(e,d)}}(self),!window.addEventListener&&function(t,e,i,o,n,s,r){t[o]=e[o]=i[o]=function(t,e){var i=this;r.unshift([i,t,e,function(t){t.currentTarget=i,t.preventDefault=function(){t.returnValue=!1},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||i,e.call(i,t)}]),this.attachEvent("on"+t,r[0][3])},t[n]=e[n]=i[n]=function(t,e){for(var i,o=0;i=r[o];++o)if(i[0]==this&&i[1]==t&&i[2]==e)return this.detachEvent("on"+t,r.splice(o,1)[0][3])},t[s]=e[s]=i[s]=function(t){return this.fireEvent("on"+t.type,t)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]);__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,o,n){var s,r,a,h,l,p,d,u,c,f,g,m,v,y,b=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,(s=this.adapter.data(e,"opentips")||[]).push(this),this.adapter.data(e,"opentips",s),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw new Error("You can't call Opentip on multiple elements.");if(this.triggerElement.length<1)throw new Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},n=this.adapter.clone(n),"object"==typeof i?(n=i,i=o=void 0):"object"==typeof o&&(n=o,o=void 0),null!=o&&(n.title=o),null!=i&&this.setContent(i),null==n.extends&&(null!=n.style?n.extends=n.style:n.extends=t.defaultStyle),h=[n],y=n;y.extends;){if(p=y.extends,null==(y=t.styles[p]))throw new Error("Invalid style: "+p);h.unshift(y),null==y.extends&&"standard"!==p&&(y.extends="standard")}for((n=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(h)))).hideTriggers=function(){var t,e,i,o;for(o=[],t=0,e=(i=n.hideTriggers).length;t<e;t++)r=i[t],o.push(r);return o}(),n.hideTrigger&&0===n.hideTriggers.length&&n.hideTriggers.push(n.hideTrigger),d=0,c=(m=["tipJoint","targetJoint","stem"]).length;d<c;d++)n[l=m[d]]&&"string"==typeof n[l]&&(n[l]=new t.Joint(n[l]));for(!n.ajax||!0!==n.ajax&&n.ajax||("A"===this.adapter.tagName(this.triggerElement)?n.ajax=this.adapter.attr(this.triggerElement,"href"):n.ajax=!1),"click"===n.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),n.target&&(n.fixed=!0),!0===n.stem&&(n.stem=new t.Joint(n.tipJoint)),!0===n.target?n.target=this.triggerElement:n.target&&(n.target=this.adapter.wrap(n.target)),this.currentStem=n.stem,null==n.delay&&(n.delay="mouseover"===n.showOn?.2:0),null==n.targetJoint&&(n.targetJoint=new t.Joint(n.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],n.showOn&&"creation"!==n.showOn&&this.showTriggers.push({element:this.triggerElement,event:n.showOn}),null!=n.ajaxCache&&(n.cache=n.ajaxCache,delete n.ajaxCache),this.options=n,this.bound={},u=0,f=(v=["prepareToShow","prepareToHide","show","hide","reposition"]).length;u<f;u++)a=v[u],this.bound[a]=function(t){return function(){return b[t].apply(b,arguments)}}(a);this.adapter.domReady(function(){if(b.activate(),"creation"===b.options.showOn)return b.prepareToShow()})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype.class={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,n,s,r,a,h,l,p;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],o=n=0,r=(h=this.options.hideTriggers).length;n<r;o=++n){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw new Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=[],s=0,a=(l=this.hideTriggers).length;s<a;s++)e=l[s],p.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return p},t.prototype._buildContainer=function(){if(this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this.class.container+" "+this.class.hidden+" "+this.class.stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this.class.loading),this.options.fixed&&this.adapter.addClass(this.container,this.class.fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this.class.showEffectPrefix+this.options.showEffect),this.options.hideEffect)return this.adapter.addClass(this.container,""+this.class.hideEffectPrefix+this.options.hideEffect)},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this.class.opentip+'"><div class="'+this.class.header+'"></div><div class="'+this.class.content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this.class.header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this.class.loadingIndicator+'"><span>↻</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this.class.close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){if(this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible)return this._updateElementContent()},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(null!=(t=this.adapter.find(this.container,"."+this.class.content))&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:this.dimensions.width+"px",top:this.currentPosition.top+"px",left:this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m=this;for(s=0,l=(o=1<=arguments.length?__slice.call(arguments,0):[]).length;s<l;s++)if(i=o[s],e=!1,"-"===i.charAt(0)&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=1<=arguments.length?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case"showing":for(r=0,p=(c=this.hideTriggers).length;r<p;r++)t((n=c[r]).element,n.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(a=0,d=(f=this.showTriggersWhenVisible).length;a<d;a++)t((n=f[a]).element,n.event,this.bound.prepareToShow);break;case"hiding":for(h=0,u=(g=this.showTriggers).length;h<u;h++)t((n=g[h]).element,n.event,this.bound.prepareToShow);break;case"hidden":break;default:throw new Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){if(this._abortHiding(),this._abortShowing(),!this.visible)return this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0)},t.prototype.show=function(){var e=this;if(this._abortHiding(),!this.visible)return this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this.class.hiding),this.adapter.removeClass(this.container,this.class.hidden),this.adapter.addClass(this.container,this.class.goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e.class.goingToShow),e.adapter.addClass(e.container,e.class.showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e.class.showing),e.adapter.addClass(e.container,e.class.visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate()},t.prototype._abortShowing=function(){if(this.preparingToShow)return this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")},t.prototype.prepareToHide=function(){if(this._abortShowing(),this._abortHiding(),this.visible)return this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)},t.prototype.hide=function(){var t=this;if(this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container))return this.adapter.removeClass(this.container,this.class.visible),this.adapter.removeClass(this.container,this.class.showing),this.adapter.addClass(this.container,this.class.goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t.class.goingToHide),t.adapter.addClass(t.container,t.class.hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){if(t.adapter.removeClass(t.container,t.class.hiding),t.adapter.addClass(t.container,t.class.hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide)return t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement},e)})},t.prototype._abortHiding=function(){if(this.preparingToHide)return this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")},t.prototype.reposition=function(){var t,e,i,o=this;if(null!=(t=this.getPosition())&&(e=this.options.stem,this.options.containInViewport&&(t=(i=this._ensureViewportContainment(t)).position,e=i.stem),!this._positionsEqual(t,this.currentPosition)))return this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:t.left+"px",top:t.top+"px"}),this.defer(function(){var t;return(t=o.adapter.unwrap(o.container)).style.visibility="hidden",t.offsetHeight,t.style.visibility="visible"})},t.prototype.getPosition=function(t,e,i){var o,n,s,r,a,h,l,p,d;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),r={},this.options.target?(l=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=l,e.right?null!=(p=this.adapter.unwrap(this.options.target)).getBoundingClientRect?r.left=p.getBoundingClientRect().right+(null!=(d=window.pageXOffset)?d:document.body.scrollLeft):r.left+=h.width:e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(s=(a=this.options.stem?this.options.stemLength:0)&&this.options.fixed?2:10,o=t.middle&&!this.options.fixed?15:0,n=t.center&&!this.options.fixed?15:0,t.right?r.left-=s+o:t.left&&(r.left+=s+o),t.bottom?r.top-=s+n:t.top&&(r.top+=s+n),a&&(null==i&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,n,s,r,a,h,l,p,d,u;if(n={position:e,stem:h=this.options.stem},!this.visible||!e)return n;if(!(l=this._sticksOut(e))[0]&&!l[1])return n;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(p=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),[e.left-a[0],e.top-a[1]],i=!1,u.width>=this.dimensions.width&&l[0])switch(i=!0,l[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&p.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&p.setHorizontal("left")}if(u.height>=this.dimensions.height&&l[1])switch(i=!0,l[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&p.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&p.setVertical("top")}return i?(this.options.stem&&(h=d),e=this.getPosition(d,p,h),s=!1,r=!1,(o=this._sticksOut(e))[0]&&o[0]!==l[0]&&(s=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&p.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==l[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&p.setVertical(this.options.targetJoint.vertical)),s&&r?n:((s||r)&&(this.options.stem&&(h=d),e=this.getPosition(d,p,h)),{position:e,stem:h})):n},t.prototype._sticksOut=function(t){var e,i,o,n;return i=this.adapter.scrollOffset(),n=this.adapter.viewportDimensions(),o=[!1,!1],(e=[t.left-i[0],t.top-i[1]])[0]<0?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>n.width&&(o[0]=this.STICKS_OUT_RIGHT),e[1]<0?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>n.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m,v,y,b,_=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(g=0,m=(v=["top","right","bottom","left"]).length;g<m;g++)u=v[g],this.adapter.removeClass(this.container,"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(s=new t.Joint("top right"===(null!=(y=this.currentStem)?y.toString():void 0)?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),n=[0,0],this.options.borderWidth&&(o.width+=2*this.options.borderWidth,o.height+=2*this.options.borderWidth,n[0]-=this.options.borderWidth,n[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=2*this.options.shadowBlur,o.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),o.height+=2*this.options.shadowBlur,o.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),n[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),n[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),s&&(s.left?i.left=Math.max(i.left,a[0]):s.right&&(i.right=Math.max(i.right,a[0])),s.top?i.top=Math.max(i.top,a[1]):s.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,n[0]-=i.left,n[1]-=i.top,this.currentStem&&this.options.borderWidth&&(b=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=b.stemLength,c=b.stemBase),(e=this.adapter.unwrap(this.backgroundCanvas)).width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:e.width+"px",height:e.height+"px",left:n[0]+"px",top:n[1]+"px"}),(h=e.getContext("2d")).setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(f=this.options.stemLength,c=this.options.stemBase),null==c&&(c=0),p=function(t,e,i){if(i&&h.moveTo(Math.max(c,_.options.borderRadius,r[0])+1-d,-d),e)return h.lineTo(t/2-c/2,-d),h.lineTo(t/2,-f-d),h.lineTo(t/2+c/2,-d)},l=function(t,e,i){var o,n,s,a;return t?(h.lineTo(-c+d,0-d),h.lineTo(f+d,-f-d),h.lineTo(d,c-d)):e?(a=_.options.closeButtonOffset,s=r[0],i%2!=0&&(a=[a[1],a[0]],s=r[1]),o=Math.acos(a[1]/_.options.closeButtonRadius),n=Math.acos(a[0]/_.options.closeButtonRadius),h.lineTo(-s+d,-d),h.arc(d-a[0],-d+a[1],_.options.closeButtonRadius,-(Math.PI/2+o),n,!1)):(h.lineTo(-_.options.borderRadius+d,-d),h.quadraticCurveTo(d,-d,d,_.options.borderRadius-d))},h.translate(-n[0],-n[1]),h.save(),function(){var e,i,o,n,r,a,d,u,c,f,g;for(g=[],i=c=0,f=t.positions.length/2;0<=f?c<f:c>f;i=0<=f?++c:--c)r=2*i,a=0===i||3===i?0:_.dimensions.width,d=i<2?0:_.dimensions.height,u=Math.PI/2*i,o=i%2==0?_.dimensions.width:_.dimensions.height,n=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,d),h.rotate(u),p(o,n.eql(_.currentStem),0===i),h.translate(o,0),l(e.eql(_.currentStem),e.eql(s),i),g.push(h.restore())}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),s?(_.options.closeButtonRadius,w="top right"===s.toString()?[(x=[_.dimensions.width-_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]+d,x[1]-d]:[(x=[_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]-d,x[1]-d],h.translate(w[0],w[1]),C=_.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=_.options.closeButtonCrossColor,h.lineWidth=_.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-C,-C),h.lineTo(C,C),h.stroke(),h.beginPath(),h.moveTo(C,-C),h.lineTo(-C,C),h.stroke(),h.restore(),_.adapter.css(_.closeButtonElement,{left:x[0]-C-_.options.closeButtonLinkOverscan+"px",top:x[1]-C-_.options.closeButtonLinkOverscan+"px",width:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px",height:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px"})):void 0;var w,C,x}},t.prototype._getPathStemMeasures=function(t,e,i){var o,n,s,r;if(s=i/2,o=2*(n=Math.atan(t/2/e)),(r=s+e-2*(s/Math.sin(o))*Math.cos(n))<0)throw new Error("Sorry but your stemLength / stemBase ratio is strange.");return{stemLength:r,stemBase:Math.tan(n)*r*2}},t.prototype._getColor=function(t,e,i,o){var n,s,r,a,h;if(null==o&&(o=!1),"string"==typeof i)return i;for(s=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;a<h;r=++a)n=i[r],s.addColorStop(n[0],n[1]);return s},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(e=0,i=(o=this.adapter.findAll(this.container,"."+this.class.close)).length;e<i;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});if(this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible)return this._setupObservers("-visible","visible")},t.prototype._activateFirstInput=function(){var t;return null!=(t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")))&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){if(!this.options.fixed)return t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){if(!this.options.fixed)return t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this.class.loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t.class.loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t.class.ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t.class.loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){if(!this._triggerElementExists())return this.deactivate(),this._stopEnsureTriggerElement()},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,n,s,r;for(i in t=this.adapter.unwrap(t),r=[],e)__hasProp.call(e,i)&&(o=e[i],null!=t.style[i]?r.push(t.style[i]=o):r.push(function(){var e,r,a;for(a=[],e=0,r=vendors.length;e<r;e++)n=vendors[e],s=""+this.ucfirst(n)+this.ucfirst(i),null!=t.style[s]?a.push(t.style[s]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,n;for(mousePosition=Opentip.adapter.mousePosition(t),n=[],i=0,o=mousePositionObservers.length;i<o;i++)e=mousePositionObservers[i],n.push(e());return n},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,o,n;for(n=[],i=0,o=mousePositionObservers.length;i<o;i++)(e=mousePositionObservers[i])!==t&&n.push(e);return n}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t=t.toString()),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["left","center","right"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["top","middle","bottom"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t;return t=(Opentip.position[this.toString(!0)]+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return null==t&&(t=!1),i="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;if(t=1<=arguments.length?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0))return t.unshift("#"+this.id+" |"),console.debug.apply(console,t)},Opentip.findElements=function(){var t,e,i,o,n,s,r,a,h,l;for(l=[],r=0,a=(h=(t=Opentip.adapter).findAll(document.body,"[data-ot]")).length;r<a;r++){for(o in i=h[r],s={},""!==(e=t.data(i,"ot"))&&"true"!==e&&"yes"!==e||(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"",Opentip.styles.standard)null!=(n=t.data(i,"ot"+Opentip.prototype.ucfirst(o)))&&("yes"===n||"true"===n||"on"===n?n=!0:"no"!==n&&"false"!==n&&"off"!==n||(n=!1),s[o]=n);l.push(new Opentip(i,e,s))}return l},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){if(Opentip.adapters[t.name]=t,firstAdapter)return Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},i=_i=0,_len=(_ref=Opentip.positions).length;_i<_len;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{extends:null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{extends:"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{extends:"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{extends:"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;__hasProp={}.hasOwnProperty,__slice=[].slice;Adapter=function(){var t,e;function i(){}return i.prototype.name="native",i.prototype.domReady=function(t){var e,i,o,n,s,r,a,h,l,p,d;if(o=!1,l=!0,p=window,"complete"===(d=(i=document).readyState)||"loaded"===d)return t();if(h=i.documentElement,e=i.addEventListener?"addEventListener":"attachEvent",a=i.addEventListener?"removeEventListener":"detachEvent",r=i.addEventListener?"":"on",n=function(e){if("readystatechange"!==e.type||"complete"===i.readyState)return("load"===e.type?p:i)[a](r+e.type,n,!1),o?void 0:(o=!0,t())},s=function(){try{h.doScroll("left")}catch(t){return void setTimeout(s,50)}return n("poll")},"complete"!==i.readyState){if(i.createEventObject&&h.doScroll){try{l=!p.frameElement}catch(t){}l&&s()}return i[e](r+"DOMContentLoaded",n,!1),i[e](r+"readystatechange",n,!1),p[e](r+"load",n,!1)}},i.prototype.create=function(t){var e;return(e=document.createElement("div")).innerHTML=t,this.wrap(e.childNodes)},i.prototype.wrap=function(t){var e;return t?"string"==typeof t?t=(t=this.find(document.body,t))?[t]:[]:t instanceof NodeList?t=function(){var i,o,n;for(n=[],i=0,o=t.length;i<o;i++)e=t[i],n.push(e);return n}():t instanceof Array||(t=[t]):t=[],t},i.prototype.unwrap=function(t){return this.wrap(t)[0]},i.prototype.tagName=function(t){return this.unwrap(t).tagName},i.prototype.attr=function(t,e,i){return 3===arguments.length?this.unwrap(t).setAttribute(e,i):this.unwrap(t).getAttribute(e)},e=0,t={},i.prototype.data=function(i,o,n){var s;return(s=this.attr(i,"data-id"))||(s=++e,this.attr(i,"data-id",s),t[s]={}),3===arguments.length?t[s][o]=n:null!=(n=t[s][o])?n:((n=this.attr(i,"data-"+Opentip.prototype.dasherize(o)))&&(t[s][o]=n),n)},i.prototype.find=function(t,e){return this.unwrap(t).querySelector(e)},i.prototype.findAll=function(t,e){return this.unwrap(t).querySelectorAll(e)},i.prototype.update=function(t,e,i){return t=this.unwrap(t),i?(t.innerHTML="",t.appendChild(document.createTextNode(e))):t.innerHTML=e},i.prototype.append=function(t,e){var i;return i=this.unwrap(e),this.unwrap(t).appendChild(i)},i.prototype.remove=function(t){var e;if(null!=(e=(t=this.unwrap(t)).parentNode))return e.removeChild(t)},i.prototype.addClass=function(t,e){return this.unwrap(t).classList.add(e)},i.prototype.removeClass=function(t,e){return this.unwrap(t).classList.remove(e)},i.prototype.css=function(t,e){var i,o,n;for(i in t=this.unwrap(this.wrap(t)),n=[],e)__hasProp.call(e,i)&&(o=e[i],n.push(t.style[i]=o));return n},i.prototype.dimensions=function(t){var e,i;return(e={width:(t=this.unwrap(this.wrap(t))).offsetWidth,height:t.offsetHeight}).width&&e.height||(i={position:t.style.position||"",visibility:t.style.visibility||"",display:t.style.display||""},this.css(t,{position:"absolute",visibility:"hidden",display:"block"}),e={width:t.offsetWidth,height:t.offsetHeight},this.css(t,i)),e},i.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},i.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},i.prototype.mousePosition=function(t){var e;if(e={x:0,y:0},null==t&&(t=window.event),null!=t){try{t.pageX||t.pageY?(e.x=t.pageX,e.y=t.pageY):(t.clientX||t.clientY)&&(e.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop)}catch(t){}return e}},i.prototype.offset=function(t){var e;for(e={top:(t=this.unwrap(t)).offsetTop,left:t.offsetLeft};t=t.offsetParent;)e.top+=t.offsetTop,e.left+=t.offsetLeft,t!==document.body&&(e.top-=t.scrollTop,e.left-=t.scrollLeft);return e},i.prototype.observe=function(t,e,i){return this.unwrap(t).addEventListener(e,i,!1)},i.prototype.stopObserving=function(t,e,i){return this.unwrap(t).removeEventListener(e,i,!1)},i.prototype.ajax=function(t){var e,i,o;if(null==t.url)throw new Error("No url provided");if(window.XMLHttpRequest)e=new XMLHttpRequest;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}if(!e)throw new Error("Can't create XMLHttpRequest");return e.onreadystatechange=function(){if(4===e.readyState){try{200===e.status?"function"==typeof t.onSuccess&&t.onSuccess(e.responseText):"function"==typeof t.onError&&t.onError("Server responded with status "+e.status)}catch(e){"function"==typeof t.onError&&t.onError(e.message)}return"function"==typeof t.onComplete?t.onComplete():void 0}},e.open(null!=(i=null!=(o=t.method)?o.toUpperCase():void 0)?i:"GET",t.url),e.send()},i.prototype.clone=function(t){var e,i,o;for(e in i={},t)__hasProp.call(t,e)&&(o=t[e],i[e]=o);return i},i.prototype.extend=function(){var t,e,i,o,n,s,r;for(o=arguments[0],s=0,r=(i=2<=arguments.length?__slice.call(arguments,1):[]).length;s<r;s++)for(t in e=i[s])__hasProp.call(e,t)&&(n=e[t],o[t]=n);return o},i}(),Opentip.addAdapter(new Adapter),"undefined"==typeof document||"classList"in document.createElement("a")||function(t){"use strict";if("HTMLElement"in t||"Element"in t){var e=(t.HTMLElement||t.Element).prototype,i=Object,o=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},n=Array.prototype.indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},r=function(t,e){if(""===e)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return n.call(t,e)},a=function(t){for(var e=o.call(t.className),i=e?e.split(/\s+/):[],n=0,s=i.length;n<s;n++)this.push(i[n]);this._updateClassName=function(){t.className=this.toString()}},h=a.prototype=[],l=function(){return new a(this)};if(s.prototype=Error.prototype,h.item=function(t){return this[t]||null},h.contains=function(t){return-1!==r(this,t+="")},h.add=function(){var t,e=arguments,i=0,o=e.length,n=!1;do{t=e[i]+"",-1===r(this,t)&&(this.push(t),n=!0)}while(++i<o);n&&this._updateClassName()},h.remove=function(){var t,e=arguments,i=0,o=e.length,n=!1;do{t=e[i]+"";var s=r(this,t);-1!==s&&(this.splice(s,1),n=!0)}while(++i<o);n&&this._updateClassName()},h.toggle=function(t,e){t+="";var i=this.contains(t),o=i?!0!==e&&"remove":!1!==e&&"add";return o&&this[o](t),i},h.toString=function(){return this.join(" ")},i.defineProperty){var p={get:l,enumerable:!0,configurable:!0};try{i.defineProperty(e,"classList",p)}catch(t){-2146823252===t.number&&(p.enumerable=!1,i.defineProperty(e,"classList",p))}}else i.prototype.__defineGetter__&&e.__defineGetter__("classList",l)}}(self),!window.addEventListener&&function(t,e,i,o,n,s,r){t.addEventListener=e.addEventListener=i.addEventListener=function(t,e){var i=this;r.unshift([i,t,e,function(t){t.currentTarget=i,t.preventDefault=function(){t.returnValue=!1},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||i,e.call(i,t)}]),this.attachEvent("on"+t,r[0][3])},t.removeEventListener=e.removeEventListener=i.removeEventListener=function(t,e){for(var i,o=0;i=r[o];++o)if(i[0]==this&&i[1]==t&&i[2]==e)return this.detachEvent("on"+t,r.splice(o,1)[0][3])},t.dispatchEvent=e.dispatchEvent=i.dispatchEvent=function(t){return this.fireEvent("on"+t.type,t)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,0,0,0,[]);__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,o,n){var s,r,a,h,l,p,d,u,c,f,g,m,v,y,b=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,(s=this.adapter.data(e,"opentips")||[]).push(this),this.adapter.data(e,"opentips",s),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw Error("You can't call Opentip on multiple elements.");if(1>this.triggerElement.length)throw Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},n=this.adapter.clone(n),"object"==typeof i?(n=i,i=o=void 0):"object"==typeof o&&(n=o,o=void 0),null!=o&&(n.title=o),null!=i&&this.setContent(i),null==n.extends&&(n.extends=null!=n.style?n.style:t.defaultStyle),h=[n],y=n;y.extends;){if(p=y.extends,null==(y=t.styles[p]))throw Error("Invalid style: "+p);h.unshift(y),null==y.extends&&"standard"!==p&&(y.extends="standard")}for((n=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(h)))).hideTriggers=function(){var t,e,i,o;for(o=[],t=0,e=(i=n.hideTriggers).length;e>t;t++)r=i[t],o.push(r);return o}(),n.hideTrigger&&0===n.hideTriggers.length&&n.hideTriggers.push(n.hideTrigger),d=0,c=(m=["tipJoint","targetJoint","stem"]).length;c>d;d++)n[l=m[d]]&&"string"==typeof n[l]&&(n[l]=new t.Joint(n[l]));for(!n.ajax||!0!==n.ajax&&n.ajax||(n.ajax="A"===this.adapter.tagName(this.triggerElement)&&this.adapter.attr(this.triggerElement,"href")),"click"===n.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),n.target&&(n.fixed=!0),!0===n.stem&&(n.stem=new t.Joint(n.tipJoint)),!0===n.target?n.target=this.triggerElement:n.target&&(n.target=this.adapter.wrap(n.target)),this.currentStem=n.stem,null==n.delay&&(n.delay="mouseover"===n.showOn?.2:0),null==n.targetJoint&&(n.targetJoint=new t.Joint(n.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],n.showOn&&"creation"!==n.showOn&&this.showTriggers.push({element:this.triggerElement,event:n.showOn}),null!=n.ajaxCache&&(n.cache=n.ajaxCache,delete n.ajaxCache),this.options=n,this.bound={},u=0,f=(v=["prepareToShow","prepareToHide","show","hide","reposition"]).length;f>u;u++)a=v[u],this.bound[a]=function(t){return function(){return b[t].apply(b,arguments)}}(a);this.adapter.domReady(function(){return b.activate(),"creation"===b.options.showOn?b.prepareToShow():void 0})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype.class={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,n,s,r,a,h,l,p;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],o=n=0,r=(h=this.options.hideTriggers).length;r>n;o=++n){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=[],s=0,a=(l=this.hideTriggers).length;a>s;s++)e=l[s],p.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return p},t.prototype._buildContainer=function(){return this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this.class.container+" "+this.class.hidden+" "+this.class.stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this.class.loading),this.options.fixed&&this.adapter.addClass(this.container,this.class.fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this.class.showEffectPrefix+this.options.showEffect),this.options.hideEffect?this.adapter.addClass(this.container,""+this.class.hideEffectPrefix+this.options.hideEffect):void 0},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this.class.opentip+'"><div class="'+this.class.header+'"></div><div class="'+this.class.content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this.class.header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this.class.loadingIndicator+'"><span>↻</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this.class.close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){return this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible?this._updateElementContent():void 0},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(null!=(t=this.adapter.find(this.container,"."+this.class.content))&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:this.dimensions.width+"px",top:this.currentPosition.top+"px",left:this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m=this;for(s=0,l=(o=arguments.length>=1?__slice.call(arguments,0):[]).length;l>s;s++)if(i=o[s],e=!1,"-"===i.charAt(0)&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=arguments.length>=1?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case"showing":for(r=0,p=(c=this.hideTriggers).length;p>r;r++)t((n=c[r]).element,n.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(a=0,d=(f=this.showTriggersWhenVisible).length;d>a;a++)t((n=f[a]).element,n.event,this.bound.prepareToShow);break;case"hiding":for(h=0,u=(g=this.showTriggers).length;u>h;h++)t((n=g[h]).element,n.event,this.bound.prepareToShow);break;case"hidden":break;default:throw Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){return this._abortHiding(),this._abortShowing(),this.visible?void 0:(this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0))},t.prototype.show=function(){var e=this;return this._abortHiding(),this.visible?void 0:(this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this.class.hiding),this.adapter.removeClass(this.container,this.class.hidden),this.adapter.addClass(this.container,this.class.goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e.class.goingToShow),e.adapter.addClass(e.container,e.class.showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e.class.showing),e.adapter.addClass(e.container,e.class.visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate())},t.prototype._abortShowing=function(){return this.preparingToShow?(this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")):void 0},t.prototype.prepareToHide=function(){return this._abortShowing(),this._abortHiding(),this.visible?(this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)):void 0},t.prototype.hide=function(){var t=this;return this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container)?(this.adapter.removeClass(this.container,this.class.visible),this.adapter.removeClass(this.container,this.class.showing),this.adapter.addClass(this.container,this.class.goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t.class.goingToHide),t.adapter.addClass(t.container,t.class.hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){return t.adapter.removeClass(t.container,t.class.hiding),t.adapter.addClass(t.container,t.class.hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide?(t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement):void 0},e)})):void 0},t.prototype._abortHiding=function(){return this.preparingToHide?(this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")):void 0},t.prototype.reposition=function(){var t,e,i,o=this;return null==(t=this.getPosition())||(e=this.options.stem,this.options.containInViewport&&(t=(i=this._ensureViewportContainment(t)).position,e=i.stem),this._positionsEqual(t,this.currentPosition))?void 0:(this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:t.left+"px",top:t.top+"px"}),this.defer(function(){var t;return(t=o.adapter.unwrap(o.container)).style.visibility="hidden",t.offsetHeight,t.style.visibility="visible"}))},t.prototype.getPosition=function(t,e,i){var o,n,s,r,a,h,l,p,d;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),r={},this.options.target?(l=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=l,e.right?null!=(p=this.adapter.unwrap(this.options.target)).getBoundingClientRect?r.left=p.getBoundingClientRect().right+(null!=(d=window.pageXOffset)?d:document.body.scrollLeft):r.left+=h.width:e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(s=(a=this.options.stem?this.options.stemLength:0)&&this.options.fixed?2:10,o=t.middle&&!this.options.fixed?15:0,n=t.center&&!this.options.fixed?15:0,t.right?r.left-=s+o:t.left&&(r.left+=s+o),t.bottom?r.top-=s+n:t.top&&(r.top+=s+n),a&&(null==i&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,n,s,r,a,h,l,p,d,u;if(n={position:e,stem:h=this.options.stem},!this.visible||!e)return n;if(!(l=this._sticksOut(e))[0]&&!l[1])return n;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(p=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),[e.left-a[0],e.top-a[1]],i=!1,u.width>=this.dimensions.width&&l[0])switch(i=!0,l[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&p.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&p.setHorizontal("left")}if(u.height>=this.dimensions.height&&l[1])switch(i=!0,l[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&p.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&p.setVertical("top")}return i?(this.options.stem&&(h=d),e=this.getPosition(d,p,h),s=!1,r=!1,(o=this._sticksOut(e))[0]&&o[0]!==l[0]&&(s=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&p.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==l[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&p.setVertical(this.options.targetJoint.vertical)),s&&r?n:((s||r)&&(this.options.stem&&(h=d),e=this.getPosition(d,p,h)),{position:e,stem:h})):n},t.prototype._sticksOut=function(t){var e,i,o,n;return i=this.adapter.scrollOffset(),n=this.adapter.viewportDimensions(),o=[!1,!1],0>(e=[t.left-i[0],t.top-i[1]])[0]?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>n.width&&(o[0]=this.STICKS_OUT_RIGHT),0>e[1]?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>n.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m,v,y,b,_=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(g=0,m=(v=["top","right","bottom","left"]).length;m>g;g++)u=v[g],this.adapter.removeClass(this.container,"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(s=new t.Joint("top right"===(null!=(y=this.currentStem)?y+"":void 0)?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),n=[0,0],this.options.borderWidth&&(o.width+=2*this.options.borderWidth,o.height+=2*this.options.borderWidth,n[0]-=this.options.borderWidth,n[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=2*this.options.shadowBlur,o.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),o.height+=2*this.options.shadowBlur,o.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),n[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),n[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),s&&(s.left?i.left=Math.max(i.left,a[0]):s.right&&(i.right=Math.max(i.right,a[0])),s.top?i.top=Math.max(i.top,a[1]):s.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,n[0]-=i.left,n[1]-=i.top,this.currentStem&&this.options.borderWidth&&(b=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=b.stemLength,c=b.stemBase),(e=this.adapter.unwrap(this.backgroundCanvas)).width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:e.width+"px",height:e.height+"px",left:n[0]+"px",top:n[1]+"px"}),(h=e.getContext("2d")).setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(f=this.options.stemLength,c=this.options.stemBase),null==c&&(c=0),p=function(t,e,i){return i&&h.moveTo(Math.max(c,_.options.borderRadius,r[0])+1-d,-d),e?(h.lineTo(t/2-c/2,-d),h.lineTo(t/2,-f-d),h.lineTo(t/2+c/2,-d)):void 0},l=function(t,e,i){var o,n,s,a;return t?(h.lineTo(-c+d,0-d),h.lineTo(f+d,-f-d),h.lineTo(d,c-d)):e?(a=_.options.closeButtonOffset,s=r[0],i%2!=0&&(a=[a[1],a[0]],s=r[1]),o=Math.acos(a[1]/_.options.closeButtonRadius),n=Math.acos(a[0]/_.options.closeButtonRadius),h.lineTo(-s+d,-d),h.arc(d-a[0],-d+a[1],_.options.closeButtonRadius,-(Math.PI/2+o),n,!1)):(h.lineTo(-_.options.borderRadius+d,-d),h.quadraticCurveTo(d,-d,d,_.options.borderRadius-d))},h.translate(-n[0],-n[1]),h.save(),function(){var e,i,o,n,r,a,d,u,c,f,g;for(g=[],i=c=0,f=t.positions.length/2;f>=0?f>c:c>f;i=f>=0?++c:--c)r=2*i,a=0===i||3===i?0:_.dimensions.width,d=2>i?0:_.dimensions.height,u=Math.PI/2*i,o=i%2==0?_.dimensions.width:_.dimensions.height,n=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,d),h.rotate(u),p(o,n.eql(_.currentStem),0===i),h.translate(o,0),l(e.eql(_.currentStem),e.eql(s),i),g.push(h.restore())}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),s?function(){var t,e,i;return 2*_.options.closeButtonRadius,s+""=="top right"?t=[(i=[_.dimensions.width-_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]+d,i[1]-d]:t=[(i=[_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]-d,i[1]-d],h.translate(t[0],t[1]),e=_.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=_.options.closeButtonCrossColor,h.lineWidth=_.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-e,-e),h.lineTo(e,e),h.stroke(),h.beginPath(),h.moveTo(e,-e),h.lineTo(-e,e),h.stroke(),h.restore(),_.adapter.css(_.closeButtonElement,{left:i[0]-e-_.options.closeButtonLinkOverscan+"px",top:i[1]-e-_.options.closeButtonLinkOverscan+"px",width:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px",height:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px"})}():void 0}},t.prototype._getPathStemMeasures=function(t,e,i){var o,n,s,r;if(s=i/2,o=2*(n=Math.atan(t/2/e)),0>(r=s+e-2*(s/Math.sin(o))*Math.cos(n)))throw Error("Sorry but your stemLength / stemBase ratio is strange.");return{stemLength:r,stemBase:Math.tan(n)*r*2}},t.prototype._getColor=function(t,e,i,o){var n,s,r,a,h;if(null==o&&(o=!1),"string"==typeof i)return i;for(s=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;h>a;r=++a)n=i[r],s.addColorStop(n[0],n[1]);return s},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(e=0,i=(o=this.adapter.findAll(this.container,"."+this.class.close)).length;i>e;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});return this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible?this._setupObservers("-visible","visible"):void 0},t.prototype._activateFirstInput=function(){var t;return null!=(t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")))&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){return this.options.fixed?void 0:t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){return this.options.fixed?void 0:t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this.class.loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t.class.loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t.class.ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t.class.loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){return this._triggerElementExists()?void 0:(this.deactivate(),this._stopEnsureTriggerElement())},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,n,s,r;for(i in t=this.adapter.unwrap(t),r=[],e)__hasProp.call(e,i)&&(o=e[i],null!=t.style[i]?r.push(t.style[i]=o):r.push(function(){var e,r,a;for(a=[],e=0,r=vendors.length;r>e;e++)n=vendors[e],s=""+this.ucfirst(n)+this.ucfirst(i),null!=t.style[s]?a.push(t.style[s]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,n;for(mousePosition=Opentip.adapter.mousePosition(t),n=[],i=0,o=mousePositionObservers.length;o>i;i++)e=mousePositionObservers[i],n.push(e());return n},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,o,n;for(n=[],i=0,o=mousePositionObservers.length;o>i;i++)(e=mousePositionObservers[i])!==t&&n.push(e);return n}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t+=""),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["left","center","right"]).length;s>o;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],n=0,r=i.length;r>n;n++)e=i[n],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["top","middle","bottom"]).length;s>o;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],n=0,r=i.length;r>n;n++)e=i[n],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t;return t=(Opentip.position[this.toString(!0)]+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return null==t&&(t=!1),i="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;return t=arguments.length>=1?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0)?(t.unshift("#"+this.id+" |"),console.debug.apply(console,t)):void 0},Opentip.findElements=function(){var t,e,i,o,n,s,r,a,h,l;for(l=[],r=0,a=(h=(t=Opentip.adapter).findAll(document.body,"[data-ot]")).length;a>r;r++){for(o in i=h[r],s={},(""===(e=t.data(i,"ot"))||"true"===e||"yes"===e)&&(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"",Opentip.styles.standard)null!=(n=t.data(i,"ot"+Opentip.prototype.ucfirst(o)))&&("yes"===n||"true"===n||"on"===n?n=!0:("no"===n||"false"===n||"off"===n)&&(n=!1),s[o]=n);l.push(new Opentip(i,e,s))}return l},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;n>o;o++)(i=s[o])!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;n>o;o++)(i=s[o])!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){return Opentip.adapters[t.name]=t,firstAdapter?(Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1):void 0},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},i=_i=0,_len=(_ref=Opentip.positions).length;_len>_i;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{extends:null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{extends:"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{extends:"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{extends:"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;__hasProp={}.hasOwnProperty,__slice=[].slice;Adapter=function(){function t(){}var e,i;return t.prototype.name="native",t.prototype.domReady=function(t){var e,i,o,n,s,r,a,h,l,p,d;if(o=!1,l=!0,p=window,"complete"===(d=(i=document).readyState)||"loaded"===d)return t();if(h=i.documentElement,e=i.addEventListener?"addEventListener":"attachEvent",a=i.addEventListener?"removeEventListener":"detachEvent",r=i.addEventListener?"":"on",n=function(e){return"readystatechange"!==e.type||"complete"===i.readyState?(("load"===e.type?p:i)[a](r+e.type,n,!1),o?void 0:(o=!0,t())):void 0},s=function(){try{h.doScroll("left")}catch(t){return void setTimeout(s,50)}return n("poll")},"complete"!==i.readyState){if(i.createEventObject&&h.doScroll){try{l=!p.frameElement}catch(t){}l&&s()}return i[e](r+"DOMContentLoaded",n,!1),i[e](r+"readystatechange",n,!1),p[e](r+"load",n,!1)}},t.prototype.create=function(t){var e;return(e=document.createElement("div")).innerHTML=t,this.wrap(e.childNodes)},t.prototype.wrap=function(t){var e;return t?"string"==typeof t?t=(t=this.find(document.body,t))?[t]:[]:t instanceof NodeList?t=function(){var i,o,n;for(n=[],i=0,o=t.length;o>i;i++)e=t[i],n.push(e);return n}():t instanceof Array||(t=[t]):t=[],t},t.prototype.unwrap=function(t){return this.wrap(t)[0]},t.prototype.tagName=function(t){return this.unwrap(t).tagName},t.prototype.attr=function(t,e,i){return 3===arguments.length?this.unwrap(t).setAttribute(e,i):this.unwrap(t).getAttribute(e)},i=0,e={},t.prototype.data=function(t,o,n){var s;return(s=this.attr(t,"data-id"))||(s=++i,this.attr(t,"data-id",s),e[s]={}),3===arguments.length?e[s][o]=n:null!=(n=e[s][o])?n:((n=this.attr(t,"data-"+Opentip.prototype.dasherize(o)))&&(e[s][o]=n),n)},t.prototype.find=function(t,e){return this.unwrap(t).querySelector(e)},t.prototype.findAll=function(t,e){return this.unwrap(t).querySelectorAll(e)},t.prototype.update=function(t,e,i){return t=this.unwrap(t),i?(t.innerHTML="",t.appendChild(document.createTextNode(e))):t.innerHTML=e},t.prototype.append=function(t,e){var i;return i=this.unwrap(e),this.unwrap(t).appendChild(i)},t.prototype.remove=function(t){var e;return null!=(e=(t=this.unwrap(t)).parentNode)?e.removeChild(t):void 0},t.prototype.addClass=function(t,e){return this.unwrap(t).classList.add(e)},t.prototype.removeClass=function(t,e){return this.unwrap(t).classList.remove(e)},t.prototype.css=function(t,e){var i,o,n;for(i in t=this.unwrap(this.wrap(t)),n=[],e)__hasProp.call(e,i)&&(o=e[i],n.push(t.style[i]=o));return n},t.prototype.dimensions=function(t){var e,i;return(e={width:(t=this.unwrap(this.wrap(t))).offsetWidth,height:t.offsetHeight}).width&&e.height||(i={position:t.style.position||"",visibility:t.style.visibility||"",display:t.style.display||""},this.css(t,{position:"absolute",visibility:"hidden",display:"block"}),e={width:t.offsetWidth,height:t.offsetHeight},this.css(t,i)),e},t.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},t.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},t.prototype.mousePosition=function(t){var e;if(e={x:0,y:0},null==t&&(t=window.event),null!=t){try{t.pageX||t.pageY?(e.x=t.pageX,e.y=t.pageY):(t.clientX||t.clientY)&&(e.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop)}catch(t){}return e}},t.prototype.offset=function(t){var e;for(e={top:(t=this.unwrap(t)).offsetTop,left:t.offsetLeft};t=t.offsetParent;)e.top+=t.offsetTop,e.left+=t.offsetLeft,t!==document.body&&(e.top-=t.scrollTop,e.left-=t.scrollLeft);return e},t.prototype.observe=function(t,e,i){return this.unwrap(t).addEventListener(e,i,!1)},t.prototype.stopObserving=function(t,e,i){return this.unwrap(t).removeEventListener(e,i,!1)},t.prototype.ajax=function(t){var e,i,o;if(null==t.url)throw Error("No url provided");if(window.XMLHttpRequest)e=new XMLHttpRequest;else if(window.ActiveXObject)try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}if(!e)throw Error("Can't create XMLHttpRequest");return e.onreadystatechange=function(){if(4===e.readyState){try{200===e.status?"function"==typeof t.onSuccess&&t.onSuccess(e.responseText):"function"==typeof t.onError&&t.onError("Server responded with status "+e.status)}catch(e){"function"==typeof t.onError&&t.onError(e.message)}return"function"==typeof t.onComplete?t.onComplete():void 0}},e.open(null!=(i=null!=(o=t.method)?o.toUpperCase():void 0)?i:"GET",t.url),e.send()},t.prototype.clone=function(t){var e,i,o;for(e in i={},t)__hasProp.call(t,e)&&(o=t[e],i[e]=o);return i},t.prototype.extend=function(){var t,e,i,o,n,s,r;for(o=arguments[0],s=0,r=(i=arguments.length>=2?__slice.call(arguments,1):[]).length;r>s;s++)for(t in e=i[s])__hasProp.call(e,t)&&(n=e[t],o[t]=n);return o},t}(),Opentip.addAdapter(new Adapter),"undefined"==typeof document||"classList"in document.createElement("a")||function(t){"use strict";if("HTMLElement"in t||"Element"in t){var e="classList",i="prototype",o=(t.HTMLElement||t.Element)[i],n=Object,s=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array[i].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},h=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(t,e)},l=function(t){for(var e=s.call(t.className),i=e?e.split(/\s+/):[],o=0,n=i.length;n>o;o++)this.push(i[o]);this._updateClassName=function(){t.className=this+""}},p=l[i]=[],d=function(){return new l(this)};if(a[i]=Error[i],p.item=function(t){return this[t]||null},p.contains=function(t){return-1!==h(this,t+="")},p.add=function(){var t,e=arguments,i=0,o=e.length,n=!1;do{t=e[i]+"",-1===h(this,t)&&(this.push(t),n=!0)}while(o>++i);n&&this._updateClassName()},p.remove=function(){var t,e=arguments,i=0,o=e.length,n=!1;do{t=e[i]+"";var s=h(this,t);-1!==s&&(this.splice(s,1),n=!0)}while(o>++i);n&&this._updateClassName()},p.toggle=function(t,e){t+="";var i=this.contains(t),o=i?!0!==e&&"remove":!1!==e&&"add";return o&&this[o](t),i},p.toString=function(){return this.join(" ")},n.defineProperty){var u={get:d,enumerable:!0,configurable:!0};try{n.defineProperty(o,e,u)}catch(t){-2146823252===t.number&&(u.enumerable=!1,n.defineProperty(o,e,u))}}else n[i].__defineGetter__&&o.__defineGetter__(e,d)}}(self),!window.addEventListener&&function(t,e,i,o,n,s,r){t[o]=e[o]=i[o]=function(t,e){var i=this;r.unshift([i,t,e,function(t){t.currentTarget=i,t.preventDefault=function(){t.returnValue=!1},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||i,e.call(i,t)}]),this.attachEvent("on"+t,r[0][3])},t[n]=e[n]=i[n]=function(t,e){for(var i,o=0;i=r[o];++o)if(i[0]==this&&i[1]==t&&i[2]==e)return this.detachEvent("on"+t,r.splice(o,1)[0][3])},t[s]=e[s]=i[s]=function(t){return this.fireEvent("on"+t.type,t)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]);__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,o,n){var s,r,a,h,l,p,d,u,c,f,g,m,v,y,b=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,(s=this.adapter.data(e,"opentips")||[]).push(this),this.adapter.data(e,"opentips",s),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw new Error("You can't call Opentip on multiple elements.");if(this.triggerElement.length<1)throw new Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},n=this.adapter.clone(n),"object"==typeof i?(n=i,i=o=void 0):"object"==typeof o&&(n=o,o=void 0),null!=o&&(n.title=o),null!=i&&this.setContent(i),null==n.extends&&(null!=n.style?n.extends=n.style:n.extends=t.defaultStyle),h=[n],y=n;y.extends;){if(p=y.extends,null==(y=t.styles[p]))throw new Error("Invalid style: "+p);h.unshift(y),null==y.extends&&"standard"!==p&&(y.extends="standard")}for((n=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(h)))).hideTriggers=function(){var t,e,i,o;for(o=[],t=0,e=(i=n.hideTriggers).length;t<e;t++)r=i[t],o.push(r);return o}(),n.hideTrigger&&0===n.hideTriggers.length&&n.hideTriggers.push(n.hideTrigger),d=0,c=(m=["tipJoint","targetJoint","stem"]).length;d<c;d++)n[l=m[d]]&&"string"==typeof n[l]&&(n[l]=new t.Joint(n[l]));for(!n.ajax||!0!==n.ajax&&n.ajax||("A"===this.adapter.tagName(this.triggerElement)?n.ajax=this.adapter.attr(this.triggerElement,"href"):n.ajax=!1),"click"===n.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),n.target&&(n.fixed=!0),!0===n.stem&&(n.stem=new t.Joint(n.tipJoint)),!0===n.target?n.target=this.triggerElement:n.target&&(n.target=this.adapter.wrap(n.target)),this.currentStem=n.stem,null==n.delay&&(n.delay="mouseover"===n.showOn?.2:0),null==n.targetJoint&&(n.targetJoint=new t.Joint(n.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],n.showOn&&"creation"!==n.showOn&&this.showTriggers.push({element:this.triggerElement,event:n.showOn}),null!=n.ajaxCache&&(n.cache=n.ajaxCache,delete n.ajaxCache),this.options=n,this.bound={},u=0,f=(v=["prepareToShow","prepareToHide","show","hide","reposition"]).length;u<f;u++)a=v[u],this.bound[a]=function(t){return function(){return b[t].apply(b,arguments)}}(a);this.adapter.domReady(function(){if(b.activate(),"creation"===b.options.showOn)return b.prepareToShow()})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype.class={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,n,s,r,a,h,l,p;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],o=n=0,r=(h=this.options.hideTriggers).length;n<r;o=++n){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw new Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=[],s=0,a=(l=this.hideTriggers).length;s<a;s++)e=l[s],p.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return p},t.prototype._buildContainer=function(){if(this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this.class.container+" "+this.class.hidden+" "+this.class.stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this.class.loading),this.options.fixed&&this.adapter.addClass(this.container,this.class.fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this.class.showEffectPrefix+this.options.showEffect),this.options.hideEffect)return this.adapter.addClass(this.container,""+this.class.hideEffectPrefix+this.options.hideEffect)},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this.class.opentip+'"><div class="'+this.class.header+'"></div><div class="'+this.class.content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this.class.header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this.class.loadingIndicator+'"><span>↻</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this.class.close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){if(this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible)return this._updateElementContent()},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(null!=(t=this.adapter.find(this.container,"."+this.class.content))&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:this.dimensions.width+"px",top:this.currentPosition.top+"px",left:this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m=this;for(s=0,l=(o=1<=arguments.length?__slice.call(arguments,0):[]).length;s<l;s++)if(i=o[s],e=!1,"-"===i.charAt(0)&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=1<=arguments.length?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case"showing":for(r=0,p=(c=this.hideTriggers).length;r<p;r++)t((n=c[r]).element,n.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(a=0,d=(f=this.showTriggersWhenVisible).length;a<d;a++)t((n=f[a]).element,n.event,this.bound.prepareToShow);break;case"hiding":for(h=0,u=(g=this.showTriggers).length;h<u;h++)t((n=g[h]).element,n.event,this.bound.prepareToShow);break;case"hidden":break;default:throw new Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){if(this._abortHiding(),this._abortShowing(),!this.visible)return this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0)},t.prototype.show=function(){var e=this;if(this._abortHiding(),!this.visible)return this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this.class.hiding),this.adapter.removeClass(this.container,this.class.hidden),this.adapter.addClass(this.container,this.class.goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e.class.goingToShow),e.adapter.addClass(e.container,e.class.showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e.class.showing),e.adapter.addClass(e.container,e.class.visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate()},t.prototype._abortShowing=function(){if(this.preparingToShow)return this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")},t.prototype.prepareToHide=function(){if(this._abortShowing(),this._abortHiding(),this.visible)return this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)},t.prototype.hide=function(){var t=this;if(this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container))return this.adapter.removeClass(this.container,this.class.visible),this.adapter.removeClass(this.container,this.class.showing),this.adapter.addClass(this.container,this.class.goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t.class.goingToHide),t.adapter.addClass(t.container,t.class.hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){if(t.adapter.removeClass(t.container,t.class.hiding),t.adapter.addClass(t.container,t.class.hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide)return t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement},e)})},t.prototype._abortHiding=function(){if(this.preparingToHide)return this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")},t.prototype.reposition=function(){var t,e,i,o=this;if(null!=(t=this.getPosition())&&(e=this.options.stem,this.options.containInViewport&&(t=(i=this._ensureViewportContainment(t)).position,e=i.stem),!this._positionsEqual(t,this.currentPosition)))return this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:t.left+"px",top:t.top+"px"}),this.defer(function(){var t;return(t=o.adapter.unwrap(o.container)).style.visibility="hidden",t.offsetHeight,t.style.visibility="visible"})},t.prototype.getPosition=function(t,e,i){var o,n,s,r,a,h,l,p,d;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),r={},this.options.target?(l=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=l,e.right?null!=(p=this.adapter.unwrap(this.options.target)).getBoundingClientRect?r.left=p.getBoundingClientRect().right+(null!=(d=window.pageXOffset)?d:document.body.scrollLeft):r.left+=h.width:e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(s=(a=this.options.stem?this.options.stemLength:0)&&this.options.fixed?2:10,o=t.middle&&!this.options.fixed?15:0,n=t.center&&!this.options.fixed?15:0,t.right?r.left-=s+o:t.left&&(r.left+=s+o),t.bottom?r.top-=s+n:t.top&&(r.top+=s+n),a&&(null==i&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,n,s,r,a,h,l,p,d,u;if(n={position:e,stem:h=this.options.stem},!this.visible||!e)return n;if(!(l=this._sticksOut(e))[0]&&!l[1])return n;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(p=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),[e.left-a[0],e.top-a[1]],i=!1,u.width>=this.dimensions.width&&l[0])switch(i=!0,l[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&p.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&p.setHorizontal("left")}if(u.height>=this.dimensions.height&&l[1])switch(i=!0,l[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&p.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&p.setVertical("top")}return i?(this.options.stem&&(h=d),e=this.getPosition(d,p,h),s=!1,r=!1,(o=this._sticksOut(e))[0]&&o[0]!==l[0]&&(s=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&p.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==l[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&p.setVertical(this.options.targetJoint.vertical)),s&&r?n:((s||r)&&(this.options.stem&&(h=d),e=this.getPosition(d,p,h)),{position:e,stem:h})):n},t.prototype._sticksOut=function(t){var e,i,o,n;return i=this.adapter.scrollOffset(),n=this.adapter.viewportDimensions(),o=[!1,!1],(e=[t.left-i[0],t.top-i[1]])[0]<0?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>n.width&&(o[0]=this.STICKS_OUT_RIGHT),e[1]<0?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>n.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m,v,y,b,_=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(g=0,m=(v=["top","right","bottom","left"]).length;g<m;g++)u=v[g],this.adapter.removeClass(this.container,"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(s=new t.Joint("top right"===(null!=(y=this.currentStem)?y.toString():void 0)?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),n=[0,0],this.options.borderWidth&&(o.width+=2*this.options.borderWidth,o.height+=2*this.options.borderWidth,n[0]-=this.options.borderWidth,n[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=2*this.options.shadowBlur,o.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),o.height+=2*this.options.shadowBlur,o.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),n[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),n[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),s&&(s.left?i.left=Math.max(i.left,a[0]):s.right&&(i.right=Math.max(i.right,a[0])),s.top?i.top=Math.max(i.top,a[1]):s.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,n[0]-=i.left,n[1]-=i.top,this.currentStem&&this.options.borderWidth&&(b=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=b.stemLength,c=b.stemBase),(e=this.adapter.unwrap(this.backgroundCanvas)).width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:e.width+"px",height:e.height+"px",left:n[0]+"px",top:n[1]+"px"}),(h=e.getContext("2d")).setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(f=this.options.stemLength,c=this.options.stemBase),null==c&&(c=0),p=function(t,e,i){if(i&&h.moveTo(Math.max(c,_.options.borderRadius,r[0])+1-d,-d),e)return h.lineTo(t/2-c/2,-d),h.lineTo(t/2,-f-d),h.lineTo(t/2+c/2,-d)},l=function(t,e,i){var o,n,s,a;return t?(h.lineTo(-c+d,0-d),h.lineTo(f+d,-f-d),h.lineTo(d,c-d)):e?(a=_.options.closeButtonOffset,s=r[0],i%2!=0&&(a=[a[1],a[0]],s=r[1]),o=Math.acos(a[1]/_.options.closeButtonRadius),n=Math.acos(a[0]/_.options.closeButtonRadius),h.lineTo(-s+d,-d),h.arc(d-a[0],-d+a[1],_.options.closeButtonRadius,-(Math.PI/2+o),n,!1)):(h.lineTo(-_.options.borderRadius+d,-d),h.quadraticCurveTo(d,-d,d,_.options.borderRadius-d))},h.translate(-n[0],-n[1]),h.save(),function(){var e,i,o,n,r,a,d,u,c,f,g;for(g=[],i=c=0,f=t.positions.length/2;0<=f?c<f:c>f;i=0<=f?++c:--c)r=2*i,a=0===i||3===i?0:_.dimensions.width,d=i<2?0:_.dimensions.height,u=Math.PI/2*i,o=i%2==0?_.dimensions.width:_.dimensions.height,n=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,d),h.rotate(u),p(o,n.eql(_.currentStem),0===i),h.translate(o,0),l(e.eql(_.currentStem),e.eql(s),i),g.push(h.restore())}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),s?(_.options.closeButtonRadius,w="top right"===s.toString()?[(x=[_.dimensions.width-_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]+d,x[1]-d]:[(x=[_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]-d,x[1]-d],h.translate(w[0],w[1]),C=_.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=_.options.closeButtonCrossColor,h.lineWidth=_.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-C,-C),h.lineTo(C,C),h.stroke(),h.beginPath(),h.moveTo(C,-C),h.lineTo(-C,C),h.stroke(),h.restore(),_.adapter.css(_.closeButtonElement,{left:x[0]-C-_.options.closeButtonLinkOverscan+"px",top:x[1]-C-_.options.closeButtonLinkOverscan+"px",width:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px",height:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px"})):void 0;var w,C,x}},t.prototype._getPathStemMeasures=function(t,e,i){var o,n,s,r;if(s=i/2,o=2*(n=Math.atan(t/2/e)),(r=s+e-2*(s/Math.sin(o))*Math.cos(n))<0)throw new Error("Sorry but your stemLength / stemBase ratio is strange.");return{stemLength:r,stemBase:Math.tan(n)*r*2}},t.prototype._getColor=function(t,e,i,o){var n,s,r,a,h;if(null==o&&(o=!1),"string"==typeof i)return i;for(s=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;a<h;r=++a)n=i[r],s.addColorStop(n[0],n[1]);return s},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(e=0,i=(o=this.adapter.findAll(this.container,"."+this.class.close)).length;e<i;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});if(this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible)return this._setupObservers("-visible","visible")},t.prototype._activateFirstInput=function(){var t;return null!=(t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")))&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){if(!this.options.fixed)return t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){if(!this.options.fixed)return t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this.class.loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t.class.loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t.class.ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t.class.loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){if(!this._triggerElementExists())return this.deactivate(),this._stopEnsureTriggerElement()},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,n,s,r;for(i in t=this.adapter.unwrap(t),r=[],e)__hasProp.call(e,i)&&(o=e[i],null!=t.style[i]?r.push(t.style[i]=o):r.push(function(){var e,r,a;for(a=[],e=0,r=vendors.length;e<r;e++)n=vendors[e],s=""+this.ucfirst(n)+this.ucfirst(i),null!=t.style[s]?a.push(t.style[s]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,n;for(mousePosition=Opentip.adapter.mousePosition(t),n=[],i=0,o=mousePositionObservers.length;i<o;i++)e=mousePositionObservers[i],n.push(e());return n},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,o,n;for(n=[],i=0,o=mousePositionObservers.length;i<o;i++)(e=mousePositionObservers[i])!==t&&n.push(e);return n}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t=t.toString()),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["left","center","right"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["top","middle","bottom"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t;return t=(Opentip.position[this.toString(!0)]+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return null==t&&(t=!1),i="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;if(t=1<=arguments.length?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0))return t.unshift("#"+this.id+" |"),console.debug.apply(console,t)},Opentip.findElements=function(){var t,e,i,o,n,s,r,a,h,l;for(l=[],r=0,a=(h=(t=Opentip.adapter).findAll(document.body,"[data-ot]")).length;r<a;r++){for(o in i=h[r],s={},""!==(e=t.data(i,"ot"))&&"true"!==e&&"yes"!==e||(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"",Opentip.styles.standard)null!=(n=t.data(i,"ot"+Opentip.prototype.ucfirst(o)))&&("yes"===n||"true"===n||"on"===n?n=!0:"no"!==n&&"false"!==n&&"off"!==n||(n=!1),s[o]=n);l.push(new Opentip(i,e,s))}return l},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){if(Opentip.adapters[t.name]=t,firstAdapter)return Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},i=_i=0,_len=(_ref=Opentip.positions).length;_i<_len;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{extends:null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{extends:"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{extends:"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{extends:"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;__slice=[].slice;!function(){var t,e;Element.addMethods({addTip:function(t,e,i,o){return new Opentip(t,e,i,o)}}),e=function(t){return t instanceof Array||null!=t&&"number"==typeof t.length&&"function"==typeof t.item&&"function"==typeof t.nextNode&&"function"==typeof t.reset},t=function(){function t(){}return t.prototype.name="prototype",t.prototype.domReady=function(t){return document.loaded?t():$(document).observe("dom:loaded",t)},t.prototype.create=function(t){return new Element("div").update(t).childElements()},t.prototype.wrap=function(t){if(e(t)){if(t.length>1)throw new Error("Multiple elements provided.");t=this.unwrap(t)}else"string"==typeof t&&(t=$$(t)[0]);return $(t)},t.prototype.unwrap=function(t){return e(t)?t[0]:t},t.prototype.tagName=function(t){return this.unwrap(t).tagName},t.prototype.attr=function(){var t,e,i;return e=arguments[0],1===(t=2<=arguments.length?__slice.call(arguments,1):[]).length?this.wrap(e).readAttribute(t[0]):(i=this.wrap(e)).writeAttribute.apply(i,t)},t.prototype.data=function(t,e,i){var o;return this.wrap(t),arguments.length>2?t.store(e,i):null!=(o=t.readAttribute("data-"+e.underscore().dasherize()))?o:t.retrieve(e)},t.prototype.find=function(t,e){return this.wrap(t).select(e)[0]},t.prototype.findAll=function(t,e){return this.wrap(t).select(e)},t.prototype.update=function(t,e,i){return this.wrap(t).update(i?e.escapeHTML():e)},t.prototype.append=function(t,e){return this.wrap(t).insert(this.wrap(e))},t.prototype.remove=function(t){return this.wrap(t).remove()},t.prototype.addClass=function(t,e){return this.wrap(t).addClassName(e)},t.prototype.removeClass=function(t,e){return this.wrap(t).removeClassName(e)},t.prototype.css=function(t,e){return this.wrap(t).setStyle(e)},t.prototype.dimensions=function(t){return this.wrap(t).getDimensions()},t.prototype.scrollOffset=function(){var t;return[(t=document.viewport.getScrollOffsets()).left,t.top]},t.prototype.viewportDimensions=function(){return document.viewport.getDimensions()},t.prototype.mousePosition=function(t){return null==t?null:{x:Event.pointerX(t),y:Event.pointerY(t)}},t.prototype.offset=function(t){var e;return{left:(e=this.wrap(t).cumulativeOffset()).left,top:e.top}},t.prototype.observe=function(t,e,i){return Event.observe(this.wrap(t),e,i)},t.prototype.stopObserving=function(t,e,i){return Event.stopObserving(this.wrap(t),e,i)},t.prototype.ajax=function(t){var e,i;if(null==t.url)throw new Error("No url provided");return new Ajax.Request(t.url,{method:null!=(e=null!=(i=t.method)?i.toUpperCase():void 0)?e:"GET",onSuccess:function(e){return"function"==typeof t.onSuccess?t.onSuccess(e.responseText):void 0},onFailure:function(e){return"function"==typeof t.onError?t.onError("Server responded with status "+e.status):void 0},onComplete:function(){return"function"==typeof t.onComplete?t.onComplete():void 0}})},t.prototype.clone=function(t){return Object.clone(t)},t.prototype.extend=function(){var t,e,i,o,n;for(i=arguments[0],o=0,n=(e=2<=arguments.length?__slice.call(arguments,1):[]).length;o<n;o++)t=e[o],Object.extend(i,t);return i},t}(),Opentip.addAdapter(new t)}(),document.createElement("canvas").getContext||function(){var t=Math,e=t.round,i=t.sin,o=t.cos,n=t.abs,s=t.sqrt,r=10,a=r/2;function h(){return this.context_||(this.context_=new b(this))}var l=Array.prototype.slice;var p={init:function(t){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var e=t||document;e.createElement("canvas"),e.attachEvent("onreadystatechange",function(t,e,i){var o=l.call(arguments,2);return function(){return t.apply(e,o.concat(l.call(arguments)))}}(this.init_,this,e))}},init_:function(t){if(t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}for(var i=t.getElementsByTagName("canvas"),o=0;o<i.length;o++)this.initElement(i[o])},initElement:function(t){if(!t.getContext){t.getContext=h,t.innerHTML="",t.attachEvent("onpropertychange",d),t.attachEvent("onresize",u);var e=t.attributes;e.width&&e.width.specified?t.style.width=e.width.nodeValue+"px":t.width=t.clientWidth,e.height&&e.height.specified?t.style.height=e.height.nodeValue+"px":t.height=t.clientHeight}return t}};function d(t){var e=t.srcElement;switch(t.propertyName){case"width":e.style.width=e.attributes.width.nodeValue+"px",e.getContext().clearRect();break;case"height":e.style.height=e.attributes.height.nodeValue+"px",e.getContext().clearRect()}}function u(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}p.init();for(var c=[],f=0;f<16;f++)for(var g=0;g<16;g++)c[16*f+g]=f.toString(16)+g.toString(16);function m(t,e){for(var i=[[1,0,0],[0,1,0],[0,0,1]],o=0;o<3;o++)for(var n=0;n<3;n++){for(var s=0,r=0;r<3;r++)s+=t[o][r]*e[r][n];i[o][n]=s}return i}function v(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function y(t){var e,i=1;if("rgb"==(t=String(t)).substring(0,3)){var o=t.indexOf("(",3),n=t.indexOf(")",o+1),s=t.substring(o+1,n).split(",");e="#";for(var r=0;r<3;r++)e+=c[Number(s[r])];4==s.length&&"a"==t.substr(3,1)&&(i=s[3])}else e=t;return{color:e,alpha:i}}function b(t){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*r,this.globalAlpha=1,this.canvas=t;var e=t.ownerDocument.createElement("div");e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",e.style.position="absolute",t.appendChild(e),this.element_=e,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}var _=b.prototype;function w(t,e,i,o){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:o.x,y:o.y}),t.currentX_=o.x,t.currentY_=o.y}function C(t,e,i){if(function(t){for(var e=0;e<3;e++)for(var i=0;i<2;i++)if(!isFinite(t[e][i])||isNaN(t[e][i]))return!1;return!0}(e)&&(t.m_=e,i)){var o=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=s(n(o))}}function x(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function T(){}_.clearRect=function(){this.element_.innerHTML=""},_.beginPath=function(){this.currentPath_=[]},_.moveTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},_.lineTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},_.bezierCurveTo=function(t,e,i,o,n,s){var r=this.getCoords_(n,s);w(this,this.getCoords_(t,e),this.getCoords_(i,o),r)},_.quadraticCurveTo=function(t,e,i,o){var n=this.getCoords_(t,e),s=this.getCoords_(i,o),r={x:this.currentX_+2/3*(n.x-this.currentX_),y:this.currentY_+2/3*(n.y-this.currentY_)};w(this,r,{x:r.x+(s.x-this.currentX_)/3,y:r.y+(s.y-this.currentY_)/3},s)},_.arc=function(t,e,n,s,h,l){n*=r;var p=l?"at":"wa",d=t+o(s)*n-a,u=e+i(s)*n-a,c=t+o(h)*n-a,f=e+i(h)*n-a;d!=c||l||(d+=.125);var g=this.getCoords_(t,e),m=this.getCoords_(d,u),v=this.getCoords_(c,f);this.currentPath_.push({type:p,x:g.x,y:g.y,radius:n,xStart:m.x,yStart:m.y,xEnd:v.x,yEnd:v.y})},_.rect=function(t,e,i,o){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath()},_.strokeRect=function(t,e,i,o){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath(),this.stroke(),this.currentPath_=n},_.fillRect=function(t,e,i,o){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath(),this.fill(),this.currentPath_=n},_.createLinearGradient=function(t,e,i,o){var n=new x("gradient");return n.x0_=t,n.y0_=e,n.x1_=i,n.y1_=o,n},_.createRadialGradient=function(t,e,i,o,n,s){var r=new x("gradientradial");return r.x0_=t,r.y0_=e,r.r0_=i,r.x1_=o,r.y1_=n,r.r1_=s,r},_.drawImage=function(i,o){var n,s,a,h,l,p,d,u,c=i.runtimeStyle.width,f=i.runtimeStyle.height;i.runtimeStyle.width="auto",i.runtimeStyle.height="auto";var g=i.width,m=i.height;if(i.runtimeStyle.width=c,i.runtimeStyle.height=f,3==arguments.length)n=arguments[1],s=arguments[2],l=p=0,d=a=g,u=h=m;else if(5==arguments.length)n=arguments[1],s=arguments[2],a=arguments[3],h=arguments[4],l=p=0,d=g,u=m;else{if(9!=arguments.length)throw Error("Invalid number of arguments");l=arguments[1],p=arguments[2],d=arguments[3],u=arguments[4],n=arguments[5],s=arguments[6],a=arguments[7],h=arguments[8]}var v=this.getCoords_(n,s),y=[];if(y.push(" <g_vml_:group",' coordsize="',10*r,",",10*r,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]){var b=[];b.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",e(v.x/r),",","Dy=",e(v.y/r),"");var _=v,w=this.getCoords_(n+a,s),C=this.getCoords_(n,s+h),x=this.getCoords_(n+a,s+h);_.x=t.max(_.x,w.x,C.x,x.x),_.y=t.max(_.y,w.y,C.y,x.y),y.push("padding:0 ",e(_.x/r),"px ",e(_.y/r),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",b.join(""),", sizingmethod='clip');")}else y.push("top:",e(v.y/r),"px;left:",e(v.x/r),"px;");y.push(' ">','<g_vml_:image src="',i.src,'"',' style="width:',r*a,"px;"," height:",r*h,'px;"',' cropleft="',l/g,'"',' croptop="',p/m,'"',' cropright="',(g-l-d)/g,'"',' cropbottom="',(m-p-u)/m,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",y.join(""))},_.stroke=function(i){var o=[],n=y(i?this.fillStyle:this.strokeStyle),s=n.color,a=n.alpha*this.globalAlpha;o.push("<g_vml_:shape",' filled="',!!i,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0 0" coordsize="',10*r," ",10*r,'"',' stroked="',!i,'"',' path="');for(var h={x:null,y:null},l={x:null,y:null},p=0;p<this.currentPath_.length;p++){var d=this.currentPath_[p];switch(d.type){case"moveTo":d,o.push(" m ",e(d.x),",",e(d.y));break;case"lineTo":o.push(" l ",e(d.x),",",e(d.y));break;case"close":o.push(" x "),d=null;break;case"bezierCurveTo":o.push(" c ",e(d.cp1x),",",e(d.cp1y),",",e(d.cp2x),",",e(d.cp2y),",",e(d.x),",",e(d.y));break;case"at":case"wa":o.push(" ",d.type," ",e(d.x-this.arcScaleX_*d.radius),",",e(d.y-this.arcScaleY_*d.radius)," ",e(d.x+this.arcScaleX_*d.radius),",",e(d.y+this.arcScaleY_*d.radius)," ",e(d.xStart),",",e(d.yStart)," ",e(d.xEnd),",",e(d.yEnd))}d&&((null==h.x||d.x<h.x)&&(h.x=d.x),(null==l.x||d.x>l.x)&&(l.x=d.x),(null==h.y||d.y<h.y)&&(h.y=d.y),(null==l.y||d.y>l.y)&&(l.y=d.y))}if(o.push(' ">'),i)if("object"==typeof this.fillStyle){var u=this.fillStyle,c=0,f={x:0,y:0},g=0,m=1;if("gradient"==u.type_){var v=u.x0_/this.arcScaleX_,b=u.y0_/this.arcScaleY_,_=u.x1_/this.arcScaleX_,w=u.y1_/this.arcScaleY_,C=this.getCoords_(v,b),x=this.getCoords_(_,w),T=x.x-C.x,O=x.y-C.y;(c=180*Math.atan2(T,O)/Math.PI)<0&&(c+=360),c<1e-6&&(c=0)}else{C=this.getCoords_(u.x0_,u.y0_);var S=l.x-h.x,E=l.y-h.y;f={x:(C.x-h.x)/S,y:(C.y-h.y)/E},S/=this.arcScaleX_*r,E/=this.arcScaleY_*r;var k=t.max(S,E);g=2*u.r0_/k,m=2*u.r1_/k-g}var P=u.colors_;P.sort(function(t,e){return t.offset-e.offset});var j=P.length,B=P[0].color,M=P[j-1].color,I=P[0].alpha*this.globalAlpha,A=P[j-1].alpha*this.globalAlpha,L=[];for(p=0;p<j;p++){var H=P[p];L.push(H.offset*m+g+" "+H.color)}o.push('<g_vml_:fill type="',u.type_,'"',' method="none" focus="100%"',' color="',B,'"',' color2="',M,'"',' colors="',L.join(","),'"',' opacity="',A,'"',' g_o_:opacity2="',I,'"',' angle="',c,'"',' focusposition="',f.x,",",f.y,'" />')}else o.push('<g_vml_:fill color="',s,'" opacity="',a,'" />');else{var z=this.lineScale_*this.lineWidth;z<1&&(a*=z),o.push("<g_vml_:stroke",' opacity="',a,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',function(t){switch(t){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}(this.lineCap),'"',' weight="',z,'px"',' color="',s,'" />')}o.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",o.join(""))},_.fill=function(){this.stroke(!0)},_.closePath=function(){this.currentPath_.push({type:"close"})},_.getCoords_=function(t,e){var i=this.m_;return{x:r*(t*i[0][0]+e*i[1][0]+i[2][0])-a,y:r*(t*i[0][1]+e*i[1][1]+i[2][1])-a}},_.save=function(){var t={};v(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=m([[1,0,0],[0,1,0],[0,0,1]],this.m_)},_.restore=function(){v(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},_.translate=function(t,e){C(this,m([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},_.rotate=function(t){var e=o(t),n=i(t);C(this,m([[e,n,0],[-n,e,0],[0,0,1]],this.m_),!1)},_.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,C(this,m([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},_.transform=function(t,e,i,o,n,s){C(this,m([[t,e,0],[i,o,0],[n,s,1]],this.m_),!0)},_.setTransform=function(t,e,i,o,n,s){C(this,[[t,e,0],[i,o,0],[n,s,1]],!0)},_.clip=function(){},_.arcTo=function(){},_.createPattern=function(){return new T},x.prototype.addColorStop=function(t,e){e=y(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},G_vmlCanvasManager=p,CanvasRenderingContext2D=b,CanvasGradient=x,CanvasPattern=T}();__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,o,n){var s,r,a,h,l,p,d,u,c,f,g,m,v,y,b=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,(s=this.adapter.data(e,"opentips")||[]).push(this),this.adapter.data(e,"opentips",s),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw Error("You can't call Opentip on multiple elements.");if(1>this.triggerElement.length)throw Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},n=this.adapter.clone(n),"object"==typeof i?(n=i,i=o=void 0):"object"==typeof o&&(n=o,o=void 0),null!=o&&(n.title=o),null!=i&&this.setContent(i),null==n.extends&&(n.extends=null!=n.style?n.style:t.defaultStyle),h=[n],y=n;y.extends;){if(p=y.extends,null==(y=t.styles[p]))throw Error("Invalid style: "+p);h.unshift(y),null==y.extends&&"standard"!==p&&(y.extends="standard")}for((n=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(h)))).hideTriggers=function(){var t,e,i,o;for(o=[],t=0,e=(i=n.hideTriggers).length;e>t;t++)r=i[t],o.push(r);return o}(),n.hideTrigger&&0===n.hideTriggers.length&&n.hideTriggers.push(n.hideTrigger),d=0,c=(m=["tipJoint","targetJoint","stem"]).length;c>d;d++)n[l=m[d]]&&"string"==typeof n[l]&&(n[l]=new t.Joint(n[l]));for(!n.ajax||!0!==n.ajax&&n.ajax||(n.ajax="A"===this.adapter.tagName(this.triggerElement)&&this.adapter.attr(this.triggerElement,"href")),"click"===n.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),n.target&&(n.fixed=!0),!0===n.stem&&(n.stem=new t.Joint(n.tipJoint)),!0===n.target?n.target=this.triggerElement:n.target&&(n.target=this.adapter.wrap(n.target)),this.currentStem=n.stem,null==n.delay&&(n.delay="mouseover"===n.showOn?.2:0),null==n.targetJoint&&(n.targetJoint=new t.Joint(n.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],n.showOn&&"creation"!==n.showOn&&this.showTriggers.push({element:this.triggerElement,event:n.showOn}),null!=n.ajaxCache&&(n.cache=n.ajaxCache,delete n.ajaxCache),this.options=n,this.bound={},u=0,f=(v=["prepareToShow","prepareToHide","show","hide","reposition"]).length;f>u;u++)a=v[u],this.bound[a]=function(t){return function(){return b[t].apply(b,arguments)}}(a);this.adapter.domReady(function(){return b.activate(),"creation"===b.options.showOn?b.prepareToShow():void 0})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype.class={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,n,s,r,a,h,l,p;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],o=n=0,r=(h=this.options.hideTriggers).length;r>n;o=++n){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=[],s=0,a=(l=this.hideTriggers).length;a>s;s++)e=l[s],p.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return p},t.prototype._buildContainer=function(){return this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this.class.container+" "+this.class.hidden+" "+this.class.stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this.class.loading),this.options.fixed&&this.adapter.addClass(this.container,this.class.fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this.class.showEffectPrefix+this.options.showEffect),this.options.hideEffect?this.adapter.addClass(this.container,""+this.class.hideEffectPrefix+this.options.hideEffect):void 0},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this.class.opentip+'"><div class="'+this.class.header+'"></div><div class="'+this.class.content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this.class.header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this.class.loadingIndicator+'"><span>↻</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this.class.close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){return this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible?this._updateElementContent():void 0},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(null!=(t=this.adapter.find(this.container,"."+this.class.content))&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:this.dimensions.width+"px",top:this.currentPosition.top+"px",left:this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m=this;for(s=0,l=(o=arguments.length>=1?__slice.call(arguments,0):[]).length;l>s;s++)if(i=o[s],e=!1,"-"===i.charAt(0)&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=arguments.length>=1?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case"showing":for(r=0,p=(c=this.hideTriggers).length;p>r;r++)t((n=c[r]).element,n.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(a=0,d=(f=this.showTriggersWhenVisible).length;d>a;a++)t((n=f[a]).element,n.event,this.bound.prepareToShow);break;case"hiding":for(h=0,u=(g=this.showTriggers).length;u>h;h++)t((n=g[h]).element,n.event,this.bound.prepareToShow);break;case"hidden":break;default:throw Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){return this._abortHiding(),this._abortShowing(),this.visible?void 0:(this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0))},t.prototype.show=function(){var e=this;return this._abortHiding(),this.visible?void 0:(this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this.class.hiding),this.adapter.removeClass(this.container,this.class.hidden),this.adapter.addClass(this.container,this.class.goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e.class.goingToShow),e.adapter.addClass(e.container,e.class.showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e.class.showing),e.adapter.addClass(e.container,e.class.visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate())},t.prototype._abortShowing=function(){return this.preparingToShow?(this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")):void 0},t.prototype.prepareToHide=function(){return this._abortShowing(),this._abortHiding(),this.visible?(this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)):void 0},t.prototype.hide=function(){var t=this;return this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container)?(this.adapter.removeClass(this.container,this.class.visible),this.adapter.removeClass(this.container,this.class.showing),this.adapter.addClass(this.container,this.class.goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t.class.goingToHide),t.adapter.addClass(t.container,t.class.hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){return t.adapter.removeClass(t.container,t.class.hiding),t.adapter.addClass(t.container,t.class.hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide?(t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement):void 0},e)})):void 0},t.prototype._abortHiding=function(){return this.preparingToHide?(this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")):void 0},t.prototype.reposition=function(){var t,e,i,o=this;return null==(t=this.getPosition())||(e=this.options.stem,this.options.containInViewport&&(t=(i=this._ensureViewportContainment(t)).position,e=i.stem),this._positionsEqual(t,this.currentPosition))?void 0:(this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:t.left+"px",top:t.top+"px"}),this.defer(function(){var t;return(t=o.adapter.unwrap(o.container)).style.visibility="hidden",t.offsetHeight,t.style.visibility="visible"}))},t.prototype.getPosition=function(t,e,i){var o,n,s,r,a,h,l,p,d;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),r={},this.options.target?(l=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=l,e.right?null!=(p=this.adapter.unwrap(this.options.target)).getBoundingClientRect?r.left=p.getBoundingClientRect().right+(null!=(d=window.pageXOffset)?d:document.body.scrollLeft):r.left+=h.width:e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(s=(a=this.options.stem?this.options.stemLength:0)&&this.options.fixed?2:10,o=t.middle&&!this.options.fixed?15:0,n=t.center&&!this.options.fixed?15:0,t.right?r.left-=s+o:t.left&&(r.left+=s+o),t.bottom?r.top-=s+n:t.top&&(r.top+=s+n),a&&(null==i&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,n,s,r,a,h,l,p,d,u;if(n={position:e,stem:h=this.options.stem},!this.visible||!e)return n;if(!(l=this._sticksOut(e))[0]&&!l[1])return n;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(p=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),[e.left-a[0],e.top-a[1]],i=!1,u.width>=this.dimensions.width&&l[0])switch(i=!0,l[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&p.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&p.setHorizontal("left")}if(u.height>=this.dimensions.height&&l[1])switch(i=!0,l[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&p.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&p.setVertical("top")}return i?(this.options.stem&&(h=d),e=this.getPosition(d,p,h),s=!1,r=!1,(o=this._sticksOut(e))[0]&&o[0]!==l[0]&&(s=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&p.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==l[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&p.setVertical(this.options.targetJoint.vertical)),s&&r?n:((s||r)&&(this.options.stem&&(h=d),e=this.getPosition(d,p,h)),{position:e,stem:h})):n},t.prototype._sticksOut=function(t){var e,i,o,n;return i=this.adapter.scrollOffset(),n=this.adapter.viewportDimensions(),o=[!1,!1],0>(e=[t.left-i[0],t.top-i[1]])[0]?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>n.width&&(o[0]=this.STICKS_OUT_RIGHT),0>e[1]?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>n.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m,v,y,b,_=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(g=0,m=(v=["top","right","bottom","left"]).length;m>g;g++)u=v[g],this.adapter.removeClass(this.container,"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(s=new t.Joint("top right"===(null!=(y=this.currentStem)?y+"":void 0)?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),n=[0,0],this.options.borderWidth&&(o.width+=2*this.options.borderWidth,o.height+=2*this.options.borderWidth,n[0]-=this.options.borderWidth,n[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=2*this.options.shadowBlur,o.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),o.height+=2*this.options.shadowBlur,o.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),n[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),n[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),s&&(s.left?i.left=Math.max(i.left,a[0]):s.right&&(i.right=Math.max(i.right,a[0])),s.top?i.top=Math.max(i.top,a[1]):s.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,n[0]-=i.left,n[1]-=i.top,this.currentStem&&this.options.borderWidth&&(b=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=b.stemLength,c=b.stemBase),(e=this.adapter.unwrap(this.backgroundCanvas)).width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:e.width+"px",height:e.height+"px",left:n[0]+"px",top:n[1]+"px"}),(h=e.getContext("2d")).setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(f=this.options.stemLength,c=this.options.stemBase),null==c&&(c=0),p=function(t,e,i){return i&&h.moveTo(Math.max(c,_.options.borderRadius,r[0])+1-d,-d),e?(h.lineTo(t/2-c/2,-d),h.lineTo(t/2,-f-d),h.lineTo(t/2+c/2,-d)):void 0},l=function(t,e,i){var o,n,s,a;return t?(h.lineTo(-c+d,0-d),h.lineTo(f+d,-f-d),h.lineTo(d,c-d)):e?(a=_.options.closeButtonOffset,s=r[0],i%2!=0&&(a=[a[1],a[0]],s=r[1]),o=Math.acos(a[1]/_.options.closeButtonRadius),n=Math.acos(a[0]/_.options.closeButtonRadius),h.lineTo(-s+d,-d),h.arc(d-a[0],-d+a[1],_.options.closeButtonRadius,-(Math.PI/2+o),n,!1)):(h.lineTo(-_.options.borderRadius+d,-d),h.quadraticCurveTo(d,-d,d,_.options.borderRadius-d))},h.translate(-n[0],-n[1]),h.save(),function(){var e,i,o,n,r,a,d,u,c,f,g;for(g=[],i=c=0,f=t.positions.length/2;f>=0?f>c:c>f;i=f>=0?++c:--c)r=2*i,a=0===i||3===i?0:_.dimensions.width,d=2>i?0:_.dimensions.height,u=Math.PI/2*i,o=i%2==0?_.dimensions.width:_.dimensions.height,n=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,d),h.rotate(u),p(o,n.eql(_.currentStem),0===i),h.translate(o,0),l(e.eql(_.currentStem),e.eql(s),i),g.push(h.restore())}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),s?function(){var t,e,i;return 2*_.options.closeButtonRadius,s+""=="top right"?t=[(i=[_.dimensions.width-_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]+d,i[1]-d]:t=[(i=[_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]-d,i[1]-d],h.translate(t[0],t[1]),e=_.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=_.options.closeButtonCrossColor,h.lineWidth=_.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-e,-e),h.lineTo(e,e),h.stroke(),h.beginPath(),h.moveTo(e,-e),h.lineTo(-e,e),h.stroke(),h.restore(),_.adapter.css(_.closeButtonElement,{left:i[0]-e-_.options.closeButtonLinkOverscan+"px",top:i[1]-e-_.options.closeButtonLinkOverscan+"px",width:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px",height:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px"})}():void 0}},t.prototype._getPathStemMeasures=function(t,e,i){var o,n,s,r;if(s=i/2,o=2*(n=Math.atan(t/2/e)),0>(r=s+e-2*(s/Math.sin(o))*Math.cos(n)))throw Error("Sorry but your stemLength / stemBase ratio is strange.");return{stemLength:r,stemBase:Math.tan(n)*r*2}},t.prototype._getColor=function(t,e,i,o){var n,s,r,a,h;if(null==o&&(o=!1),"string"==typeof i)return i;for(s=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;h>a;r=++a)n=i[r],s.addColorStop(n[0],n[1]);return s},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(e=0,i=(o=this.adapter.findAll(this.container,"."+this.class.close)).length;i>e;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});return this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible?this._setupObservers("-visible","visible"):void 0},t.prototype._activateFirstInput=function(){var t;return null!=(t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")))&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){return this.options.fixed?void 0:t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){return this.options.fixed?void 0:t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this.class.loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t.class.loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t.class.ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t.class.loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){return this._triggerElementExists()?void 0:(this.deactivate(),this._stopEnsureTriggerElement())},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,n,s,r;for(i in t=this.adapter.unwrap(t),r=[],e)__hasProp.call(e,i)&&(o=e[i],null!=t.style[i]?r.push(t.style[i]=o):r.push(function(){var e,r,a;for(a=[],e=0,r=vendors.length;r>e;e++)n=vendors[e],s=""+this.ucfirst(n)+this.ucfirst(i),null!=t.style[s]?a.push(t.style[s]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,n;for(mousePosition=Opentip.adapter.mousePosition(t),n=[],i=0,o=mousePositionObservers.length;o>i;i++)e=mousePositionObservers[i],n.push(e());return n},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,o,n;for(n=[],i=0,o=mousePositionObservers.length;o>i;i++)(e=mousePositionObservers[i])!==t&&n.push(e);return n}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t+=""),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["left","center","right"]).length;s>o;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],n=0,r=i.length;r>n;n++)e=i[n],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["top","middle","bottom"]).length;s>o;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],n=0,r=i.length;r>n;n++)e=i[n],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t;return t=(Opentip.position[this.toString(!0)]+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return null==t&&(t=!1),i="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;return t=arguments.length>=1?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0)?(t.unshift("#"+this.id+" |"),console.debug.apply(console,t)):void 0},Opentip.findElements=function(){var t,e,i,o,n,s,r,a,h,l;for(l=[],r=0,a=(h=(t=Opentip.adapter).findAll(document.body,"[data-ot]")).length;a>r;r++){for(o in i=h[r],s={},(""===(e=t.data(i,"ot"))||"true"===e||"yes"===e)&&(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"",Opentip.styles.standard)null!=(n=t.data(i,"ot"+Opentip.prototype.ucfirst(o)))&&("yes"===n||"true"===n||"on"===n?n=!0:("no"===n||"false"===n||"off"===n)&&(n=!1),s[o]=n);l.push(new Opentip(i,e,s))}return l},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;n>o;o++)(i=s[o])!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;n>o;o++)(i=s[o])!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){return Opentip.adapters[t.name]=t,firstAdapter?(Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1):void 0},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},i=_i=0,_len=(_ref=Opentip.positions).length;_len>_i;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{extends:null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{extends:"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{extends:"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{extends:"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;__slice=[].slice;(function(){var t,e;Element.addMethods({addTip:function(t,e,i,o){return new Opentip(t,e,i,o)}}),e=function(t){return t instanceof Array||null!=t&&"number"==typeof t.length&&"function"==typeof t.item&&"function"==typeof t.nextNode&&"function"==typeof t.reset},t=function(){function t(){}return t.prototype.name="prototype",t.prototype.domReady=function(t){return document.loaded?t():$(document).observe("dom:loaded",t)},t.prototype.create=function(t){return new Element("div").update(t).childElements()},t.prototype.wrap=function(t){if(e(t)){if(t.length>1)throw Error("Multiple elements provided.");t=this.unwrap(t)}else"string"==typeof t&&(t=$$(t)[0]);return $(t)},t.prototype.unwrap=function(t){return e(t)?t[0]:t},t.prototype.tagName=function(t){return this.unwrap(t).tagName},t.prototype.attr=function(){var t,e,i;return e=arguments[0],1===(t=arguments.length>=2?__slice.call(arguments,1):[]).length?this.wrap(e).readAttribute(t[0]):(i=this.wrap(e)).writeAttribute.apply(i,t)},t.prototype.data=function(t,e,i){var o;return this.wrap(t),arguments.length>2?t.store(e,i):null!=(o=t.readAttribute("data-"+e.underscore().dasherize()))?o:t.retrieve(e)},t.prototype.find=function(t,e){return this.wrap(t).select(e)[0]},t.prototype.findAll=function(t,e){return this.wrap(t).select(e)},t.prototype.update=function(t,e,i){return this.wrap(t).update(i?e.escapeHTML():e)},t.prototype.append=function(t,e){return this.wrap(t).insert(this.wrap(e))},t.prototype.remove=function(t){return this.wrap(t).remove()},t.prototype.addClass=function(t,e){return this.wrap(t).addClassName(e)},t.prototype.removeClass=function(t,e){return this.wrap(t).removeClassName(e)},t.prototype.css=function(t,e){return this.wrap(t).setStyle(e)},t.prototype.dimensions=function(t){return this.wrap(t).getDimensions()},t.prototype.scrollOffset=function(){var t;return[(t=document.viewport.getScrollOffsets()).left,t.top]},t.prototype.viewportDimensions=function(){return document.viewport.getDimensions()},t.prototype.mousePosition=function(t){return null==t?null:{x:Event.pointerX(t),y:Event.pointerY(t)}},t.prototype.offset=function(t){var e;return{left:(e=this.wrap(t).cumulativeOffset()).left,top:e.top}},t.prototype.observe=function(t,e,i){return Event.observe(this.wrap(t),e,i)},t.prototype.stopObserving=function(t,e,i){return Event.stopObserving(this.wrap(t),e,i)},t.prototype.ajax=function(t){var e,i;if(null==t.url)throw Error("No url provided");return new Ajax.Request(t.url,{method:null!=(e=null!=(i=t.method)?i.toUpperCase():void 0)?e:"GET",onSuccess:function(e){return"function"==typeof t.onSuccess?t.onSuccess(e.responseText):void 0},onFailure:function(e){return"function"==typeof t.onError?t.onError("Server responded with status "+e.status):void 0},onComplete:function(){return"function"==typeof t.onComplete?t.onComplete():void 0}})},t.prototype.clone=function(t){return Object.clone(t)},t.prototype.extend=function(){var t,e,i,o,n;for(i=arguments[0],o=0,n=(e=arguments.length>=2?__slice.call(arguments,1):[]).length;n>o;o++)t=e[o],Object.extend(i,t);return i},t}(),Opentip.addAdapter(new t)})(),document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new r(this))}function e(t){var e=t.srcElement;switch(t.propertyName){case"width":e.style.width=e.attributes.width.nodeValue+"px",e.getContext().clearRect();break;case"height":e.style.height=e.attributes.height.nodeValue+"px",e.getContext().clearRect()}}function i(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function o(t,e){for(var i=[[1,0,0],[0,1,0],[0,0,1]],o=0;3>o;o++)for(var n=0;3>n;n++){for(var s=0,r=0;3>r;r++)s+=t[o][r]*e[r][n];i[o][n]=s}return i}function n(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function s(t){var e,i=1;if("rgb"==(t+="").substring(0,3)){var o=t.indexOf("(",3),n=t.indexOf(")",o+1),s=t.substring(o+1,n).split(",");e="#";for(var r=0;3>r;r++)e+=w[Number(s[r])];4==s.length&&"a"==t.substr(3,1)&&(i=s[3])}else e=t;return{color:e,alpha:i}}function r(t){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*v,this.globalAlpha=1,this.canvas=t;var e=t.ownerDocument.createElement("div");e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",e.style.position="absolute",t.appendChild(e),this.element_=e,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function a(t,e,i,o){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:o.x,y:o.y}),t.currentX_=o.x,t.currentY_=o.y}function h(t,e,i){if(function(t){for(var e=0;3>e;e++)for(var i=0;2>i;i++)if(!isFinite(t[e][i])||isNaN(t[e][i]))return!1;return!0}(e)&&(t.m_=e,i)){var o=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=m(g(o))}}function l(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function p(){}var d=Math,u=d.round,c=d.sin,f=d.cos,g=d.abs,m=d.sqrt,v=10,y=v/2,b=Array.prototype.slice,_={init:function(t){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var e=t||document;e.createElement("canvas"),e.attachEvent("onreadystatechange",function(t,e){var i=b.call(arguments,2);return function(){return t.apply(e,i.concat(b.call(arguments)))}}(this.init_,this,e))}},init_:function(t){if(t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}for(var i=t.getElementsByTagName("canvas"),o=0;i.length>o;o++)this.initElement(i[o])},initElement:function(o){if(!o.getContext){o.getContext=t,o.innerHTML="",o.attachEvent("onpropertychange",e),o.attachEvent("onresize",i);var n=o.attributes;n.width&&n.width.specified?o.style.width=n.width.nodeValue+"px":o.width=o.clientWidth,n.height&&n.height.specified?o.style.height=n.height.nodeValue+"px":o.height=o.clientHeight}return o}};_.init();for(var w=[],C=0;16>C;C++)for(var x=0;16>x;x++)w[16*C+x]=C.toString(16)+x.toString(16);var T=r.prototype;T.clearRect=function(){this.element_.innerHTML=""},T.beginPath=function(){this.currentPath_=[]},T.moveTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},T.lineTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},T.bezierCurveTo=function(t,e,i,o,n,s){var r=this.getCoords_(n,s);a(this,this.getCoords_(t,e),this.getCoords_(i,o),r)},T.quadraticCurveTo=function(t,e,i,o){var n=this.getCoords_(t,e),s=this.getCoords_(i,o),r={x:this.currentX_+2/3*(n.x-this.currentX_),y:this.currentY_+2/3*(n.y-this.currentY_)};a(this,r,{x:r.x+(s.x-this.currentX_)/3,y:r.y+(s.y-this.currentY_)/3},s)},T.arc=function(t,e,i,o,n,s){i*=v;var r=s?"at":"wa",a=t+f(o)*i-y,h=e+c(o)*i-y,l=t+f(n)*i-y,p=e+c(n)*i-y;a!=l||s||(a+=.125);var d=this.getCoords_(t,e),u=this.getCoords_(a,h),g=this.getCoords_(l,p);this.currentPath_.push({type:r,x:d.x,y:d.y,radius:i,xStart:u.x,yStart:u.y,xEnd:g.x,yEnd:g.y})},T.rect=function(t,e,i,o){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath()},T.strokeRect=function(t,e,i,o){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath(),this.stroke(),this.currentPath_=n},T.fillRect=function(t,e,i,o){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath(),this.fill(),this.currentPath_=n},T.createLinearGradient=function(t,e,i,o){var n=new l("gradient");return n.x0_=t,n.y0_=e,n.x1_=i,n.y1_=o,n},T.createRadialGradient=function(t,e,i,o,n,s){var r=new l("gradientradial");return r.x0_=t,r.y0_=e,r.r0_=i,r.x1_=o,r.y1_=n,r.r1_=s,r},T.drawImage=function(t){var e,i,o,n,s,r,a,h,l=t.runtimeStyle.width,p=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var c=t.width,f=t.height;if(t.runtimeStyle.width=l,t.runtimeStyle.height=p,3==arguments.length)e=arguments[1],i=arguments[2],s=r=0,a=o=c,h=n=f;else if(5==arguments.length)e=arguments[1],i=arguments[2],o=arguments[3],n=arguments[4],s=r=0,a=c,h=f;else{if(9!=arguments.length)throw Error("Invalid number of arguments");s=arguments[1],r=arguments[2],a=arguments[3],h=arguments[4],e=arguments[5],i=arguments[6],o=arguments[7],n=arguments[8]}var g=this.getCoords_(e,i),m=[];if(m.push(" <g_vml_:group",' coordsize="',10*v,",",10*v,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]){var y=[];y.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",u(g.x/v),",","Dy=",u(g.y/v),"");var b=g,_=this.getCoords_(e+o,i),w=this.getCoords_(e,i+n),C=this.getCoords_(e+o,i+n);b.x=d.max(b.x,_.x,w.x,C.x),b.y=d.max(b.y,_.y,w.y,C.y),m.push("padding:0 ",u(b.x/v),"px ",u(b.y/v),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",y.join(""),", sizingmethod='clip');")}else m.push("top:",u(g.y/v),"px;left:",u(g.x/v),"px;");m.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',v*o,"px;"," height:",v*n,'px;"',' cropleft="',s/c,'"',' croptop="',r/f,'"',' cropright="',(c-s-a)/c,'"',' cropbottom="',(f-r-h)/f,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",m.join(""))},T.stroke=function(t){var e=[],i=s(t?this.fillStyle:this.strokeStyle),o=i.color,n=i.alpha*this.globalAlpha;e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0 0" coordsize="',10*v," ",10*v,'"',' stroked="',!t,'"',' path="');for(var r={x:null,y:null},a={x:null,y:null},h=0;this.currentPath_.length>h;h++){var l=this.currentPath_[h];switch(l.type){case"moveTo":l,e.push(" m ",u(l.x),",",u(l.y));break;case"lineTo":e.push(" l ",u(l.x),",",u(l.y));break;case"close":e.push(" x "),l=null;break;case"bezierCurveTo":e.push(" c ",u(l.cp1x),",",u(l.cp1y),",",u(l.cp2x),",",u(l.cp2y),",",u(l.x),",",u(l.y));break;case"at":case"wa":e.push(" ",l.type," ",u(l.x-this.arcScaleX_*l.radius),",",u(l.y-this.arcScaleY_*l.radius)," ",u(l.x+this.arcScaleX_*l.radius),",",u(l.y+this.arcScaleY_*l.radius)," ",u(l.xStart),",",u(l.yStart)," ",u(l.xEnd),",",u(l.yEnd))}l&&((null==r.x||r.x>l.x)&&(r.x=l.x),(null==a.x||l.x>a.x)&&(a.x=l.x),(null==r.y||r.y>l.y)&&(r.y=l.y),(null==a.y||l.y>a.y)&&(a.y=l.y))}if(e.push(' ">'),t)if("object"==typeof this.fillStyle){var p=this.fillStyle,c=0,f={x:0,y:0},g=0,m=1;if("gradient"==p.type_){var y=p.x0_/this.arcScaleX_,b=p.y0_/this.arcScaleY_,_=p.x1_/this.arcScaleX_,w=p.y1_/this.arcScaleY_,C=this.getCoords_(y,b),x=this.getCoords_(_,w),T=x.x-C.x,O=x.y-C.y;0>(c=180*Math.atan2(T,O)/Math.PI)&&(c+=360),1e-6>c&&(c=0)}else{C=this.getCoords_(p.x0_,p.y0_);var S=a.x-r.x,E=a.y-r.y;f={x:(C.x-r.x)/S,y:(C.y-r.y)/E},S/=this.arcScaleX_*v,E/=this.arcScaleY_*v;var k=d.max(S,E);g=2*p.r0_/k,m=2*p.r1_/k-g}var P=p.colors_;P.sort(function(t,e){return t.offset-e.offset});var j=P.length,B=P[0].color,M=P[j-1].color,I=P[0].alpha*this.globalAlpha,A=P[j-1].alpha*this.globalAlpha,L=[];for(h=0;j>h;h++){var H=P[h];L.push(H.offset*m+g+" "+H.color)}e.push('<g_vml_:fill type="',p.type_,'"',' method="none" focus="100%"',' color="',B,'"',' color2="',M,'"',' colors="',L.join(","),'"',' opacity="',A,'"',' g_o_:opacity2="',I,'"',' angle="',c,'"',' focusposition="',f.x,",",f.y,'" />')}else e.push('<g_vml_:fill color="',o,'" opacity="',n,'" />');else{var z=this.lineScale_*this.lineWidth;1>z&&(n*=z),e.push("<g_vml_:stroke",' opacity="',n,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',function(t){switch(t){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}(this.lineCap),'"',' weight="',z,'px"',' color="',o,'" />')}e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},T.fill=function(){this.stroke(!0)},T.closePath=function(){this.currentPath_.push({type:"close"})},T.getCoords_=function(t,e){var i=this.m_;return{x:v*(t*i[0][0]+e*i[1][0]+i[2][0])-y,y:v*(t*i[0][1]+e*i[1][1]+i[2][1])-y}},T.save=function(){var t={};n(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=o([[1,0,0],[0,1,0],[0,0,1]],this.m_)},T.restore=function(){n(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},T.translate=function(t,e){h(this,o([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},T.rotate=function(t){var e=f(t),i=c(t);h(this,o([[e,i,0],[-i,e,0],[0,0,1]],this.m_),!1)},T.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,h(this,o([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},T.transform=function(t,e,i,n,s,r){h(this,o([[t,e,0],[i,n,0],[s,r,1]],this.m_),!0)},T.setTransform=function(t,e,i,o,n,s){h(this,[[t,e,0],[i,o,0],[n,s,1]],!0)},T.clip=function(){},T.arcTo=function(){},T.createPattern=function(){return new p},l.prototype.addColorStop=function(t,e){e=s(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},G_vmlCanvasManager=_,CanvasRenderingContext2D=r,CanvasGradient=l,CanvasPattern=p}();__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,o,n){var s,r,a,h,l,p,d,u,c,f,g,m,v,y,b=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,(s=this.adapter.data(e,"opentips")||[]).push(this),this.adapter.data(e,"opentips",s),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw new Error("You can't call Opentip on multiple elements.");if(this.triggerElement.length<1)throw new Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},n=this.adapter.clone(n),"object"==typeof i?(n=i,i=o=void 0):"object"==typeof o&&(n=o,o=void 0),null!=o&&(n.title=o),null!=i&&this.setContent(i),null==n.extends&&(null!=n.style?n.extends=n.style:n.extends=t.defaultStyle),h=[n],y=n;y.extends;){if(p=y.extends,null==(y=t.styles[p]))throw new Error("Invalid style: "+p);h.unshift(y),null==y.extends&&"standard"!==p&&(y.extends="standard")}for((n=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(h)))).hideTriggers=function(){var t,e,i,o;for(o=[],t=0,e=(i=n.hideTriggers).length;t<e;t++)r=i[t],o.push(r);return o}(),n.hideTrigger&&0===n.hideTriggers.length&&n.hideTriggers.push(n.hideTrigger),d=0,c=(m=["tipJoint","targetJoint","stem"]).length;d<c;d++)n[l=m[d]]&&"string"==typeof n[l]&&(n[l]=new t.Joint(n[l]));for(!n.ajax||!0!==n.ajax&&n.ajax||("A"===this.adapter.tagName(this.triggerElement)?n.ajax=this.adapter.attr(this.triggerElement,"href"):n.ajax=!1),"click"===n.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),n.target&&(n.fixed=!0),!0===n.stem&&(n.stem=new t.Joint(n.tipJoint)),!0===n.target?n.target=this.triggerElement:n.target&&(n.target=this.adapter.wrap(n.target)),this.currentStem=n.stem,null==n.delay&&(n.delay="mouseover"===n.showOn?.2:0),null==n.targetJoint&&(n.targetJoint=new t.Joint(n.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],n.showOn&&"creation"!==n.showOn&&this.showTriggers.push({element:this.triggerElement,event:n.showOn}),null!=n.ajaxCache&&(n.cache=n.ajaxCache,delete n.ajaxCache),this.options=n,this.bound={},u=0,f=(v=["prepareToShow","prepareToHide","show","hide","reposition"]).length;u<f;u++)a=v[u],this.bound[a]=function(t){return function(){return b[t].apply(b,arguments)}}(a);this.adapter.domReady(function(){if(b.activate(),"creation"===b.options.showOn)return b.prepareToShow()})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype.class={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,n,s,r,a,h,l,p;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],o=n=0,r=(h=this.options.hideTriggers).length;n<r;o=++n){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw new Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=[],s=0,a=(l=this.hideTriggers).length;s<a;s++)e=l[s],p.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return p},t.prototype._buildContainer=function(){if(this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this.class.container+" "+this.class.hidden+" "+this.class.stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this.class.loading),this.options.fixed&&this.adapter.addClass(this.container,this.class.fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this.class.showEffectPrefix+this.options.showEffect),this.options.hideEffect)return this.adapter.addClass(this.container,""+this.class.hideEffectPrefix+this.options.hideEffect)},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this.class.opentip+'"><div class="'+this.class.header+'"></div><div class="'+this.class.content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this.class.header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this.class.loadingIndicator+'"><span>↻</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this.class.close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){if(this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible)return this._updateElementContent()},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(null!=(t=this.adapter.find(this.container,"."+this.class.content))&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:this.dimensions.width+"px",top:this.currentPosition.top+"px",left:this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m=this;for(s=0,l=(o=1<=arguments.length?__slice.call(arguments,0):[]).length;s<l;s++)if(i=o[s],e=!1,"-"===i.charAt(0)&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=1<=arguments.length?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case"showing":for(r=0,p=(c=this.hideTriggers).length;r<p;r++)t((n=c[r]).element,n.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(a=0,d=(f=this.showTriggersWhenVisible).length;a<d;a++)t((n=f[a]).element,n.event,this.bound.prepareToShow);break;case"hiding":for(h=0,u=(g=this.showTriggers).length;h<u;h++)t((n=g[h]).element,n.event,this.bound.prepareToShow);break;case"hidden":break;default:throw new Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){if(this._abortHiding(),this._abortShowing(),!this.visible)return this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0)},t.prototype.show=function(){var e=this;if(this._abortHiding(),!this.visible)return this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this.class.hiding),this.adapter.removeClass(this.container,this.class.hidden),this.adapter.addClass(this.container,this.class.goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e.class.goingToShow),e.adapter.addClass(e.container,e.class.showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e.class.showing),e.adapter.addClass(e.container,e.class.visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate()},t.prototype._abortShowing=function(){if(this.preparingToShow)return this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")},t.prototype.prepareToHide=function(){if(this._abortShowing(),this._abortHiding(),this.visible)return this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)},t.prototype.hide=function(){var t=this;if(this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container))return this.adapter.removeClass(this.container,this.class.visible),this.adapter.removeClass(this.container,this.class.showing),this.adapter.addClass(this.container,this.class.goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t.class.goingToHide),t.adapter.addClass(t.container,t.class.hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){if(t.adapter.removeClass(t.container,t.class.hiding),t.adapter.addClass(t.container,t.class.hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide)return t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement},e)})},t.prototype._abortHiding=function(){if(this.preparingToHide)return this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")},t.prototype.reposition=function(){var t,e,i,o=this;if(null!=(t=this.getPosition())&&(e=this.options.stem,this.options.containInViewport&&(t=(i=this._ensureViewportContainment(t)).position,e=i.stem),!this._positionsEqual(t,this.currentPosition)))return this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:t.left+"px",top:t.top+"px"}),this.defer(function(){var t;return(t=o.adapter.unwrap(o.container)).style.visibility="hidden",t.offsetHeight,t.style.visibility="visible"})},t.prototype.getPosition=function(t,e,i){var o,n,s,r,a,h,l,p,d;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),r={},this.options.target?(l=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=l,e.right?null!=(p=this.adapter.unwrap(this.options.target)).getBoundingClientRect?r.left=p.getBoundingClientRect().right+(null!=(d=window.pageXOffset)?d:document.body.scrollLeft):r.left+=h.width:e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(s=(a=this.options.stem?this.options.stemLength:0)&&this.options.fixed?2:10,o=t.middle&&!this.options.fixed?15:0,n=t.center&&!this.options.fixed?15:0,t.right?r.left-=s+o:t.left&&(r.left+=s+o),t.bottom?r.top-=s+n:t.top&&(r.top+=s+n),a&&(null==i&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,n,s,r,a,h,l,p,d,u;if(n={position:e,stem:h=this.options.stem},!this.visible||!e)return n;if(!(l=this._sticksOut(e))[0]&&!l[1])return n;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(p=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),[e.left-a[0],e.top-a[1]],i=!1,u.width>=this.dimensions.width&&l[0])switch(i=!0,l[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&p.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&p.setHorizontal("left")}if(u.height>=this.dimensions.height&&l[1])switch(i=!0,l[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&p.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&p.setVertical("top")}return i?(this.options.stem&&(h=d),e=this.getPosition(d,p,h),s=!1,r=!1,(o=this._sticksOut(e))[0]&&o[0]!==l[0]&&(s=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&p.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==l[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&p.setVertical(this.options.targetJoint.vertical)),s&&r?n:((s||r)&&(this.options.stem&&(h=d),e=this.getPosition(d,p,h)),{position:e,stem:h})):n},t.prototype._sticksOut=function(t){var e,i,o,n;return i=this.adapter.scrollOffset(),n=this.adapter.viewportDimensions(),o=[!1,!1],(e=[t.left-i[0],t.top-i[1]])[0]<0?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>n.width&&(o[0]=this.STICKS_OUT_RIGHT),e[1]<0?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>n.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m,v,y,b,_=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(g=0,m=(v=["top","right","bottom","left"]).length;g<m;g++)u=v[g],this.adapter.removeClass(this.container,"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(s=new t.Joint("top right"===(null!=(y=this.currentStem)?y.toString():void 0)?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),n=[0,0],this.options.borderWidth&&(o.width+=2*this.options.borderWidth,o.height+=2*this.options.borderWidth,n[0]-=this.options.borderWidth,n[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=2*this.options.shadowBlur,o.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),o.height+=2*this.options.shadowBlur,o.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),n[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),n[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),s&&(s.left?i.left=Math.max(i.left,a[0]):s.right&&(i.right=Math.max(i.right,a[0])),s.top?i.top=Math.max(i.top,a[1]):s.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,n[0]-=i.left,n[1]-=i.top,this.currentStem&&this.options.borderWidth&&(b=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=b.stemLength,c=b.stemBase),(e=this.adapter.unwrap(this.backgroundCanvas)).width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:e.width+"px",height:e.height+"px",left:n[0]+"px",top:n[1]+"px"}),(h=e.getContext("2d")).setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(f=this.options.stemLength,c=this.options.stemBase),null==c&&(c=0),p=function(t,e,i){if(i&&h.moveTo(Math.max(c,_.options.borderRadius,r[0])+1-d,-d),e)return h.lineTo(t/2-c/2,-d),h.lineTo(t/2,-f-d),h.lineTo(t/2+c/2,-d)},l=function(t,e,i){var o,n,s,a;return t?(h.lineTo(-c+d,0-d),h.lineTo(f+d,-f-d),h.lineTo(d,c-d)):e?(a=_.options.closeButtonOffset,s=r[0],i%2!=0&&(a=[a[1],a[0]],s=r[1]),o=Math.acos(a[1]/_.options.closeButtonRadius),n=Math.acos(a[0]/_.options.closeButtonRadius),h.lineTo(-s+d,-d),h.arc(d-a[0],-d+a[1],_.options.closeButtonRadius,-(Math.PI/2+o),n,!1)):(h.lineTo(-_.options.borderRadius+d,-d),h.quadraticCurveTo(d,-d,d,_.options.borderRadius-d))},h.translate(-n[0],-n[1]),h.save(),function(){var e,i,o,n,r,a,d,u,c,f,g;for(g=[],i=c=0,f=t.positions.length/2;0<=f?c<f:c>f;i=0<=f?++c:--c)r=2*i,a=0===i||3===i?0:_.dimensions.width,d=i<2?0:_.dimensions.height,u=Math.PI/2*i,o=i%2==0?_.dimensions.width:_.dimensions.height,n=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,d),h.rotate(u),p(o,n.eql(_.currentStem),0===i),h.translate(o,0),l(e.eql(_.currentStem),e.eql(s),i),g.push(h.restore())}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),s?(_.options.closeButtonRadius,w="top right"===s.toString()?[(x=[_.dimensions.width-_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]+d,x[1]-d]:[(x=[_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]-d,x[1]-d],h.translate(w[0],w[1]),C=_.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=_.options.closeButtonCrossColor,h.lineWidth=_.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-C,-C),h.lineTo(C,C),h.stroke(),h.beginPath(),h.moveTo(C,-C),h.lineTo(-C,C),h.stroke(),h.restore(),_.adapter.css(_.closeButtonElement,{left:x[0]-C-_.options.closeButtonLinkOverscan+"px",top:x[1]-C-_.options.closeButtonLinkOverscan+"px",width:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px",height:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px"})):void 0;var w,C,x}},t.prototype._getPathStemMeasures=function(t,e,i){var o,n,s,r;if(s=i/2,o=2*(n=Math.atan(t/2/e)),(r=s+e-2*(s/Math.sin(o))*Math.cos(n))<0)throw new Error("Sorry but your stemLength / stemBase ratio is strange.");return{stemLength:r,stemBase:Math.tan(n)*r*2}},t.prototype._getColor=function(t,e,i,o){var n,s,r,a,h;if(null==o&&(o=!1),"string"==typeof i)return i;for(s=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;a<h;r=++a)n=i[r],s.addColorStop(n[0],n[1]);return s},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(e=0,i=(o=this.adapter.findAll(this.container,"."+this.class.close)).length;e<i;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});if(this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible)return this._setupObservers("-visible","visible")},t.prototype._activateFirstInput=function(){var t;return null!=(t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")))&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){if(!this.options.fixed)return t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){if(!this.options.fixed)return t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this.class.loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t.class.loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t.class.ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t.class.loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){if(!this._triggerElementExists())return this.deactivate(),this._stopEnsureTriggerElement()},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,n,s,r;for(i in t=this.adapter.unwrap(t),r=[],e)__hasProp.call(e,i)&&(o=e[i],null!=t.style[i]?r.push(t.style[i]=o):r.push(function(){var e,r,a;for(a=[],e=0,r=vendors.length;e<r;e++)n=vendors[e],s=""+this.ucfirst(n)+this.ucfirst(i),null!=t.style[s]?a.push(t.style[s]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,n;for(mousePosition=Opentip.adapter.mousePosition(t),n=[],i=0,o=mousePositionObservers.length;i<o;i++)e=mousePositionObservers[i],n.push(e());return n},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,o,n;for(n=[],i=0,o=mousePositionObservers.length;i<o;i++)(e=mousePositionObservers[i])!==t&&n.push(e);return n}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t=t.toString()),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["left","center","right"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["top","middle","bottom"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t;return t=(Opentip.position[this.toString(!0)]+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return null==t&&(t=!1),i="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;if(t=1<=arguments.length?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0))return t.unshift("#"+this.id+" |"),console.debug.apply(console,t)},Opentip.findElements=function(){var t,e,i,o,n,s,r,a,h,l;for(l=[],r=0,a=(h=(t=Opentip.adapter).findAll(document.body,"[data-ot]")).length;r<a;r++){for(o in i=h[r],s={},""!==(e=t.data(i,"ot"))&&"true"!==e&&"yes"!==e||(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"",Opentip.styles.standard)null!=(n=t.data(i,"ot"+Opentip.prototype.ucfirst(o)))&&("yes"===n||"true"===n||"on"===n?n=!0:"no"!==n&&"false"!==n&&"off"!==n||(n=!1),s[o]=n);l.push(new Opentip(i,e,s))}return l},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){if(Opentip.adapters[t.name]=t,firstAdapter)return Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},i=_i=0,_len=(_ref=Opentip.positions).length;_i<_len;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{extends:null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{extends:"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{extends:"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{extends:"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;__slice=[].slice;!function(){var t,e;Element.addMethods({addTip:function(t,e,i,o){return new Opentip(t,e,i,o)}}),e=function(t){return t instanceof Array||null!=t&&"number"==typeof t.length&&"function"==typeof t.item&&"function"==typeof t.nextNode&&"function"==typeof t.reset},t=function(){function t(){}return t.prototype.name="prototype",t.prototype.domReady=function(t){return document.loaded?t():$(document).observe("dom:loaded",t)},t.prototype.create=function(t){return new Element("div").update(t).childElements()},t.prototype.wrap=function(t){if(e(t)){if(t.length>1)throw new Error("Multiple elements provided.");t=this.unwrap(t)}else"string"==typeof t&&(t=$$(t)[0]);return $(t)},t.prototype.unwrap=function(t){return e(t)?t[0]:t},t.prototype.tagName=function(t){return this.unwrap(t).tagName},t.prototype.attr=function(){var t,e,i;return e=arguments[0],1===(t=2<=arguments.length?__slice.call(arguments,1):[]).length?this.wrap(e).readAttribute(t[0]):(i=this.wrap(e)).writeAttribute.apply(i,t)},t.prototype.data=function(t,e,i){var o;return this.wrap(t),arguments.length>2?t.store(e,i):null!=(o=t.readAttribute("data-"+e.underscore().dasherize()))?o:t.retrieve(e)},t.prototype.find=function(t,e){return this.wrap(t).select(e)[0]},t.prototype.findAll=function(t,e){return this.wrap(t).select(e)},t.prototype.update=function(t,e,i){return this.wrap(t).update(i?e.escapeHTML():e)},t.prototype.append=function(t,e){return this.wrap(t).insert(this.wrap(e))},t.prototype.remove=function(t){return this.wrap(t).remove()},t.prototype.addClass=function(t,e){return this.wrap(t).addClassName(e)},t.prototype.removeClass=function(t,e){return this.wrap(t).removeClassName(e)},t.prototype.css=function(t,e){return this.wrap(t).setStyle(e)},t.prototype.dimensions=function(t){return this.wrap(t).getDimensions()},t.prototype.scrollOffset=function(){var t;return[(t=document.viewport.getScrollOffsets()).left,t.top]},t.prototype.viewportDimensions=function(){return document.viewport.getDimensions()},t.prototype.mousePosition=function(t){return null==t?null:{x:Event.pointerX(t),y:Event.pointerY(t)}},t.prototype.offset=function(t){var e;return{left:(e=this.wrap(t).cumulativeOffset()).left,top:e.top}},t.prototype.observe=function(t,e,i){return Event.observe(this.wrap(t),e,i)},t.prototype.stopObserving=function(t,e,i){return Event.stopObserving(this.wrap(t),e,i)},t.prototype.ajax=function(t){var e,i;if(null==t.url)throw new Error("No url provided");return new Ajax.Request(t.url,{method:null!=(e=null!=(i=t.method)?i.toUpperCase():void 0)?e:"GET",onSuccess:function(e){return"function"==typeof t.onSuccess?t.onSuccess(e.responseText):void 0},onFailure:function(e){return"function"==typeof t.onError?t.onError("Server responded with status "+e.status):void 0},onComplete:function(){return"function"==typeof t.onComplete?t.onComplete():void 0}})},t.prototype.clone=function(t){return Object.clone(t)},t.prototype.extend=function(){var t,e,i,o,n;for(i=arguments[0],o=0,n=(e=2<=arguments.length?__slice.call(arguments,1):[]).length;o<n;o++)t=e[o],Object.extend(i,t);return i},t}(),Opentip.addAdapter(new t)}();__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,o,n){var s,r,a,h,l,p,d,u,c,f,g,m,v,y,b=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,(s=this.adapter.data(e,"opentips")||[]).push(this),this.adapter.data(e,"opentips",s),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw Error("You can't call Opentip on multiple elements.");if(1>this.triggerElement.length)throw Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},n=this.adapter.clone(n),"object"==typeof i?(n=i,i=o=void 0):"object"==typeof o&&(n=o,o=void 0),null!=o&&(n.title=o),null!=i&&this.setContent(i),null==n.extends&&(n.extends=null!=n.style?n.style:t.defaultStyle),h=[n],y=n;y.extends;){if(p=y.extends,null==(y=t.styles[p]))throw Error("Invalid style: "+p);h.unshift(y),null==y.extends&&"standard"!==p&&(y.extends="standard")}for((n=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(h)))).hideTriggers=function(){var t,e,i,o;for(o=[],t=0,e=(i=n.hideTriggers).length;e>t;t++)r=i[t],o.push(r);return o}(),n.hideTrigger&&0===n.hideTriggers.length&&n.hideTriggers.push(n.hideTrigger),d=0,c=(m=["tipJoint","targetJoint","stem"]).length;c>d;d++)n[l=m[d]]&&"string"==typeof n[l]&&(n[l]=new t.Joint(n[l]));for(!n.ajax||!0!==n.ajax&&n.ajax||(n.ajax="A"===this.adapter.tagName(this.triggerElement)&&this.adapter.attr(this.triggerElement,"href")),"click"===n.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),n.target&&(n.fixed=!0),!0===n.stem&&(n.stem=new t.Joint(n.tipJoint)),!0===n.target?n.target=this.triggerElement:n.target&&(n.target=this.adapter.wrap(n.target)),this.currentStem=n.stem,null==n.delay&&(n.delay="mouseover"===n.showOn?.2:0),null==n.targetJoint&&(n.targetJoint=new t.Joint(n.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],n.showOn&&"creation"!==n.showOn&&this.showTriggers.push({element:this.triggerElement,event:n.showOn}),null!=n.ajaxCache&&(n.cache=n.ajaxCache,delete n.ajaxCache),this.options=n,this.bound={},u=0,f=(v=["prepareToShow","prepareToHide","show","hide","reposition"]).length;f>u;u++)a=v[u],this.bound[a]=function(t){return function(){return b[t].apply(b,arguments)}}(a);this.adapter.domReady(function(){return b.activate(),"creation"===b.options.showOn?b.prepareToShow():void 0})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype.class={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,n,s,r,a,h,l,p;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],o=n=0,r=(h=this.options.hideTriggers).length;r>n;o=++n){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=[],s=0,a=(l=this.hideTriggers).length;a>s;s++)e=l[s],p.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return p},t.prototype._buildContainer=function(){return this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this.class.container+" "+this.class.hidden+" "+this.class.stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this.class.loading),this.options.fixed&&this.adapter.addClass(this.container,this.class.fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this.class.showEffectPrefix+this.options.showEffect),this.options.hideEffect?this.adapter.addClass(this.container,""+this.class.hideEffectPrefix+this.options.hideEffect):void 0},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this.class.opentip+'"><div class="'+this.class.header+'"></div><div class="'+this.class.content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this.class.header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this.class.loadingIndicator+'"><span>↻</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this.class.close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){return this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible?this._updateElementContent():void 0},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(null!=(t=this.adapter.find(this.container,"."+this.class.content))&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:this.dimensions.width+"px",top:this.currentPosition.top+"px",left:this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m=this;for(s=0,l=(o=arguments.length>=1?__slice.call(arguments,0):[]).length;l>s;s++)if(i=o[s],e=!1,"-"===i.charAt(0)&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=arguments.length>=1?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case"showing":for(r=0,p=(c=this.hideTriggers).length;p>r;r++)t((n=c[r]).element,n.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(a=0,d=(f=this.showTriggersWhenVisible).length;d>a;a++)t((n=f[a]).element,n.event,this.bound.prepareToShow);break;case"hiding":for(h=0,u=(g=this.showTriggers).length;u>h;h++)t((n=g[h]).element,n.event,this.bound.prepareToShow);break;case"hidden":break;default:throw Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){return this._abortHiding(),this._abortShowing(),this.visible?void 0:(this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0))},t.prototype.show=function(){var e=this;return this._abortHiding(),this.visible?void 0:(this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this.class.hiding),this.adapter.removeClass(this.container,this.class.hidden),this.adapter.addClass(this.container,this.class.goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e.class.goingToShow),e.adapter.addClass(e.container,e.class.showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e.class.showing),e.adapter.addClass(e.container,e.class.visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate())},t.prototype._abortShowing=function(){return this.preparingToShow?(this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")):void 0},t.prototype.prepareToHide=function(){return this._abortShowing(),this._abortHiding(),this.visible?(this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)):void 0},t.prototype.hide=function(){var t=this;return this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container)?(this.adapter.removeClass(this.container,this.class.visible),this.adapter.removeClass(this.container,this.class.showing),this.adapter.addClass(this.container,this.class.goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t.class.goingToHide),t.adapter.addClass(t.container,t.class.hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){return t.adapter.removeClass(t.container,t.class.hiding),t.adapter.addClass(t.container,t.class.hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide?(t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement):void 0},e)})):void 0},t.prototype._abortHiding=function(){return this.preparingToHide?(this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")):void 0},t.prototype.reposition=function(){var t,e,i,o=this;return null==(t=this.getPosition())||(e=this.options.stem,this.options.containInViewport&&(t=(i=this._ensureViewportContainment(t)).position,e=i.stem),this._positionsEqual(t,this.currentPosition))?void 0:(this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:t.left+"px",top:t.top+"px"}),this.defer(function(){var t;return(t=o.adapter.unwrap(o.container)).style.visibility="hidden",t.offsetHeight,t.style.visibility="visible"}))},t.prototype.getPosition=function(t,e,i){var o,n,s,r,a,h,l,p,d;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),r={},this.options.target?(l=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=l,e.right?null!=(p=this.adapter.unwrap(this.options.target)).getBoundingClientRect?r.left=p.getBoundingClientRect().right+(null!=(d=window.pageXOffset)?d:document.body.scrollLeft):r.left+=h.width:e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(s=(a=this.options.stem?this.options.stemLength:0)&&this.options.fixed?2:10,o=t.middle&&!this.options.fixed?15:0,n=t.center&&!this.options.fixed?15:0,t.right?r.left-=s+o:t.left&&(r.left+=s+o),t.bottom?r.top-=s+n:t.top&&(r.top+=s+n),a&&(null==i&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,n,s,r,a,h,l,p,d,u;if(n={position:e,stem:h=this.options.stem},!this.visible||!e)return n;if(!(l=this._sticksOut(e))[0]&&!l[1])return n;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(p=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),[e.left-a[0],e.top-a[1]],i=!1,u.width>=this.dimensions.width&&l[0])switch(i=!0,l[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&p.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&p.setHorizontal("left")}if(u.height>=this.dimensions.height&&l[1])switch(i=!0,l[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&p.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&p.setVertical("top")}return i?(this.options.stem&&(h=d),e=this.getPosition(d,p,h),s=!1,r=!1,(o=this._sticksOut(e))[0]&&o[0]!==l[0]&&(s=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&p.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==l[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&p.setVertical(this.options.targetJoint.vertical)),s&&r?n:((s||r)&&(this.options.stem&&(h=d),e=this.getPosition(d,p,h)),{position:e,stem:h})):n},t.prototype._sticksOut=function(t){var e,i,o,n;return i=this.adapter.scrollOffset(),n=this.adapter.viewportDimensions(),o=[!1,!1],0>(e=[t.left-i[0],t.top-i[1]])[0]?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>n.width&&(o[0]=this.STICKS_OUT_RIGHT),0>e[1]?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>n.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m,v,y,b,_=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(g=0,m=(v=["top","right","bottom","left"]).length;m>g;g++)u=v[g],this.adapter.removeClass(this.container,"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(s=new t.Joint("top right"===(null!=(y=this.currentStem)?y+"":void 0)?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),n=[0,0],this.options.borderWidth&&(o.width+=2*this.options.borderWidth,o.height+=2*this.options.borderWidth,n[0]-=this.options.borderWidth,n[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=2*this.options.shadowBlur,o.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),o.height+=2*this.options.shadowBlur,o.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),n[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),n[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),s&&(s.left?i.left=Math.max(i.left,a[0]):s.right&&(i.right=Math.max(i.right,a[0])),s.top?i.top=Math.max(i.top,a[1]):s.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,n[0]-=i.left,n[1]-=i.top,this.currentStem&&this.options.borderWidth&&(b=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=b.stemLength,c=b.stemBase),(e=this.adapter.unwrap(this.backgroundCanvas)).width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:e.width+"px",height:e.height+"px",left:n[0]+"px",top:n[1]+"px"}),(h=e.getContext("2d")).setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(f=this.options.stemLength,c=this.options.stemBase),null==c&&(c=0),p=function(t,e,i){return i&&h.moveTo(Math.max(c,_.options.borderRadius,r[0])+1-d,-d),e?(h.lineTo(t/2-c/2,-d),h.lineTo(t/2,-f-d),h.lineTo(t/2+c/2,-d)):void 0},l=function(t,e,i){var o,n,s,a;return t?(h.lineTo(-c+d,0-d),h.lineTo(f+d,-f-d),h.lineTo(d,c-d)):e?(a=_.options.closeButtonOffset,s=r[0],i%2!=0&&(a=[a[1],a[0]],s=r[1]),o=Math.acos(a[1]/_.options.closeButtonRadius),n=Math.acos(a[0]/_.options.closeButtonRadius),h.lineTo(-s+d,-d),h.arc(d-a[0],-d+a[1],_.options.closeButtonRadius,-(Math.PI/2+o),n,!1)):(h.lineTo(-_.options.borderRadius+d,-d),h.quadraticCurveTo(d,-d,d,_.options.borderRadius-d))},h.translate(-n[0],-n[1]),h.save(),function(){var e,i,o,n,r,a,d,u,c,f,g;for(g=[],i=c=0,f=t.positions.length/2;f>=0?f>c:c>f;i=f>=0?++c:--c)r=2*i,a=0===i||3===i?0:_.dimensions.width,d=2>i?0:_.dimensions.height,u=Math.PI/2*i,o=i%2==0?_.dimensions.width:_.dimensions.height,n=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,d),h.rotate(u),p(o,n.eql(_.currentStem),0===i),h.translate(o,0),l(e.eql(_.currentStem),e.eql(s),i),g.push(h.restore())}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),s?function(){var t,e,i;return 2*_.options.closeButtonRadius,s+""=="top right"?t=[(i=[_.dimensions.width-_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]+d,i[1]-d]:t=[(i=[_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]-d,i[1]-d],h.translate(t[0],t[1]),e=_.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=_.options.closeButtonCrossColor,h.lineWidth=_.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-e,-e),h.lineTo(e,e),h.stroke(),h.beginPath(),h.moveTo(e,-e),h.lineTo(-e,e),h.stroke(),h.restore(),_.adapter.css(_.closeButtonElement,{left:i[0]-e-_.options.closeButtonLinkOverscan+"px",top:i[1]-e-_.options.closeButtonLinkOverscan+"px",width:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px",height:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px"})}():void 0}},t.prototype._getPathStemMeasures=function(t,e,i){var o,n,s,r;if(s=i/2,o=2*(n=Math.atan(t/2/e)),0>(r=s+e-2*(s/Math.sin(o))*Math.cos(n)))throw Error("Sorry but your stemLength / stemBase ratio is strange.");return{stemLength:r,stemBase:Math.tan(n)*r*2}},t.prototype._getColor=function(t,e,i,o){var n,s,r,a,h;if(null==o&&(o=!1),"string"==typeof i)return i;for(s=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;h>a;r=++a)n=i[r],s.addColorStop(n[0],n[1]);return s},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(e=0,i=(o=this.adapter.findAll(this.container,"."+this.class.close)).length;i>e;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});return this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible?this._setupObservers("-visible","visible"):void 0},t.prototype._activateFirstInput=function(){var t;return null!=(t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")))&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){return this.options.fixed?void 0:t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){return this.options.fixed?void 0:t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this.class.loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t.class.loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t.class.ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t.class.loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){return this._triggerElementExists()?void 0:(this.deactivate(),this._stopEnsureTriggerElement())},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,n,s,r;for(i in t=this.adapter.unwrap(t),r=[],e)__hasProp.call(e,i)&&(o=e[i],null!=t.style[i]?r.push(t.style[i]=o):r.push(function(){var e,r,a;for(a=[],e=0,r=vendors.length;r>e;e++)n=vendors[e],s=""+this.ucfirst(n)+this.ucfirst(i),null!=t.style[s]?a.push(t.style[s]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,n;for(mousePosition=Opentip.adapter.mousePosition(t),n=[],i=0,o=mousePositionObservers.length;o>i;i++)e=mousePositionObservers[i],n.push(e());return n},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,o,n;for(n=[],i=0,o=mousePositionObservers.length;o>i;i++)(e=mousePositionObservers[i])!==t&&n.push(e);return n}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t+=""),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["left","center","right"]).length;s>o;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],n=0,r=i.length;r>n;n++)e=i[n],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["top","middle","bottom"]).length;s>o;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],n=0,r=i.length;r>n;n++)e=i[n],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t;return t=(Opentip.position[this.toString(!0)]+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return null==t&&(t=!1),i="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;return t=arguments.length>=1?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0)?(t.unshift("#"+this.id+" |"),console.debug.apply(console,t)):void 0},Opentip.findElements=function(){var t,e,i,o,n,s,r,a,h,l;for(l=[],r=0,a=(h=(t=Opentip.adapter).findAll(document.body,"[data-ot]")).length;a>r;r++){for(o in i=h[r],s={},(""===(e=t.data(i,"ot"))||"true"===e||"yes"===e)&&(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"",Opentip.styles.standard)null!=(n=t.data(i,"ot"+Opentip.prototype.ucfirst(o)))&&("yes"===n||"true"===n||"on"===n?n=!0:("no"===n||"false"===n||"off"===n)&&(n=!1),s[o]=n);l.push(new Opentip(i,e,s))}return l},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;n>o;o++)(i=s[o])!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;n>o;o++)(i=s[o])!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){return Opentip.adapters[t.name]=t,firstAdapter?(Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1):void 0},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},i=_i=0,_len=(_ref=Opentip.positions).length;_len>_i;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{extends:null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{extends:"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{extends:"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{extends:"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;__slice=[].slice;!function(){var t,e;Element.addMethods({addTip:function(t,e,i,o){return new Opentip(t,e,i,o)}}),e=function(t){return t instanceof Array||null!=t&&"number"==typeof t.length&&"function"==typeof t.item&&"function"==typeof t.nextNode&&"function"==typeof t.reset},t=function(){function t(){}return t.prototype.name="prototype",t.prototype.domReady=function(t){return document.loaded?t():$(document).observe("dom:loaded",t)},t.prototype.create=function(t){return new Element("div").update(t).childElements()},t.prototype.wrap=function(t){if(e(t)){if(t.length>1)throw Error("Multiple elements provided.");t=this.unwrap(t)}else"string"==typeof t&&(t=$$(t)[0]);return $(t)},t.prototype.unwrap=function(t){return e(t)?t[0]:t},t.prototype.tagName=function(t){return this.unwrap(t).tagName},t.prototype.attr=function(){var t,e,i;return e=arguments[0],1===(t=arguments.length>=2?__slice.call(arguments,1):[]).length?this.wrap(e).readAttribute(t[0]):(i=this.wrap(e)).writeAttribute.apply(i,t)},t.prototype.data=function(t,e,i){var o;return this.wrap(t),arguments.length>2?t.store(e,i):null!=(o=t.readAttribute("data-"+e.underscore().dasherize()))?o:t.retrieve(e)},t.prototype.find=function(t,e){return this.wrap(t).select(e)[0]},t.prototype.findAll=function(t,e){return this.wrap(t).select(e)},t.prototype.update=function(t,e,i){return this.wrap(t).update(i?e.escapeHTML():e)},t.prototype.append=function(t,e){return this.wrap(t).insert(this.wrap(e))},t.prototype.remove=function(t){return this.wrap(t).remove()},t.prototype.addClass=function(t,e){return this.wrap(t).addClassName(e)},t.prototype.removeClass=function(t,e){return this.wrap(t).removeClassName(e)},t.prototype.css=function(t,e){return this.wrap(t).setStyle(e)},t.prototype.dimensions=function(t){return this.wrap(t).getDimensions()},t.prototype.scrollOffset=function(){var t;return[(t=document.viewport.getScrollOffsets()).left,t.top]},t.prototype.viewportDimensions=function(){return document.viewport.getDimensions()},t.prototype.mousePosition=function(t){return null==t?null:{x:Event.pointerX(t),y:Event.pointerY(t)}},t.prototype.offset=function(t){var e;return{left:(e=this.wrap(t).cumulativeOffset()).left,top:e.top}},t.prototype.observe=function(t,e,i){return Event.observe(this.wrap(t),e,i)},t.prototype.stopObserving=function(t,e,i){return Event.stopObserving(this.wrap(t),e,i)},t.prototype.ajax=function(t){var e,i;if(null==t.url)throw Error("No url provided");return new Ajax.Request(t.url,{method:null!=(e=null!=(i=t.method)?i.toUpperCase():void 0)?e:"GET",onSuccess:function(e){return"function"==typeof t.onSuccess?t.onSuccess(e.responseText):void 0},onFailure:function(e){return"function"==typeof t.onError?t.onError("Server responded with status "+e.status):void 0},onComplete:function(){return"function"==typeof t.onComplete?t.onComplete():void 0}})},t.prototype.clone=function(t){return Object.clone(t)},t.prototype.extend=function(){var t,e,i,o,n;for(i=arguments[0],o=0,n=(e=arguments.length>=2?__slice.call(arguments,1):[]).length;n>o;o++)t=e[o],Object.extend(i,t);return i},t}(),Opentip.addAdapter(new t)}();var $;__slice=[].slice;$=null!=(_ref=window.jQuery)?_ref:require("jquery"),module.exports=Adapter=function(){function t(){}return t.prototype.name="component",t.prototype.domReady=function(t){return $(t)},t.prototype.create=function(t){return $(t)},t.prototype.wrap=function(t){if((t=$(t)).length>1)throw new Error("Multiple elements provided.");return t},t.prototype.unwrap=function(t){return $(t)[0]},t.prototype.tagName=function(t){return this.unwrap(t).tagName},t.prototype.attr=function(){var t,e,i;return e=arguments[0],t=2<=arguments.length?__slice.call(arguments,1):[],(i=$(e)).attr.apply(i,t)},t.prototype.data=function(){var t,e,i;return e=arguments[0],t=2<=arguments.length?__slice.call(arguments,1):[],(i=$(e)).data.apply(i,t)},t.prototype.find=function(t,e){return $(t).find(e)[0]},t.prototype.findAll=function(t,e){return $(t).find(e)},t.prototype.update=function(t,e,i){return t=$(t),i?t.text(e):t.html(e)},t.prototype.append=function(t,e){return $(t).append(e)},t.prototype.remove=function(t){return $(t).remove()},t.prototype.addClass=function(t,e){return $(t).addClass(e)},t.prototype.removeClass=function(t,e){return $(t).removeClass(e)},t.prototype.css=function(t,e){return $(t).css(e)},t.prototype.dimensions=function(t){return{width:$(t).outerWidth(),height:$(t).outerHeight()}},t.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},t.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},t.prototype.mousePosition=function(t){return null==t?null:{x:t.pageX,y:t.pageY}},t.prototype.offset=function(t){var e;return{left:(e=$(t).offset()).left,top:e.top}},t.prototype.observe=function(t,e,i){return $(t).bind(e,i)},t.prototype.stopObserving=function(t,e,i){return $(t).unbind(e,i)},t.prototype.ajax=function(t){var e,i;if(null==t.url)throw new Error("No url provided");return $.ajax({url:t.url,type:null!=(e=null!=(i=t.method)?i.toUpperCase():void 0)?e:"GET"}).done(function(e){return"function"==typeof t.onSuccess?t.onSuccess(e):void 0}).fail(function(e){return"function"==typeof t.onError?t.onError("Server responded with status "+e.status):void 0}).always(function(){return"function"==typeof t.onComplete?t.onComplete():void 0})},t.prototype.clone=function(t){return $.extend({},t)},t.prototype.extend=function(){var t,e;return e=arguments[0],t=2<=arguments.length?__slice.call(arguments,1):[],$.extend.apply($,[e].concat(__slice.call(t)))},t}();__slice=[].slice,__hasProp={}.hasOwnProperty;!function(t){var e,i;require("bean"),i=require("reqwest"),t.ender({opentip:function(t,e,i){return new Opentip(this,t,e,i)}},!0),e=function(){function e(){}return e.prototype.name="ender",e.prototype.domReady=function(e){return t.domReady(e)},e.prototype.create=function(e){return t(e)},e.prototype.wrap=function(e){if((e=t(e)).length>1)throw new Error("Multiple elements provided.");return e},e.prototype.unwrap=function(e){return t(e).get(0)},e.prototype.tagName=function(t){return this.unwrap(t).tagName},e.prototype.attr=function(){var e,i,o;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],(o=t(i)).attr.apply(o,e)},e.prototype.data=function(){var e,i,o;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],(o=t(i)).data.apply(o,e)},e.prototype.find=function(e,i){return t(e).find(i)[0]},e.prototype.findAll=function(e,i){return t(e).find(i)},e.prototype.update=function(e,i,o){return e=t(e),o?e.text(i):e.html(i)},e.prototype.append=function(e,i){return t(e).append(i)},e.prototype.remove=function(e){return t(e).remove()},e.prototype.addClass=function(e,i){return t(e).addClass(i)},e.prototype.removeClass=function(e,i){return t(e).removeClass(i)},e.prototype.css=function(e,i){return t(e).css(i)},e.prototype.dimensions=function(e){return t(e).dim()},e.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},e.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},e.prototype.mousePosition=function(t){var e;if(e={x:0,y:0},null==t&&(t=window.event),null!=t)return t.pageX||t.pageY?(e.x=t.pageX,e.y=t.pageY):(t.clientX||t.clientY)&&(e.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),e},e.prototype.offset=function(e){var i;return{top:(i=t(e).offset()).top,left:i.left}},e.prototype.observe=function(e,i,o){return t(e).on(i,o)},e.prototype.stopObserving=function(e,i,o){return t(e).unbind(i,o)},e.prototype.ajax=function(t){var e,o;if(null==t.url)throw new Error("No url provided");return i({url:t.url,type:"html",method:null!=(e=null!=(o=t.method)?o.toUpperCase():void 0)?e:"GET",error:function(e){return"function"==typeof t.onError?t.onError("Server responded with status "+e.status):void 0},success:function(e){return"function"==typeof t.onSuccess?t.onSuccess(e):void 0},complete:function(){return"function"==typeof t.onComplete?t.onComplete():void 0}})},e.prototype.clone=function(t){var e,i,o;for(e in i={},t)__hasProp.call(t,e)&&(o=t[e],i[e]=o);return i},e.prototype.extend=function(){var t,e,i,o,n,s,r;for(o=arguments[0],s=0,r=(i=2<=arguments.length?__slice.call(arguments,1):[]).length;s<r;s++)for(t in e=i[s])__hasProp.call(e,t)&&(n=e[t],o[t]=n);return o},e}(),Opentip.addAdapter(new e)}(ender);__slice=[].slice;!function(t){var e;t.fn.opentip=function(t,e,i){return new Opentip(this,t,e,i)},e=function(){function e(){}return e.prototype.name="jquery",e.prototype.domReady=function(e){return t(e)},e.prototype.create=function(e){return t(e)},e.prototype.wrap=function(e){if((e=t(e)).length>1)throw new Error("Multiple elements provided.");return e},e.prototype.unwrap=function(e){return t(e)[0]},e.prototype.tagName=function(t){return this.unwrap(t).tagName},e.prototype.attr=function(){var e,i,o;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],(o=t(i)).attr.apply(o,e)},e.prototype.data=function(){var e,i,o;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],(o=t(i)).data.apply(o,e)},e.prototype.find=function(e,i){return t(e).find(i).get(0)},e.prototype.findAll=function(e,i){return t(e).find(i)},e.prototype.update=function(e,i,o){return e=t(e),o?e.text(i):e.html(i)},e.prototype.append=function(e,i){return t(e).append(i)},e.prototype.remove=function(e){return t(e).remove()},e.prototype.addClass=function(e,i){return t(e).addClass(i)},e.prototype.removeClass=function(e,i){return t(e).removeClass(i)},e.prototype.css=function(e,i){return t(e).css(i)},e.prototype.dimensions=function(e){return{width:t(e).outerWidth(),height:t(e).outerHeight()}},e.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},e.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},e.prototype.mousePosition=function(t){return null==t?null:{x:t.pageX,y:t.pageY}},e.prototype.offset=function(e){var i;return{left:(i=t(e).offset()).left,top:i.top}},e.prototype.observe=function(e,i,o){return t(e).bind(i,o)},e.prototype.stopObserving=function(e,i,o){return t(e).unbind(i,o)},e.prototype.ajax=function(e){var i,o;if(null==e.url)throw new Error("No url provided");return t.ajax({url:e.url,type:null!=(i=null!=(o=e.method)?o.toUpperCase():void 0)?i:"GET"}).done(function(t){return"function"==typeof e.onSuccess?e.onSuccess(t):void 0}).fail(function(t){return"function"==typeof e.onError?e.onError("Server responded with status "+t.status):void 0}).always(function(){return"function"==typeof e.onComplete?e.onComplete():void 0})},e.prototype.clone=function(e){return t.extend({},e)},e.prototype.extend=function(){var e,i;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],t.extend.apply(t,[i].concat(__slice.call(e)))},e}(),Opentip.addAdapter(new e)}(jQuery);var Adapter;__hasProp={}.hasOwnProperty,__slice=[].slice;Adapter=function(){var t,e;function i(){}return i.prototype.name="native",i.prototype.domReady=function(t){var e,i,o,n,s,r,a,h,l,p,d;if(o=!1,l=!0,p=window,"complete"===(d=(i=document).readyState)||"loaded"===d)return t();if(h=i.documentElement,e=i.addEventListener?"addEventListener":"attachEvent",a=i.addEventListener?"removeEventListener":"detachEvent",r=i.addEventListener?"":"on",n=function(e){if("readystatechange"!==e.type||"complete"===i.readyState)return("load"===e.type?p:i)[a](r+e.type,n,!1),o?void 0:(o=!0,t())},s=function(){try{h.doScroll("left")}catch(t){return t,void setTimeout(s,50)}return n("poll")},"complete"!==i.readyState){if(i.createEventObject&&h.doScroll){try{l=!p.frameElement}catch(t){}l&&s()}return i[e](r+"DOMContentLoaded",n,!1),i[e](r+"readystatechange",n,!1),p[e](r+"load",n,!1)}},i.prototype.create=function(t){var e;return(e=document.createElement("div")).innerHTML=t,this.wrap(e.childNodes)},i.prototype.wrap=function(t){var e;return t?"string"==typeof t?t=(t=this.find(document.body,t))?[t]:[]:t instanceof NodeList?t=function(){var i,o,n;for(n=[],i=0,o=t.length;i<o;i++)e=t[i],n.push(e);return n}():t instanceof Array||(t=[t]):t=[],t},i.prototype.unwrap=function(t){return this.wrap(t)[0]},i.prototype.tagName=function(t){return this.unwrap(t).tagName},i.prototype.attr=function(t,e,i){return 3===arguments.length?this.unwrap(t).setAttribute(e,i):this.unwrap(t).getAttribute(e)},e=0,t={},i.prototype.data=function(i,o,n){var s;return(s=this.attr(i,"data-id"))||(s=++e,this.attr(i,"data-id",s),t[s]={}),3===arguments.length?t[s][o]=n:null!=(n=t[s][o])?n:((n=this.attr(i,"data-"+Opentip.prototype.dasherize(o)))&&(t[s][o]=n),n)},i.prototype.find=function(t,e){return this.unwrap(t).querySelector(e)},i.prototype.findAll=function(t,e){return this.unwrap(t).querySelectorAll(e)},i.prototype.update=function(t,e,i){return t=this.unwrap(t),i?(t.innerHTML="",t.appendChild(document.createTextNode(e))):t.innerHTML=e},i.prototype.append=function(t,e){var i;return i=this.unwrap(e),this.unwrap(t).appendChild(i)},i.prototype.remove=function(t){var e;if(null!=(e=(t=this.unwrap(t)).parentNode))return e.removeChild(t)},i.prototype.addClass=function(t,e){return this.unwrap(t).classList.add(e)},i.prototype.removeClass=function(t,e){return this.unwrap(t).classList.remove(e)},i.prototype.css=function(t,e){var i,o,n;for(i in t=this.unwrap(this.wrap(t)),n=[],e)__hasProp.call(e,i)&&(o=e[i],n.push(t.style[i]=o));return n},i.prototype.dimensions=function(t){var e,i;return(e={width:(t=this.unwrap(this.wrap(t))).offsetWidth,height:t.offsetHeight}).width&&e.height||(i={position:t.style.position||"",visibility:t.style.visibility||"",display:t.style.display||""},this.css(t,{position:"absolute",visibility:"hidden",display:"block"}),e={width:t.offsetWidth,height:t.offsetHeight},this.css(t,i)),e},i.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},i.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},i.prototype.mousePosition=function(t){var e;if(e={x:0,y:0},null==t&&(t=window.event),null!=t){try{t.pageX||t.pageY?(e.x=t.pageX,e.y=t.pageY):(t.clientX||t.clientY)&&(e.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop)}catch(e){t=e}return e}},i.prototype.offset=function(t){var e;for(e={top:(t=this.unwrap(t)).offsetTop,left:t.offsetLeft};t=t.offsetParent;)e.top+=t.offsetTop,e.left+=t.offsetLeft,t!==document.body&&(e.top-=t.scrollTop,e.left-=t.scrollLeft);return e},i.prototype.observe=function(t,e,i){return this.unwrap(t).addEventListener(e,i,!1)},i.prototype.stopObserving=function(t,e,i){return this.unwrap(t).removeEventListener(e,i,!1)},i.prototype.ajax=function(t){var e,i,o,n;if(null==t.url)throw new Error("No url provided");if(window.XMLHttpRequest)i=new XMLHttpRequest;else if(window.ActiveXObject)try{i=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){e=t;try{i=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=t}}if(!i)throw new Error("Can't create XMLHttpRequest");return i.onreadystatechange=function(){if(4===i.readyState){try{200===i.status?"function"==typeof t.onSuccess&&t.onSuccess(i.responseText):"function"==typeof t.onError&&t.onError("Server responded with status "+i.status)}catch(i){e=i,"function"==typeof t.onError&&t.onError(e.message)}return"function"==typeof t.onComplete?t.onComplete():void 0}},i.open(null!=(o=null!=(n=t.method)?n.toUpperCase():void 0)?o:"GET",t.url),i.send()},i.prototype.clone=function(t){var e,i,o;for(e in i={},t)__hasProp.call(t,e)&&(o=t[e],i[e]=o);return i},i.prototype.extend=function(){var t,e,i,o,n,s,r;for(o=arguments[0],s=0,r=(i=2<=arguments.length?__slice.call(arguments,1):[]).length;s<r;s++)for(t in e=i[s])__hasProp.call(e,t)&&(n=e[t],o[t]=n);return o},i}(),Opentip.addAdapter(new Adapter);__slice=[].slice;!function(){var t,e;Element.addMethods({addTip:function(t,e,i,o){return new Opentip(t,e,i,o)}}),e=function(t){return t instanceof Array||null!=t&&"number"==typeof t.length&&"function"==typeof t.item&&"function"==typeof t.nextNode&&"function"==typeof t.reset},t=function(){function t(){}return t.prototype.name="prototype",t.prototype.domReady=function(t){return document.loaded?t():$(document).observe("dom:loaded",t)},t.prototype.create=function(t){return new Element("div").update(t).childElements()},t.prototype.wrap=function(t){if(e(t)){if(t.length>1)throw new Error("Multiple elements provided.");t=this.unwrap(t)}else"string"==typeof t&&(t=$$(t)[0]);return $(t)},t.prototype.unwrap=function(t){return e(t)?t[0]:t},t.prototype.tagName=function(t){return this.unwrap(t).tagName},t.prototype.attr=function(){var t,e,i;return e=arguments[0],1===(t=2<=arguments.length?__slice.call(arguments,1):[]).length?this.wrap(e).readAttribute(t[0]):(i=this.wrap(e)).writeAttribute.apply(i,t)},t.prototype.data=function(t,e,i){var o;return this.wrap(t),arguments.length>2?t.store(e,i):null!=(o=t.readAttribute("data-"+e.underscore().dasherize()))?o:t.retrieve(e)},t.prototype.find=function(t,e){return this.wrap(t).select(e)[0]},t.prototype.findAll=function(t,e){return this.wrap(t).select(e)},t.prototype.update=function(t,e,i){return this.wrap(t).update(i?e.escapeHTML():e)},t.prototype.append=function(t,e){return this.wrap(t).insert(this.wrap(e))},t.prototype.remove=function(t){return this.wrap(t).remove()},t.prototype.addClass=function(t,e){return this.wrap(t).addClassName(e)},t.prototype.removeClass=function(t,e){return this.wrap(t).removeClassName(e)},t.prototype.css=function(t,e){return this.wrap(t).setStyle(e)},t.prototype.dimensions=function(t){return this.wrap(t).getDimensions()},t.prototype.scrollOffset=function(){var t;return[(t=document.viewport.getScrollOffsets()).left,t.top]},t.prototype.viewportDimensions=function(){return document.viewport.getDimensions()},t.prototype.mousePosition=function(t){return null==t?null:{x:Event.pointerX(t),y:Event.pointerY(t)}},t.prototype.offset=function(t){var e;return{left:(e=this.wrap(t).cumulativeOffset()).left,top:e.top}},t.prototype.observe=function(t,e,i){return Event.observe(this.wrap(t),e,i)},t.prototype.stopObserving=function(t,e,i){return Event.stopObserving(this.wrap(t),e,i)},t.prototype.ajax=function(t){var e,i;if(null==t.url)throw new Error("No url provided");return new Ajax.Request(t.url,{method:null!=(e=null!=(i=t.method)?i.toUpperCase():void 0)?e:"GET",onSuccess:function(e){return"function"==typeof t.onSuccess?t.onSuccess(e.responseText):void 0},onFailure:function(e){return"function"==typeof t.onError?t.onError("Server responded with status "+e.status):void 0},onComplete:function(){return"function"==typeof t.onComplete?t.onComplete():void 0}})},t.prototype.clone=function(t){return Object.clone(t)},t.prototype.extend=function(){var t,e,i,o,n;for(i=arguments[0],o=0,n=(e=2<=arguments.length?__slice.call(arguments,1):[]).length;o<n;o++)t=e[o],Object.extend(i,t);return i},t}(),Opentip.addAdapter(new t)}();__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,o,n){var s,r,a,h,l,p,d,u,c,f,g,m,v,y,b=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,(s=this.adapter.data(e,"opentips")||[]).push(this),this.adapter.data(e,"opentips",s),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw new Error("You can't call Opentip on multiple elements.");if(this.triggerElement.length<1)throw new Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},n=this.adapter.clone(n),"object"==typeof i?(n=i,i=o=void 0):"object"==typeof o&&(n=o,o=void 0),null!=o&&(n.title=o),null!=i&&this.setContent(i),null==n.extends&&(null!=n.style?n.extends=n.style:n.extends=t.defaultStyle),h=[n],y=n;y.extends;){if(p=y.extends,null==(y=t.styles[p]))throw new Error("Invalid style: "+p);h.unshift(y),null==y.extends&&"standard"!==p&&(y.extends="standard")}for((n=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(h)))).hideTriggers=function(){var t,e,i,o;for(o=[],t=0,e=(i=n.hideTriggers).length;t<e;t++)r=i[t],o.push(r);return o}(),n.hideTrigger&&0===n.hideTriggers.length&&n.hideTriggers.push(n.hideTrigger),d=0,c=(m=["tipJoint","targetJoint","stem"]).length;d<c;d++)n[l=m[d]]&&"string"==typeof n[l]&&(n[l]=new t.Joint(n[l]));for(!n.ajax||!0!==n.ajax&&n.ajax||("A"===this.adapter.tagName(this.triggerElement)?n.ajax=this.adapter.attr(this.triggerElement,"href"):n.ajax=!1),"click"===n.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),n.target&&(n.fixed=!0),!0===n.stem&&(n.stem=new t.Joint(n.tipJoint)),!0===n.target?n.target=this.triggerElement:n.target&&(n.target=this.adapter.wrap(n.target)),this.currentStem=n.stem,null==n.delay&&(n.delay="mouseover"===n.showOn?.2:0),null==n.targetJoint&&(n.targetJoint=new t.Joint(n.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],n.showOn&&"creation"!==n.showOn&&this.showTriggers.push({element:this.triggerElement,event:n.showOn}),null!=n.ajaxCache&&(n.cache=n.ajaxCache,delete n.ajaxCache),this.options=n,this.bound={},u=0,f=(v=["prepareToShow","prepareToHide","show","hide","reposition"]).length;u<f;u++)a=v[u],this.bound[a]=function(t){return function(){return b[t].apply(b,arguments)}}(a);this.adapter.domReady(function(){if(b.activate(),"creation"===b.options.showOn)return b.prepareToShow()})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype.class={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,n,s,r,a,h,l,p;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],o=n=0,r=(h=this.options.hideTriggers).length;n<r;o=++n){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw new Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=[],s=0,a=(l=this.hideTriggers).length;s<a;s++)e=l[s],p.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return p},t.prototype._buildContainer=function(){if(this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this.class.container+" "+this.class.hidden+" "+this.class.stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this.class.loading),this.options.fixed&&this.adapter.addClass(this.container,this.class.fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this.class.showEffectPrefix+this.options.showEffect),this.options.hideEffect)return this.adapter.addClass(this.container,""+this.class.hideEffectPrefix+this.options.hideEffect)},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this.class.opentip+'"><div class="'+this.class.header+'"></div><div class="'+this.class.content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this.class.header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this.class.loadingIndicator+'"><span>↻</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this.class.close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){if(this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible)return this._updateElementContent()},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(null!=(t=this.adapter.find(this.container,"."+this.class.content))&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:this.dimensions.width+"px",top:this.currentPosition.top+"px",left:this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m=this;for(s=0,l=(o=1<=arguments.length?__slice.call(arguments,0):[]).length;s<l;s++)if(i=o[s],e=!1,"-"===i.charAt(0)&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=1<=arguments.length?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case"showing":for(r=0,p=(c=this.hideTriggers).length;r<p;r++)t((n=c[r]).element,n.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(a=0,d=(f=this.showTriggersWhenVisible).length;a<d;a++)t((n=f[a]).element,n.event,this.bound.prepareToShow);break;case"hiding":for(h=0,u=(g=this.showTriggers).length;h<u;h++)t((n=g[h]).element,n.event,this.bound.prepareToShow);break;case"hidden":break;default:throw new Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){if(this._abortHiding(),this._abortShowing(),!this.visible)return this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0)},t.prototype.show=function(){var e=this;if(this._abortHiding(),!this.visible)return this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this.class.hiding),this.adapter.removeClass(this.container,this.class.hidden),this.adapter.addClass(this.container,this.class.goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e.class.goingToShow),e.adapter.addClass(e.container,e.class.showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e.class.showing),e.adapter.addClass(e.container,e.class.visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate()},t.prototype._abortShowing=function(){if(this.preparingToShow)return this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")},t.prototype.prepareToHide=function(){if(this._abortShowing(),this._abortHiding(),this.visible)return this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)},t.prototype.hide=function(){var t=this;if(this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container))return this.adapter.removeClass(this.container,this.class.visible),this.adapter.removeClass(this.container,this.class.showing),this.adapter.addClass(this.container,this.class.goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t.class.goingToHide),t.adapter.addClass(t.container,t.class.hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){if(t.adapter.removeClass(t.container,t.class.hiding),t.adapter.addClass(t.container,t.class.hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide)return t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement},e)})},t.prototype._abortHiding=function(){if(this.preparingToHide)return this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")},t.prototype.reposition=function(){var t,e,i,o=this;if(null!=(t=this.getPosition())&&(e=this.options.stem,this.options.containInViewport&&(t=(i=this._ensureViewportContainment(t)).position,e=i.stem),!this._positionsEqual(t,this.currentPosition)))return this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:t.left+"px",top:t.top+"px"}),this.defer(function(){var t;return(t=o.adapter.unwrap(o.container)).style.visibility="hidden",t.offsetHeight,t.style.visibility="visible"})},t.prototype.getPosition=function(t,e,i){var o,n,s,r,a,h,l,p,d;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),r={},this.options.target?(l=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=l,e.right?null!=(p=this.adapter.unwrap(this.options.target)).getBoundingClientRect?r.left=p.getBoundingClientRect().right+(null!=(d=window.pageXOffset)?d:document.body.scrollLeft):r.left+=h.width:e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(s=(a=this.options.stem?this.options.stemLength:0)&&this.options.fixed?2:10,o=t.middle&&!this.options.fixed?15:0,n=t.center&&!this.options.fixed?15:0,t.right?r.left-=s+o:t.left&&(r.left+=s+o),t.bottom?r.top-=s+n:t.top&&(r.top+=s+n),a&&(null==i&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,n,s,r,a,h,l,p,d,u;if(n={position:e,stem:h=this.options.stem},!this.visible||!e)return n;if(!(l=this._sticksOut(e))[0]&&!l[1])return n;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(p=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),[e.left-a[0],e.top-a[1]],i=!1,u.width>=this.dimensions.width&&l[0])switch(i=!0,l[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&p.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&p.setHorizontal("left")}if(u.height>=this.dimensions.height&&l[1])switch(i=!0,l[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&p.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&p.setVertical("top")}return i?(this.options.stem&&(h=d),e=this.getPosition(d,p,h),s=!1,r=!1,(o=this._sticksOut(e))[0]&&o[0]!==l[0]&&(s=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&p.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==l[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&p.setVertical(this.options.targetJoint.vertical)),s&&r?n:((s||r)&&(this.options.stem&&(h=d),e=this.getPosition(d,p,h)),{position:e,stem:h})):n},t.prototype._sticksOut=function(t){var e,i,o,n;return i=this.adapter.scrollOffset(),n=this.adapter.viewportDimensions(),o=[!1,!1],(e=[t.left-i[0],t.top-i[1]])[0]<0?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>n.width&&(o[0]=this.STICKS_OUT_RIGHT),e[1]<0?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>n.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m,v,y,b,_=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(g=0,m=(v=["top","right","bottom","left"]).length;g<m;g++)u=v[g],this.adapter.removeClass(this.container,"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(s=new t.Joint("top right"===(null!=(y=this.currentStem)?y.toString():void 0)?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),n=[0,0],this.options.borderWidth&&(o.width+=2*this.options.borderWidth,o.height+=2*this.options.borderWidth,n[0]-=this.options.borderWidth,n[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=2*this.options.shadowBlur,o.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),o.height+=2*this.options.shadowBlur,o.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),n[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),n[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),s&&(s.left?i.left=Math.max(i.left,a[0]):s.right&&(i.right=Math.max(i.right,a[0])),s.top?i.top=Math.max(i.top,a[1]):s.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,n[0]-=i.left,n[1]-=i.top,this.currentStem&&this.options.borderWidth&&(b=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=b.stemLength,c=b.stemBase),(e=this.adapter.unwrap(this.backgroundCanvas)).width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:e.width+"px",height:e.height+"px",left:n[0]+"px",top:n[1]+"px"}),(h=e.getContext("2d")).setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(f=this.options.stemLength,c=this.options.stemBase),null==c&&(c=0),p=function(t,e,i){if(i&&h.moveTo(Math.max(c,_.options.borderRadius,r[0])+1-d,-d),e)return h.lineTo(t/2-c/2,-d),h.lineTo(t/2,-f-d),h.lineTo(t/2+c/2,-d)},l=function(t,e,i){var o,n,s,a;return t?(h.lineTo(-c+d,0-d),h.lineTo(f+d,-f-d),h.lineTo(d,c-d)):e?(a=_.options.closeButtonOffset,s=r[0],i%2!=0&&(a=[a[1],a[0]],s=r[1]),o=Math.acos(a[1]/_.options.closeButtonRadius),n=Math.acos(a[0]/_.options.closeButtonRadius),h.lineTo(-s+d,-d),h.arc(d-a[0],-d+a[1],_.options.closeButtonRadius,-(Math.PI/2+o),n,!1)):(h.lineTo(-_.options.borderRadius+d,-d),h.quadraticCurveTo(d,-d,d,_.options.borderRadius-d))},h.translate(-n[0],-n[1]),h.save(),function(){var e,i,o,n,r,a,d,u,c,f,g;for(g=[],i=c=0,f=t.positions.length/2;0<=f?c<f:c>f;i=0<=f?++c:--c)r=2*i,a=0===i||3===i?0:_.dimensions.width,d=i<2?0:_.dimensions.height,u=Math.PI/2*i,o=i%2==0?_.dimensions.width:_.dimensions.height,n=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,d),h.rotate(u),p(o,n.eql(_.currentStem),0===i),h.translate(o,0),l(e.eql(_.currentStem),e.eql(s),i),g.push(h.restore())}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),s?(_.options.closeButtonRadius,w="top right"===s.toString()?[(x=[_.dimensions.width-_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]+d,x[1]-d]:[(x=[_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]-d,x[1]-d],h.translate(w[0],w[1]),C=_.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=_.options.closeButtonCrossColor,h.lineWidth=_.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-C,-C),h.lineTo(C,C),h.stroke(),h.beginPath(),h.moveTo(C,-C),h.lineTo(-C,C),h.stroke(),h.restore(),_.adapter.css(_.closeButtonElement,{left:x[0]-C-_.options.closeButtonLinkOverscan+"px",top:x[1]-C-_.options.closeButtonLinkOverscan+"px",width:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px",height:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px"})):void 0;var w,C,x}},t.prototype._getPathStemMeasures=function(t,e,i){var o,n,s,r;if(s=i/2,o=2*(n=Math.atan(t/2/e)),(r=s+e-2*(s/Math.sin(o))*Math.cos(n))<0)throw new Error("Sorry but your stemLength / stemBase ratio is strange.");return{stemLength:r,stemBase:Math.tan(n)*r*2}},t.prototype._getColor=function(t,e,i,o){var n,s,r,a,h;if(null==o&&(o=!1),"string"==typeof i)return i;for(s=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;a<h;r=++a)n=i[r],s.addColorStop(n[0],n[1]);return s},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(e=0,i=(o=this.adapter.findAll(this.container,"."+this.class.close)).length;e<i;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});if(this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible)return this._setupObservers("-visible","visible")},t.prototype._activateFirstInput=function(){var t;return null!=(t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")))&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){if(!this.options.fixed)return t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){if(!this.options.fixed)return t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this.class.loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t.class.loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t.class.ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t.class.loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){if(!this._triggerElementExists())return this.deactivate(),this._stopEnsureTriggerElement()},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,n,s,r;for(i in t=this.adapter.unwrap(t),r=[],e)__hasProp.call(e,i)&&(o=e[i],null!=t.style[i]?r.push(t.style[i]=o):r.push(function(){var e,r,a;for(a=[],e=0,r=vendors.length;e<r;e++)n=vendors[e],s=""+this.ucfirst(n)+this.ucfirst(i),null!=t.style[s]?a.push(t.style[s]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,n;for(mousePosition=Opentip.adapter.mousePosition(t),n=[],i=0,o=mousePositionObservers.length;i<o;i++)e=mousePositionObservers[i],n.push(e());return n},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,o,n;for(n=[],i=0,o=mousePositionObservers.length;i<o;i++)(e=mousePositionObservers[i])!==t&&n.push(e);return n}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t=t.toString()),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["left","center","right"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["top","middle","bottom"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t;return t=(Opentip.position[this.toString(!0)]+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return null==t&&(t=!1),i="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;if(t=1<=arguments.length?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0))return t.unshift("#"+this.id+" |"),console.debug.apply(console,t)},Opentip.findElements=function(){var t,e,i,o,n,s,r,a,h,l;for(l=[],r=0,a=(h=(t=Opentip.adapter).findAll(document.body,"[data-ot]")).length;r<a;r++){for(o in i=h[r],s={},""!==(e=t.data(i,"ot"))&&"true"!==e&&"yes"!==e||(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"",Opentip.styles.standard)null!=(n=t.data(i,"ot"+Opentip.prototype.ucfirst(o)))&&("yes"===n||"true"===n||"on"===n?n=!0:"no"!==n&&"false"!==n&&"off"!==n||(n=!1),s[o]=n);l.push(new Opentip(i,e,s))}return l},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){if(Opentip.adapters[t.name]=t,firstAdapter)return Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},i=_i=0,_len=(_ref=Opentip.positions).length;_i<_len;i=++_i)position=_ref[i],Opentip.position[position]=i;function elevateAdminAjax(t,e,i){var o={action:"elevate_ajax",elevate_action:t,elevate_nonce:ElevateData.elevate_nonce};for(var n in e)e.hasOwnProperty(n)&&(o[n]=escape(e[n]));jQuery.post(ElevateData.admin_ajax,o,function(t){i(t)})}function elevateAdminAjax(t,e,i){var o={action:"elevate_ajax",elevate_action:t,elevate_nonce:ElevateData.elevate_nonce};for(var n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);jQuery.post(ElevateData.admin_ajax,o,function(t){i(t)})}function elevateIsGutenberg(){return jQuery(".gutenberg__editor").length}function elevateUpdateGooglePreview(){var t=jQuery("#elevate_post_title").attr("placeholder"),e=jQuery("#elevate_post_title").val();e.length?(jQuery(".google-title").html(e),jQuery(".search-title").html(e)):(jQuery(".google-title").html(t),jQuery(".search-title").html(t));var i=jQuery("#elevate_post_description").val();i.length?(jQuery(".google-desc").html(i),jQuery(".search-desc").html(i)):(jQuery(".google-desc").html(jQuery("#elevate_post_description").attr("placeholder")),jQuery(".search-desc").html(jQuery("#elevate_post_description").attr("placeholder")))}Opentip.styles={standard:{extends:null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{extends:"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{extends:"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{extends:"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;var elevateUpdatingTitle=0;function elevateUpdateMetaTitle(){if(jQuery("#title").val().length){var t={content_title:jQuery("#title").val(),content_id:ElevateData.post_id};elevateUpdatingTitle||(elevateUpdatingTitle=1,elevateAdminAjax("get_updated_title",t,function(t){var e=jQuery.parseJSON(t);jQuery("#elevate_post_title").attr("placeholder",e.body),elevateUpdateGooglePreview(),elevateUpdatingTitle=0}))}}function elevateGutenbergScan(){if(titleInfo=jQuery(".editor-post-title__input").html(),titleInfo.length){var t={content_title:jQuery(".editor-post-title__input").html(),content_id:ElevateData.post_id};elevateUpdatingTitle||(elevateUpdatingTitle=1,elevateAdminAjax("get_updated_title",t,function(t){var e=jQuery.parseJSON(t);jQuery("#elevate_post_title").attr("placeholder",e.body),elevateUpdateGooglePreview(),elevateUpdatingTitle=0}))}}function doElevateMetaReady(){Opentip.defaultStyle="dark",jQuery("#title").on("blur",function(){elevateUpdateMetaTitle()}),setInterval(function(){elevateUpdateGooglePreview()},1e3),elevateIsGutenberg()&&setInterval(function(){elevateGutenbergScan()},1e3),jQuery("#social_preview").popup({opacity:.3,transition:"all 0.3s"}),jQuery("#social_preview li i").click(function(){jQuery("#social_preview li i").removeClass("active"),jQuery(this).addClass("active");var t=jQuery(this).attr("data-tab");jQuery("div.google-preview, div.twitter-preview, div.facebook-preview, div.linkedin-preview").hide(),jQuery("div."+t).show()})}function elevateIsGutenberg(){return jQuery(".gutenberg__editor").length}function elevateUpdateGooglePreview(){var t=jQuery("#elevate_post_title").attr("placeholder"),e=jQuery("#elevate_post_title").val();e.length?(jQuery(".google-title").html(e),jQuery(".search-title").html(e)):(jQuery(".google-title").html(t),jQuery(".search-title").html(t));var i=jQuery("#elevate_post_description").val();i.length?(jQuery(".google-desc").html(i),jQuery(".search-desc").html(i)):(jQuery(".google-desc").html(jQuery("#elevate_post_description").attr("placeholder")),jQuery(".search-desc").html(jQuery("#elevate_post_description").attr("placeholder")))}function elevateUpdateMetaTitle(){if(jQuery("#title").val().length){var t={content_title:jQuery("#title").val(),content_id:ElevateData.post_id};elevateUpdatingTitle||(elevateUpdatingTitle=1,elevateAdminAjax("get_updated_title",t,function(t){var e=jQuery.parseJSON(t);jQuery("#elevate_post_title").attr("placeholder",e.body),elevateUpdateGooglePreview(),elevateUpdatingTitle=0}))}}function elevateGutenbergScan(){if(titleInfo=jQuery(".editor-post-title__input").html(),titleInfo.length){var t={content_title:jQuery(".editor-post-title__input").html(),content_id:ElevateData.post_id};elevateUpdatingTitle||(elevateUpdatingTitle=1,elevateAdminAjax("get_updated_title",t,function(t){var e=jQuery.parseJSON(t);jQuery("#elevate_post_title").attr("placeholder",e.body),elevateUpdateGooglePreview(),elevateUpdatingTitle=0}))}}function doElevateMetaReady(){Opentip.defaultStyle="dark",jQuery("#title").on("blur",function(){elevateUpdateMetaTitle()}),setInterval(function(){elevateUpdateGooglePreview()},1e3),elevateIsGutenberg()&&setInterval(function(){elevateGutenbergScan()},1e3),jQuery("#social_preview").popup({opacity:.3,transition:"all 0.3s"}),jQuery("#social_preview li i").click(function(){jQuery("#social_preview li i").removeClass("active"),jQuery(this).addClass("active");var t=jQuery(this).attr("data-tab");jQuery("div.google-preview, div.twitter-preview, div.facebook-preview, div.linkedin-preview").hide(),jQuery("div."+t).show()})}jQuery(document).ready(function(){doElevateMetaReady()});elevateUpdatingTitle=0;jQuery(document).ready(function(){doElevateMetaReady()}),function(t){var e,i,o=t(window),n={},s=[],r=[],a=null,h=[],l=null,p=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),d={_init:function(e){var i=t(e),o=i.data("popupoptions");r[e.id]=!1,s[e.id]=0,i.data("popup-initialized")||(i.attr("data-popup-initialized","true"),d._initonce(e)),o.autoopen&&setTimeout(function(){d.show(e,0)},0)},_initonce:function(i){var o,n,s,r,h=t(i),u=t("body"),c=h.data("popupoptions");(a=parseInt(u.css("margin-right"),10),l=void 0!==document.body.style.webkitTransition||void 0!==document.body.style.MozTransition||void 0!==document.body.style.msTransition||void 0!==document.body.style.OTransition||void 0!==document.body.style.transition,"tooltip"==c.type&&(c.background=!1,c.scrolllock=!1),c.backgroundactive&&(c.background=!1,c.blur=!1,c.scrolllock=!1),c.scrolllock)&&(void 0===e&&(r=(s=t('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body")).children(),e=r.innerWidth()-r.height(99).innerWidth(),s.remove()));if(h.attr("id")||h.attr("id","j-popup-"+parseInt(1e8*Math.random(),10)),h.addClass("popup_content"),c.background&&!t("#"+i.id+"_background").length){u.append('<div id="'+i.id+'_background" class="popup_background"></div>');var f=t("#"+i.id+"_background");f.css({opacity:0,visibility:"hidden",backgroundColor:c.color,position:"fixed",top:0,right:0,bottom:0,left:0}),c.setzindex&&!c.autozindex&&f.css("z-index","100000"),c.transition&&f.css("transition",c.transition)}u.append(i),h.wrap('<div id="'+i.id+'_wrapper" class="popup_wrapper" />'),(o=t("#"+i.id+"_wrapper")).css({opacity:0,visibility:"hidden",position:"absolute"}),p&&o.css("cursor","pointer"),"overlay"==c.type&&o.css("overflow","auto"),h.css({opacity:0,visibility:"hidden",display:"inline-block"}),c.setzindex&&!c.autozindex&&o.css("z-index","100001"),c.outline||h.css("outline","none"),c.transition&&(h.css("transition",c.transition),o.css("transition",c.transition)),h.attr("aria-hidden",!0),"overlay"==c.type&&(h.css({textAlign:"left",position:"relative",verticalAlign:"middle"}),n={position:"fixed",width:"100%",height:"100%",top:0,left:0,textAlign:"center"},c.backgroundactive&&(n.position="absolute",n.height="0",n.overflow="visible"),o.css(n),o.append('<div class="popup_align" />'),t(".popup_align").css({display:"inline-block",verticalAlign:"middle",height:"100%"})),h.attr("role","dialog");var g=c.openelement?c.openelement:"."+i.id+"_open";t(g).each(function(e,i){t(i).attr("data-popup-ordinal",e),i.id||t(i).attr("id","open_"+parseInt(1e8*Math.random(),10))}),h.attr("aria-labelledby")||h.attr("aria-label")||h.attr("aria-labelledby",t(g).attr("id")),"hover"==c.action?(c.keepfocus=!1,t(g).on("mouseenter",function(e){d.show(i,t(this).data("popup-ordinal"))}),t(g).on("mouseleave",function(t){d.hide(i)})):t(document).on("click",g,function(e){e.preventDefault();var o=t(this).data("popup-ordinal");setTimeout(function(){d.show(i,o)},0)}),c.closebutton&&d.addclosebutton(i),c.detach?h.hide().detach():o.hide()},show:function(n,p){var c=t(n);if(!c.data("popup-visible")){c.data("popup-initialized")||d._init(n),c.attr("data-popup-initialized","true");var f=t("body"),g=c.data("popupoptions"),m=t("#"+n.id+"_wrapper"),v=t("#"+n.id+"_background");if(u(n,p,g.beforeopen),r[n.id]=p,setTimeout(function(){h.push(n.id)},0),g.autozindex){for(var y=document.getElementsByTagName("*"),b=y.length,_=0,w=0;w<b;w++){var C=t(y[w]).css("z-index");"auto"!==C&&_<(C=parseInt(C,10))&&(_=C)}s[n.id]=_,g.background&&s[n.id]>0&&t("#"+n.id+"_background").css({zIndex:s[n.id]+1}),s[n.id]>0&&m.css({zIndex:s[n.id]+2})}g.detach?(m.prepend(n),c.show()):m.show(),i=setTimeout(function(){m.css({visibility:"visible",opacity:1}),t("html").addClass("popup_visible").addClass("popup_visible_"+n.id),m.addClass("popup_wrapper_visible")},20),g.scrolllock&&(f.css("overflow","hidden"),f.height()>o.height()&&f.css("margin-right",a+e)),g.backgroundactive&&c.css({top:(o.height()-(c.get(0).offsetHeight+parseInt(c.css("margin-top"),10)+parseInt(c.css("margin-bottom"),10)))/2+"px"}),c.css({visibility:"visible",opacity:1}),g.background&&(v.css({visibility:"visible",opacity:g.opacity}),setTimeout(function(){v.css({opacity:g.opacity})},0)),c.data("popup-visible",!0),d.reposition(n,p),c.data("focusedelementbeforepopup",document.activeElement),g.keepfocus&&(c.attr("tabindex",-1),setTimeout(function(){"closebutton"===g.focuselement?t("#"+n.id+" ."+n.id+"_close:first").focus():g.focuselement?t(g.focuselement).focus():c.focus()},g.focusdelay)),t(g.pagecontainer).attr("aria-hidden",!0),c.attr("aria-hidden",!1),u(n,p,g.onopen),l?m.one("transitionend",function(){u(n,p,g.opentransitionend)}):u(n,p,g.opentransitionend),"tooltip"==g.type&&t(window).on("resize."+n.id,function(){d.reposition(n,p)})}},hide:function(e,o){var n=t.inArray(e.id,h);if(-1!==n){i&&clearTimeout(i);var s=t("body"),p=t(e),d=p.data("popupoptions"),c=t("#"+e.id+"_wrapper"),f=t("#"+e.id+"_background");p.data("popup-visible",!1),1===h.length?t("html").removeClass("popup_visible").removeClass("popup_visible_"+e.id):t("html").hasClass("popup_visible_"+e.id)&&t("html").removeClass("popup_visible_"+e.id),h.splice(n,1),c.hasClass("popup_wrapper_visible")&&c.removeClass("popup_wrapper_visible"),d.keepfocus&&!o&&setTimeout(function(){t(p.data("focusedelementbeforepopup")).is(":visible")&&p.data("focusedelementbeforepopup").focus()},0),c.css({visibility:"hidden",opacity:0}),p.css({visibility:"hidden",opacity:0}),d.background&&f.css({visibility:"hidden",opacity:0}),t(d.pagecontainer).attr("aria-hidden",!1),p.attr("aria-hidden",!0),u(e,r[e.id],d.onclose),l&&"0s"!==p.css("transition-duration")?p.one("transitionend",function(t){p.data("popup-visible")||(d.detach?p.hide().detach():c.hide()),d.scrolllock&&setTimeout(function(){s.css({overflow:"visible","margin-right":a})},10),u(e,r[e.id],d.closetransitionend)}):(d.detach?p.hide().detach():c.hide(),d.scrolllock&&setTimeout(function(){s.css({overflow:"visible","margin-right":a})},10),u(e,r[e.id],d.closetransitionend)),"tooltip"==d.type&&t(window).off("resize."+e.id)}},toggle:function(e,i){t(e).data("popup-visible")?d.hide(e):setTimeout(function(){d.show(e,i)},0)},reposition:function(e,i){var n=t(e),s=n.data("popupoptions"),r=t("#"+e.id+"_wrapper");if(t("#"+e.id+"_background"),i=i||0,"tooltip"==s.type){r.css({position:"absolute"});var a,h=(a=s.tooltipanchor?t(s.tooltipanchor):s.openelement?t(s.openelement).filter('[data-popup-ordinal="'+i+'"]'):t("."+e.id+'_open[data-popup-ordinal="'+i+'"]')).offset();"right"==s.horizontal?r.css("left",h.left+a.outerWidth()+s.offsetleft):"leftedge"==s.horizontal?r.css("left",h.left+a.outerWidth()-a.outerWidth()+s.offsetleft):"left"==s.horizontal?r.css("right",o.width()-h.left-s.offsetleft):"rightedge"==s.horizontal?r.css("right",o.width()-h.left-a.outerWidth()-s.offsetleft):r.css("left",h.left+a.outerWidth()/2-n.outerWidth()/2-parseFloat(n.css("marginLeft"))+s.offsetleft),"bottom"==s.vertical?r.css("top",h.top+a.outerHeight()+s.offsettop):"bottomedge"==s.vertical?r.css("top",h.top+a.outerHeight()-n.outerHeight()+s.offsettop):"top"==s.vertical?r.css("bottom",o.height()-h.top-s.offsettop):"topedge"==s.vertical?r.css("bottom",o.height()-h.top-n.outerHeight()-s.offsettop):r.css("top",h.top+a.outerHeight()/2-n.outerHeight()/2-parseFloat(n.css("marginTop"))+s.offsettop)}else"overlay"==s.type&&(s.horizontal?r.css("text-align",s.horizontal):r.css("text-align","center"),s.vertical?n.css("vertical-align",s.vertical):n.css("vertical-align","middle"))},addclosebutton:function(e){var i;i=t(e).data("popupoptions").closebuttonmarkup?t(n.closebuttonmarkup).addClass(e.id+"_close"):'<button class="popup_close '+e.id+'_close" title="Close" aria-label="Close"><span aria-hidden="true">×</span></button>',t(e).data("popup-initialized")&&t(e).append(i)}},u=function(e,i,o){var n,s,r=t(e).data("popupoptions");void 0!==r&&(n=r.openelement?r.openelement:"."+e.id+"_open",s=t(n+'[data-popup-ordinal="'+i+'"]'),"function"==typeof o&&o.call(t(e),e,s))};t(document).on("keydown",function(e){if(h.length){var i=h[h.length-1],o=document.getElementById(i);t(o).data("popupoptions").escape&&27==e.keyCode&&d.hide(o)}}),t(document).on("click",function(e){if(h.length){var i=h[h.length-1],o=document.getElementById(i),n=t(o).data("popupoptions").closeelement?t(o).data("popupoptions").closeelement:"."+o.id+"_close";t(e.target).closest(n).length&&(e.preventDefault(),d.hide(o)),t(o).data("popupoptions")&&t(o).data("popupoptions").blur&&!t(e.target).closest("#"+i).length&&2!==e.which&&t(e.target).is(":visible")&&(t(o).data("popupoptions").background?(d.hide(o),e.preventDefault()):d.hide(o,!0))}}),t(document).on("keydown",function(e){if(h.length&&9==e.which){var i=h[h.length-1],o=document.getElementById(i),n=t(o).find("*").filter("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible"),s=t(":focus"),r=n.length,a=n.index(s);0===r?(t(o).focus(),e.preventDefault()):e.shiftKey?0===a&&(n.get(r-1).focus(),e.preventDefault()):a==r-1&&(n.get(0).focus(),e.preventDefault())}}),t.fn.popup=function(e){return this.each(function(){var i=t(this);if("object"==typeof e){var o=t.extend({},t.fn.popup.defaults,i.data("popupoptions"),e);i.data("popupoptions",o),n=i.data("popupoptions"),d._init(this)}else"string"==typeof e?(i.data("popupoptions")||(i.data("popupoptions",t.fn.popup.defaults),n=i.data("popupoptions")),d[e].call(this,this)):(i.data("popupoptions")||(i.data("popupoptions",t.fn.popup.defaults),n=i.data("popupoptions")),d._init(this))})},t.fn.popup.defaults={type:"overlay",autoopen:!1,background:!0,backgroundactive:!1,color:"black",opacity:"0.5",horizontal:"center",vertical:"middle",offsettop:0,offsetleft:0,escape:!0,blur:!0,setzindex:!0,autozindex:!1,scrolllock:!1,closebutton:!1,closebuttonmarkup:null,keepfocus:!0,focuselement:null,focusdelay:50,outline:!1,pagecontainer:null,detach:!1,openelement:null,closeelement:null,transition:null,tooltipanchor:null,beforeopen:null,onclose:null,onopen:null,opentransitionend:null,closetransitionend:null}}(jQuery);__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,o,n){var s,r,a,h,l,p,d,u,c,f,g,m,v,y,b=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,(s=this.adapter.data(e,"opentips")||[]).push(this),this.adapter.data(e,"opentips",s),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw new Error("You can't call Opentip on multiple elements.");if(this.triggerElement.length<1)throw new Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},n=this.adapter.clone(n),"object"==typeof i?(n=i,i=o=void 0):"object"==typeof o&&(n=o,o=void 0),null!=o&&(n.title=o),null!=i&&this.setContent(i),null==n.extends&&(null!=n.style?n.extends=n.style:n.extends=t.defaultStyle),h=[n],y=n;y.extends;){if(p=y.extends,null==(y=t.styles[p]))throw new Error("Invalid style: "+p);h.unshift(y),null==y.extends&&"standard"!==p&&(y.extends="standard")}for((n=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(h)))).hideTriggers=function(){var t,e,i,o;for(o=[],t=0,e=(i=n.hideTriggers).length;t<e;t++)r=i[t],o.push(r);return o}(),n.hideTrigger&&0===n.hideTriggers.length&&n.hideTriggers.push(n.hideTrigger),d=0,c=(m=["tipJoint","targetJoint","stem"]).length;d<c;d++)n[l=m[d]]&&"string"==typeof n[l]&&(n[l]=new t.Joint(n[l]));for(!n.ajax||!0!==n.ajax&&n.ajax||("A"===this.adapter.tagName(this.triggerElement)?n.ajax=this.adapter.attr(this.triggerElement,"href"):n.ajax=!1),"click"===n.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),n.target&&(n.fixed=!0),!0===n.stem&&(n.stem=new t.Joint(n.tipJoint)),!0===n.target?n.target=this.triggerElement:n.target&&(n.target=this.adapter.wrap(n.target)),this.currentStem=n.stem,null==n.delay&&(n.delay="mouseover"===n.showOn?.2:0),null==n.targetJoint&&(n.targetJoint=new t.Joint(n.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],n.showOn&&"creation"!==n.showOn&&this.showTriggers.push({element:this.triggerElement,event:n.showOn}),null!=n.ajaxCache&&(n.cache=n.ajaxCache,delete n.ajaxCache),this.options=n,this.bound={},u=0,f=(v=["prepareToShow","prepareToHide","show","hide","reposition"]).length;u<f;u++)a=v[u],this.bound[a]=function(t){return function(){return b[t].apply(b,arguments)}}(a);this.adapter.domReady(function(){if(b.activate(),"creation"===b.options.showOn)return b.prepareToShow()})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype.class={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,n,s,r,a,h,l,p;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],o=n=0,r=(h=this.options.hideTriggers).length;n<r;o=++n){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw new Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=[],s=0,a=(l=this.hideTriggers).length;s<a;s++)e=l[s],p.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return p},t.prototype._buildContainer=function(){if(this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this.class.container+" "+this.class.hidden+" "+this.class.stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this.class.loading),this.options.fixed&&this.adapter.addClass(this.container,this.class.fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this.class.showEffectPrefix+this.options.showEffect),this.options.hideEffect)return this.adapter.addClass(this.container,""+this.class.hideEffectPrefix+this.options.hideEffect)},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this.class.opentip+'"><div class="'+this.class.header+'"></div><div class="'+this.class.content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this.class.header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this.class.loadingIndicator+'"><span>↻</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this.class.close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){if(this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible)return this._updateElementContent()},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(null!=(t=this.adapter.find(this.container,"."+this.class.content))&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:this.dimensions.width+"px",top:this.currentPosition.top+"px",left:this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m=this;for(s=0,l=(o=1<=arguments.length?__slice.call(arguments,0):[]).length;s<l;s++)if(i=o[s],e=!1,"-"===i.charAt(0)&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=1<=arguments.length?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case"showing":for(r=0,p=(c=this.hideTriggers).length;r<p;r++)t((n=c[r]).element,n.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(a=0,d=(f=this.showTriggersWhenVisible).length;a<d;a++)t((n=f[a]).element,n.event,this.bound.prepareToShow);break;case"hiding":for(h=0,u=(g=this.showTriggers).length;h<u;h++)t((n=g[h]).element,n.event,this.bound.prepareToShow);break;case"hidden":break;default:throw new Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){if(this._abortHiding(),this._abortShowing(),!this.visible)return this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0)},t.prototype.show=function(){var e=this;if(this._abortHiding(),!this.visible)return this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this.class.hiding),this.adapter.removeClass(this.container,this.class.hidden),this.adapter.addClass(this.container,this.class.goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e.class.goingToShow),e.adapter.addClass(e.container,e.class.showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e.class.showing),e.adapter.addClass(e.container,e.class.visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate()},t.prototype._abortShowing=function(){if(this.preparingToShow)return this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")},t.prototype.prepareToHide=function(){if(this._abortShowing(),this._abortHiding(),this.visible)return this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)},t.prototype.hide=function(){var t=this;if(this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container))return this.adapter.removeClass(this.container,this.class.visible),this.adapter.removeClass(this.container,this.class.showing),this.adapter.addClass(this.container,this.class.goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t.class.goingToHide),t.adapter.addClass(t.container,t.class.hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){if(t.adapter.removeClass(t.container,t.class.hiding),t.adapter.addClass(t.container,t.class.hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide)return t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement},e)})},t.prototype._abortHiding=function(){if(this.preparingToHide)return this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")},t.prototype.reposition=function(){var t,e,i,o=this;if(null!=(t=this.getPosition())&&(e=this.options.stem,this.options.containInViewport&&(t=(i=this._ensureViewportContainment(t)).position,e=i.stem),!this._positionsEqual(t,this.currentPosition)))return this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:t.left+"px",top:t.top+"px"}),this.defer(function(){var t;return(t=o.adapter.unwrap(o.container)).style.visibility="hidden",t.offsetHeight,t.style.visibility="visible"})},t.prototype.getPosition=function(t,e,i){var o,n,s,r,a,h,l,p,d;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),r={},this.options.target?(l=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=l,e.right?null!=(p=this.adapter.unwrap(this.options.target)).getBoundingClientRect?r.left=p.getBoundingClientRect().right+(null!=(d=window.pageXOffset)?d:document.body.scrollLeft):r.left+=h.width:e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(s=(a=this.options.stem?this.options.stemLength:0)&&this.options.fixed?2:10,o=t.middle&&!this.options.fixed?15:0,n=t.center&&!this.options.fixed?15:0,t.right?r.left-=s+o:t.left&&(r.left+=s+o),t.bottom?r.top-=s+n:t.top&&(r.top+=s+n),a&&(null==i&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,n,s,r,a,h,l,p,d,u;if(n={position:e,stem:h=this.options.stem},!this.visible||!e)return n;if(!(l=this._sticksOut(e))[0]&&!l[1])return n;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(p=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),e.left,a[0],e.top,a[1],i=!1,u.width>=this.dimensions.width&&l[0])switch(i=!0,l[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&p.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&p.setHorizontal("left")}if(u.height>=this.dimensions.height&&l[1])switch(i=!0,l[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&p.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&p.setVertical("top")}return i?(this.options.stem&&(h=d),e=this.getPosition(d,p,h),s=!1,r=!1,(o=this._sticksOut(e))[0]&&o[0]!==l[0]&&(s=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&p.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==l[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&p.setVertical(this.options.targetJoint.vertical)),s&&r?n:((s||r)&&(this.options.stem&&(h=d),e=this.getPosition(d,p,h)),{position:e,stem:h})):n},t.prototype._sticksOut=function(t){var e,i,o,n;return i=this.adapter.scrollOffset(),n=this.adapter.viewportDimensions(),o=[!1,!1],(e=[t.left-i[0],t.top-i[1]])[0]<0?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>n.width&&(o[0]=this.STICKS_OUT_RIGHT),e[1]<0?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>n.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m,v,y,b,_=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(g=0,m=(v=["top","right","bottom","left"]).length;g<m;g++)u=v[g],this.adapter.removeClass(this.container,"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(s=new t.Joint("top right"===(null!=(y=this.currentStem)?y.toString():void 0)?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),n=[0,0],this.options.borderWidth&&(o.width+=2*this.options.borderWidth,o.height+=2*this.options.borderWidth,n[0]-=this.options.borderWidth,n[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=2*this.options.shadowBlur,o.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),o.height+=2*this.options.shadowBlur,o.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),n[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),n[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),s&&(s.left?i.left=Math.max(i.left,a[0]):s.right&&(i.right=Math.max(i.right,a[0])),s.top?i.top=Math.max(i.top,a[1]):s.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,n[0]-=i.left,n[1]-=i.top,this.currentStem&&this.options.borderWidth&&(b=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=b.stemLength,c=b.stemBase),(e=this.adapter.unwrap(this.backgroundCanvas)).width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:e.width+"px",height:e.height+"px",left:n[0]+"px",top:n[1]+"px"}),(h=e.getContext("2d")).setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(f=this.options.stemLength,c=this.options.stemBase),null==c&&(c=0),p=function(t,e,i){if(i&&h.moveTo(Math.max(c,_.options.borderRadius,r[0])+1-d,-d),e)return h.lineTo(t/2-c/2,-d),h.lineTo(t/2,-f-d),h.lineTo(t/2+c/2,-d)},l=function(t,e,i){var o,n,s,a;return t?(h.lineTo(-c+d,0-d),h.lineTo(f+d,-f-d),h.lineTo(d,c-d)):e?(a=_.options.closeButtonOffset,s=r[0],i%2!=0&&(a=[a[1],a[0]],s=r[1]),o=Math.acos(a[1]/_.options.closeButtonRadius),n=Math.acos(a[0]/_.options.closeButtonRadius),h.lineTo(-s+d,-d),h.arc(d-a[0],-d+a[1],_.options.closeButtonRadius,-(Math.PI/2+o),n,!1)):(h.lineTo(-_.options.borderRadius+d,-d),h.quadraticCurveTo(d,-d,d,_.options.borderRadius-d))},h.translate(-n[0],-n[1]),h.save(),function(){var e,i,o,n,r,a,d,u,c,f,g;for(g=[],i=c=0,f=t.positions.length/2;0<=f?c<f:c>f;i=0<=f?++c:--c)r=2*i,a=0===i||3===i?0:_.dimensions.width,d=i<2?0:_.dimensions.height,u=Math.PI/2*i,o=i%2==0?_.dimensions.width:_.dimensions.height,n=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,d),h.rotate(u),p(o,n.eql(_.currentStem),0===i),h.translate(o,0),l(e.eql(_.currentStem),e.eql(s),i),g.push(h.restore())}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),s?function(){var t,e,i;return _.options.closeButtonRadius,t="top right"===s.toString()?[(i=[_.dimensions.width-_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]+d,i[1]-d]:[(i=[_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]-d,i[1]-d],h.translate(t[0],t[1]),e=_.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=_.options.closeButtonCrossColor,h.lineWidth=_.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-e,-e),h.lineTo(e,e),h.stroke(),h.beginPath(),h.moveTo(e,-e),h.lineTo(-e,e),h.stroke(),h.restore(),_.adapter.css(_.closeButtonElement,{left:i[0]-e-_.options.closeButtonLinkOverscan+"px",top:i[1]-e-_.options.closeButtonLinkOverscan+"px",width:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px",height:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px"})}():void 0}},t.prototype._getPathStemMeasures=function(t,e,i){var o,n,s,r;if(s=i/2,o=2*(n=Math.atan(t/2/e)),(r=s+e-2*(s/Math.sin(o))*Math.cos(n))<0)throw new Error("Sorry but your stemLength / stemBase ratio is strange.");return{stemLength:r,stemBase:Math.tan(n)*r*2}},t.prototype._getColor=function(t,e,i,o){var n,s,r,a,h;if(null==o&&(o=!1),"string"==typeof i)return i;for(s=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;a<h;r=++a)n=i[r],s.addColorStop(n[0],n[1]);return s},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(e=0,i=(o=this.adapter.findAll(this.container,"."+this.class.close)).length;e<i;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});if(this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible)return this._setupObservers("-visible","visible")},t.prototype._activateFirstInput=function(){var t;return null!=(t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")))&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){if(!this.options.fixed)return t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){if(!this.options.fixed)return t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this.class.loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t.class.loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t.class.ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t.class.loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){if(!this._triggerElementExists())return this.deactivate(),this._stopEnsureTriggerElement()},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,n,s,r;for(i in t=this.adapter.unwrap(t),r=[],e)__hasProp.call(e,i)&&(o=e[i],null!=t.style[i]?r.push(t.style[i]=o):r.push(function(){var e,r,a;for(a=[],e=0,r=vendors.length;e<r;e++)n=vendors[e],s=""+this.ucfirst(n)+this.ucfirst(i),null!=t.style[s]?a.push(t.style[s]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,n;for(mousePosition=Opentip.adapter.mousePosition(t),n=[],i=0,o=mousePositionObservers.length;i<o;i++)e=mousePositionObservers[i],n.push(e());return n},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,o,n;for(n=[],i=0,o=mousePositionObservers.length;i<o;i++)(e=mousePositionObservers[i])!==t&&n.push(e);return n}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t=t.toString()),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["left","center","right"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["top","middle","bottom"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t;return t=(Opentip.position[this.toString(!0)]+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return null==t&&(t=!1),i="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;if(t=1<=arguments.length?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0))return t.unshift("#"+this.id+" |"),console.debug.apply(console,t)},Opentip.findElements=function(){var t,e,i,o,n,s,r,a,h,l;for(l=[],r=0,a=(h=(t=Opentip.adapter).findAll(document.body,"[data-ot]")).length;r<a;r++){for(o in i=h[r],s={},""!==(e=t.data(i,"ot"))&&"true"!==e&&"yes"!==e||(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"",Opentip.styles.standard)null!=(n=t.data(i,"ot"+Opentip.prototype.ucfirst(o)))&&("yes"===n||"true"===n||"on"===n?n=!0:"no"!==n&&"false"!==n&&"off"!==n||(n=!1),s[o]=n);l.push(new Opentip(i,e,s))}return l},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){if(Opentip.adapters[t.name]=t,firstAdapter)return Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},i=_i=0,_len=(_ref=Opentip.positions).length;_i<_len;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{extends:null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{extends:"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{extends:"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{extends:"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip,__slice=[].slice,function(t){var e;t.fn.opentip=function(t,e,i){return new Opentip(this,t,e,i)},e=function(){function e(){}return e.prototype.name="jquery",e.prototype.domReady=function(e){return t(e)},e.prototype.create=function(e){return t(e)},e.prototype.wrap=function(e){if((e=t(e)).length>1)throw new Error("Multiple elements provided.");return e},e.prototype.unwrap=function(e){return t(e)[0]},e.prototype.tagName=function(t){return this.unwrap(t).tagName},e.prototype.attr=function(){var e,i,o;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],(o=t(i)).attr.apply(o,e)},e.prototype.data=function(){var e,i,o;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],(o=t(i)).data.apply(o,e)},e.prototype.find=function(e,i){return t(e).find(i).get(0)},e.prototype.findAll=function(e,i){return t(e).find(i)},e.prototype.update=function(e,i,o){return e=t(e),o?e.text(i):e.html(i)},e.prototype.append=function(e,i){return t(e).append(i)},e.prototype.remove=function(e){return t(e).remove()},e.prototype.addClass=function(e,i){return t(e).addClass(i)},e.prototype.removeClass=function(e,i){return t(e).removeClass(i)},e.prototype.css=function(e,i){return t(e).css(i)},e.prototype.dimensions=function(e){return{width:t(e).outerWidth(),height:t(e).outerHeight()}},e.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},e.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},e.prototype.mousePosition=function(t){return null==t?null:{x:t.pageX,y:t.pageY}},e.prototype.offset=function(e){var i;return{left:(i=t(e).offset()).left,top:i.top}},e.prototype.observe=function(e,i,o){return t(e).bind(i,o)},e.prototype.stopObserving=function(e,i,o){return t(e).unbind(i,o)},e.prototype.ajax=function(e){var i,o;if(null==e.url)throw new Error("No url provided");return t.ajax({url:e.url,type:null!=(i=null!=(o=e.method)?o.toUpperCase():void 0)?i:"GET"}).done(function(t){return"function"==typeof e.onSuccess?e.onSuccess(t):void 0}).fail(function(t){return"function"==typeof e.onError?e.onError("Server responded with status "+t.status):void 0}).always(function(){return"function"==typeof e.onComplete?e.onComplete():void 0})},e.prototype.clone=function(e){return t.extend({},e)},e.prototype.extend=function(){var e,i;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],t.extend.apply(t,[i].concat(__slice.call(e)))},e}(),Opentip.addAdapter(new e)}(jQuery);var elevateProgressBar=0;function elevateOverlay(t){jQuery("body").append('<div class="elevate-overlay"><div class="overlay-inside"><i class="close fa fa-times"> </i> '+t+"</div></div>"),jQuery(".overlay-inside").click(function(t){t.stopPropagation()}),jQuery(".elevate-overlay").click(function(t){t.preventDefault(),jQuery(this).remove()})}function elevateHandleUploads(){jQuery("button.upload").each(function(){var t=jQuery(this),e=jQuery(this).attr("data-name");jQuery("#wpwrap").append('<div class="upload-hide"><form method="POST" id="'+e+'_form" action="/" id="'+e+'_form"><input type="FILE" id="'+e+'" name="'+e+'_file" /><input type="hidden" name="file_key" value="'+e+'_file" /><input type="submit" id="'+e+'_submit" name="'+e+'_submit" /></form></div>');jQuery("form#"+e+"_form").submit(function(i){var o=jQuery("form#"+e+"_form").get(0),n=new FormData(o);n.append("action","elevate_ajax"),n.append("elevate_action","file_upload"),n.append("elevate_nonce",ElevateData.elevate_nonce),n.append("acceptable_types","image/png,image/jpeg,image/jpeg"),jQuery.ajax({url:ElevateData.admin_ajax,type:"POST",data:n,contentType:!1,cache:!1,processData:!1,success:function(i){var o=jQuery.parseJSON(i);0==o.code?(jQuery("input[name=elevate_"+e+"]").val(o.body.file_name),jQuery("a[data-name="+e+"]").attr("href",o.body.full_file_url),t.hide(),jQuery(".upload_"+e+" .image-wrapper").html('<img src="'+o.body.full_file_url+'" />'),jQuery("#"+e+"_reset").show()):"invalid_mime_type"==o.error?alert(ElevateData.msg_invalid_mime):alert("Failed!")}}),i.preventDefault()}),jQuery("input[name=elevate_"+e+"]").val().length?t.hide():(t.show(),jQuery("input[name=elevate_"+e+"]").hide(),jQuery("#"+e+"_reset").hide()),jQuery("#"+e+"_reset").click(function(e){var i=jQuery(this).attr("data-name");jQuery("input[name=elevate_"+i+"]").val(""),jQuery(".upload_"+i+" .image-wrapper").html(""),e.preventDefault(),t.show(),jQuery("input[name=elevate_"+i+"]").hide(),jQuery("#"+i+"_reset").hide()})}),jQuery("button.upload").click(function(t){t.preventDefault();var e=jQuery(this).attr("data-name");jQuery("#"+e).click().on("change",function(t){jQuery("#"+e+"_submit").click()})})}function elevateCheckServices(t){if(jQuery(".google-services").length){elevateAdminAjax("check_all_services",{},function(e){t(e)})}}function elevateHandleWizard(t,e,i,o,n,s){jQuery(".site-setup li").hide();let r=0;e&&(r+=8),i&&(r+=1),o&&(r+=1);let a=n/r;if(0!=elevateProgressBar){let t=100*a;elevateProgressBar.animate(a,function(){elevateProgressBar.setText(t.toFixed(0).toString()+"%")})}switch(0==elevateProgressBar&&(elevateProgressBar=new ProgressBar.SemiCircle("#pb",{color:"#7c7",trailColor:"#ddd",duration:300,easing:"easeInOut",strokeWidth:5,trailWidth:2,text:{value:"0%"},alignToBottom:!0})),t){case 1:jQuery("li.generate-sitemap").addClass("active").fadeIn(),elevateAdminAjax("generate_sitemap",{},function(t){JSON.parse(t).code==ElevateData.ajax_success&&(jQuery("li.generate-sitemap").addClass("success").find("i").addClass("flip"),e?elevateHandleWizard(2,e,i,o,1,s):i?elevateHandleWizard(9,e,i,o,1,s):o&&elevateHandleWizard(10,e,i,o,1,s))});break;case 2:jQuery("li.check-sc-site").addClass("active").fadeIn(),elevateAdminAjax("google_check_sites",{},function(t){JSON.parse(t).code==ElevateData.ajax_success?(jQuery("li.check-sc-site").addClass("success").find("i").addClass("flip"),elevateHandleWizard(4,e,i,o,n+2,s)):(jQuery("li.check-sc-site").addClass("fail").find("i").addClass("flip"),jQuery("li.add-sc-site").fadeIn(),elevateHandleWizard(3,e,i,o,n+1,s))});break;case 3:jQuery("li.add-sc-site").addClass("active").fadeIn(),elevateAdminAjax("google_add_site",{},function(t){JSON.parse(t).code==ElevateData.ajax_success?(jQuery("li.add-sc-site").addClass("success").find("i").addClass("flip"),jQuery("li.check-sc-site").removeClass("fail").find("i").removeClass("flip"),jQuery("li.check-sc-site").addClass("success").find("i").addClass("flip"),elevateHandleWizard(4,e,i,o,n+1,s)):jQuery("li.add-sc-site").addClass("fail").find("i").addClass("flip")});break;case 4:jQuery("li.check-verification").addClass("active").fadeIn(),elevateAdminAjax("check_site_verification",{},function(t){JSON.parse(t).code==ElevateData.ajax_success?(jQuery("li.verify-site").addClass("success").find("i").addClass("flip"),elevateHandleWizard(6,e,i,o,n+2,s)):elevateHandleWizard(5,e,i,o,n+1,s)});break;case 5:jQuery("li.verify-site").addClass("active").fadeIn(),elevateAdminAjax("verify_site",{},function(t){JSON.parse(t).code==ElevateData.ajax_success?(jQuery("li.verify-site").addClass("success").find("i").addClass("flip"),elevateHandleWizard(6,e,i,o,n+1,s)):(jQuery("li.verify-site").addClass("fail").find("i").addClass("flip"),jQuery.confirm({title:ElevateData.msg_setup_error_title,content:ElevateData.msg_setup_cant_verify,type:"blue",typeAnimated:!0,buttons:{close:function(){i?elevateHandleWizard(9,e,i,o,n+4,s):o?elevateHandleWizard(10,e,i,o,n+5,s):elevateHandleWizard(50,e,i,o,r,s)}},useBootstrap:!1}))});break;case 6:jQuery("li.check-sitemap").addClass("active").fadeIn(),elevateAdminAjax("check_sitemap",{},function(t){JSON.parse(t).code==ElevateData.ajax_success?(jQuery("li.check-sitemap").addClass("success").find("i").addClass("flip"),i?elevateHandleWizard(9,e,i,o,n+3,s):o&&elevateHandleWizard(10,e,i,o,n+4,s)):(jQuery("li.check-sitemap").addClass("fail").find("i").addClass("flip"),elevateHandleWizard(8,e,i,o,n+1,s))});break;case 8:jQuery("li.add-sitemap").addClass("active").fadeIn(),elevateAdminAjax("add_sitemap",{},function(t){JSON.parse(t).code==ElevateData.ajax_success?(jQuery("li.add-sitemap").addClass("success").find("i").addClass("flip"),jQuery("li.check-sitemap").removeClass("fail").find("i").removeClass("flip"),jQuery("li.check-sitemap").addClass("success").find("i").addClass("flip"),i?elevateHandleWizard(9,e,i,o,n+1,s):o?elevateHandleWizard(10,e,i,o,n+2,s):elevateHandleWizard(50,e,i,o,r,s)):(jQuery("li.add-sitemap").addClass("fail").find("i").addClass("flip"),jQuery.confirm({title:ElevateData.msg_setup_error_title,content:ElevateData.msg_setup_cant_add_sitemap,type:"blue",typeAnimated:!0,buttons:{close:function(){i?elevateHandleWizard(9,e,i,o,n+1,s):o?elevateHandleWizard(10,e,i,o,n+2,s):elevateHandleWizard(50,e,i,o,r,s)}},useBootstrap:!1}))});break;case 9:jQuery("li.create-analytics-property").addClass("active").fadeIn(),elevateAdminAjax("create_analytics_property",{},function(t){JSON.parse(t).code==ElevateData.ajax_success?jQuery("li.create-analytics-property").addClass("success").find("i").addClass("flip"):jQuery("li.create-analytics-property").addClass("fail").find("i").addClass("flip"),o?elevateHandleWizard(10,e,i,o,n+1,s):elevateHandleWizard(50,e,i,o,r,s)});break;case 10:jQuery("li.add-analytics-code").addClass("active").fadeIn(),elevateAdminAjax("add_analytics_code",{},function(t){JSON.parse(t).code==ElevateData.ajax_success?jQuery("li.add-analytics-code").addClass("success").find("i").addClass("flip"):jQuery("li.add-analytics-code").addClass("fail").find("i").addClass("flip"),elevateHandleWizard(50,e,i,o,r,s)});break;case 50:jQuery("li.complete").addClass("active").fadeIn(),s()}}function elevateSaveWizardState(){var t=jQuery("#elevate_wizard_language").val(),e=jQuery("#elevate_site_title").val(),i=jQuery("#elevate_site_name").val(),o=jQuery("#elevate_home_title").val(),n=jQuery("#elevate_home_desc").val(),s=jQuery("#elevate_social_twitter_name").val(),r=jQuery("#elevate_bing_auth_code").val();elevateAdminAjax("wizard_save_state",{settings:{site_title:e,selected_locale:t,site_name:i,home_title:o,home_desc:n,social_twitter_name:s,bing_auth_code:r}},function(t){})}function elevateInitialize(){function t(t){t?jQuery(".actions li").addClass("disabled"):jQuery(".actions li").removeClass("disabled")}var e=jQuery("#elevate-wizard");if(e){var i=0;jQuery("#elevate-wizard section").each(function(){jQuery(this).attr("data-pos",i),i+=1});var o=0,n=0,s=(parseInt(jQuery("section.intro").attr("data-pos")),parseInt(jQuery("section.basics").attr("data-pos")),parseInt(jQuery("section.site-name").attr("data-pos")),parseInt(jQuery("section.home-title").attr("data-pos")),parseInt(jQuery("section.description").attr("data-pos"))),r=(parseInt(jQuery("section.preview").attr("data-pos")),parseInt(jQuery("section.google-services").attr("data-pos"))),a=parseInt(jQuery("section.google-services-config").attr("data-pos")),h=parseInt(jQuery("section.site-setup").attr("data-pos")),l=parseInt(jQuery("section.done").attr("data-pos")),p=(jQuery("section.wizard-news").attr("data-pos"),0);function d(){jQuery(".google-services").length&&(o||(t(!0),elevateCheckServices(function(e){t(!1);var i=jQuery.parseJSON(e);setTimeout(function(){jQuery("#services-checking").hide(),i.body.has_google_analytics&&i.body.on_search_console?(jQuery("#services-found").fadeIn(),jQuery("#services-checked li div").addClass("checked")):(jQuery("#services-missing").fadeIn(),jQuery("#config-search-console").addClass("checked"),jQuery("#config-add-analytics, #config-install-analytics").addClass("disabled")),o=!0},500)})))}void 0!==ElevateData.post_oauth_skip&&ElevateData.post_oauth_skip&&(p=r),e.steps({startIndex:p,headerTag:"h3",titleTemplate:'<span class="number">#index#</span> #title#',bodyTag:"section",transitionEffect:"slideLeft",autoFocus:!0,onInit:function(t,e){jQuery(".elevate #elevate-wizard").fadeIn(200),p==r&&d(),jQuery(".steps li").prepend('<div class="connector"><div class="dot"></div></div>')},onFinished:function(t,e){elevateAdminAjax("wizard_done",{},function(t){window.location.href=ElevateData.settings_general_page})},onStepChanging:function(t,e,i){if(elevateSaveWizardState(),e==r)return!jQuery(".google-services").length||o;if(e==a);else{if(e==a+1)return n;if(e==s){jQuery("#elevate_site_name").val();var h=jQuery("#elevate_home_title").val(),l=jQuery("#elevate_site_description").val();jQuery("#google-title").html(h),jQuery("#google-desc").html(l)}}return!0},onStepChanged:function(e,i,o){if(i==r)d();else if(i==h&&void 0!==ElevateData.has_tokens){let e=jQuery("#config-search-console").hasClass("checked"),i=jQuery("#config-add-analytics").hasClass("checked"),o=jQuery("#config-install-analytics").hasClass("checked");n||(t(!0),elevateHandleWizard(1,e,i,o,0,function(){n=!0,t(!1)}))}else if(i==l){var s=jQuery("#elevate_wizard_email").val();s&&elevateAdminAjax("subscribe_mailing_list",{email:s},function(t){})}}})}Opentip.defaultStyle="dark",elevateHandleUploads(),jQuery("#elevate_bing_auth_code").on("paste",function(t){elevateSaveWizardState()}),jQuery("#elevate_bing_auth_code").on("blur",function(t){elevateSaveWizardState()}),jQuery(".google-services-config div li div").click(function(t){jQuery(this).hasClass("disabled")||(jQuery(this).hasClass("checked")?jQuery(this).removeClass("checked"):jQuery(this).addClass("checked")),t.preventDefault()}),jQuery("#elevate_search_console_deactivate").click(function(t){elevateAdminAjax("revoke_all_tokens",{},function(t){window.location.href=window.location.href}),t.preventDefault()}),jQuery("#elevate_search_console_activate").click(function(t){window.location.href=ElevateData.oauth_auth_url,t.preventDefault()}),jQuery("#elevate_show_wizard_again").click(function(t){elevateAdminAjax("show_wizard",{},function(t){window.location.href=ElevateData.settings_wizard_page}),t.preventDefault()}),jQuery("#elevate_reset_all_settings").click(function(t){elevateAdminAjax("reset_settings",{},function(t){window.location.href=ElevateData.settings_wizard_page}),t.preventDefault()}),jQuery(".elevate #dashboard").length&&elevateAdminAjax("get_dashboard_data",{},function(t){var e=jQuery.parseJSON(t);jQuery(".desktop-speed").html(e.body.desktop_speed.speed),jQuery(".mobile-speed").html(e.body.mobile_speed.speed);var i=e.body.search_analytics.clicks;i||(i=0),1==ElevateData.has_google_tokens&&(jQuery(".crawl-errors").html(e.body.crawl_errors.count),jQuery(".clicks").html(i)),jQuery(".impressions").html(e.body.search_analytics.impressions),jQuery(".crawl-info .not-found").html(e.body.crawl_errors.not_found),jQuery(".crawl-info .not-auth").html(e.body.crawl_errors.permissions),jQuery(".crawl-info .server-error").html(e.body.crawl_errors.server_error),jQuery(".search-info .click-rate").html(e.body.search_analytics.ctr),jQuery(".search-info .position").html(e.body.search_analytics.position),jQuery(".speed-info .desktop-size").html(e.body.desktop_speed.response_bytes),jQuery(".speed-info .mobile-size").html(e.body.mobile_speed.response_bytes);var o=(e.body.desktop_speed.speed+e.body.mobile_speed.speed)/2;jQuery(".speed-info .average-speed").html(o.toFixed(1)),e.body.has_analytics_installed?jQuery(".analytics-installed").html(jQuery(".analytics-installed").attr("data-tracking")):jQuery(".analytics-installed").html(jQuery(".analytics-installed").attr("data-not-tracking")),1==e.body.is_site_verified?jQuery(".site-verify").html(jQuery(".site-verify").attr("data-verified")):jQuery(".site-verify").html(jQuery(".site-verify").attr("data-not-verified")),e.body.sitemap_info.has_sitemap?e.body.sitemap_info.is_generating?(jQuery(".sitemap-generated").html(jQuery(".sitemap-generated").attr("data-generating")),jQuery(".last-modified").html(jQuery(".sitemap-generated").attr("data-pending")),jQuery(".sitemap-entries").html(jQuery(".sitemap-generated").attr("data-pending"))):(jQuery(".sitemap-generated").html(jQuery(".sitemap-generated").attr("data-generated")),jQuery(".last-modified").html(e.body.sitemap_info.modified_time),jQuery(".sitemap-entries").html(e.body.sitemap_info.entries)):(jQuery(".sitemap-generated").html(jQuery(".sitemap-generated").attr("data-not-generated")),jQuery(".last-modified").html(jQuery(".last-modified").attr("data-none")),jQuery(".sitemap-entries").html(jQuery(".last-modified").attr("data-none")))})}function elevateOverlay(t){jQuery("body").append('<div class="elevate-overlay"><div class="overlay-inside"><i class="close fa fa-times"> </i> '+t+"</div></div>"),jQuery(".overlay-inside").click(function(t){t.stopPropagation()}),jQuery(".elevate-overlay").click(function(t){t.preventDefault(),jQuery(this).remove()})}function elevateHandleUploads(){jQuery("button.upload").each(function(){var t=jQuery(this),e=jQuery(this).attr("data-name");jQuery("#wpwrap").append('<div class="upload-hide"><form method="POST" id="'+e+'_form" action="/" id="'+e+'_form"><input type="FILE" id="'+e+'" name="'+e+'_file" /><input type="hidden" name="file_key" value="'+e+'_file" /><input type="submit" id="'+e+'_submit" name="'+e+'_submit" /></form></div>'),jQuery("form#"+e+"_form").submit(function(i){var o=jQuery("form#"+e+"_form").get(0),n=new FormData(o);n.append("action","elevate_ajax"),n.append("elevate_action","file_upload"),n.append("elevate_nonce",ElevateData.elevate_nonce),n.append("acceptable_types","image/png,image/jpeg,image/jpeg"),jQuery.ajax({url:ElevateData.admin_ajax,type:"POST",data:n,contentType:!1,cache:!1,processData:!1,success:function(i){var o=jQuery.parseJSON(i);0==o.code?(jQuery("input[name=elevate_"+e+"]").val(o.body.file_name),jQuery("a[data-name="+e+"]").attr("href",o.body.full_file_url),t.hide(),jQuery(".upload_"+e+" .image-wrapper").html('<img src="'+o.body.full_file_url+'" />'),jQuery("#"+e+"_reset").show()):"invalid_mime_type"==o.error?alert(ElevateData.msg_invalid_mime):alert("Failed!")}}),i.preventDefault()}),jQuery("input[name=elevate_"+e+"]").val().length?t.hide():(t.show(),jQuery("input[name=elevate_"+e+"]").hide(),jQuery("#"+e+"_reset").hide()),jQuery("#"+e+"_reset").click(function(e){var i=jQuery(this).attr("data-name");jQuery("input[name=elevate_"+i+"]").val(""),jQuery(".upload_"+i+" .image-wrapper").html(""),e.preventDefault(),t.show(),jQuery("input[name=elevate_"+i+"]").hide(),jQuery("#"+i+"_reset").hide()})}),jQuery("button.upload").click(function(t){t.preventDefault();var e=jQuery(this).attr("data-name");jQuery("#"+e).click().on("change",function(t){jQuery("#"+e+"_submit").click()})})}function elevateCheckServices(t){if(jQuery(".google-services").length){elevateAdminAjax("check_all_services",{},function(e){t(e)})}}function elevateHandleWizard(t,e,i,o,n,s){jQuery(".site-setup li").hide();let r=0;e&&(r+=8),i&&(r+=1),o&&(r+=1);let a=n/r;if(0!=elevateProgressBar){let t=100*a;elevateProgressBar.animate(a,function(){elevateProgressBar.setText(t.toFixed(0).toString()+"%")})}switch(0==elevateProgressBar&&(elevateProgressBar=new ProgressBar.SemiCircle("#pb",{color:"#7c7",trailColor:"#ddd",duration:300,easing:"easeInOut",strokeWidth:5,trailWidth:2,text:{value:"0%"},alignToBottom:!0})),t){case 1:jQuery("li.generate-sitemap").addClass("active").fadeIn(),elevateAdminAjax("generate_sitemap",{},function(t){JSON.parse(t).code==ElevateData.ajax_success&&(jQuery("li.generate-sitemap").addClass("success").find("i").addClass("flip"),e?elevateHandleWizard(2,e,i,o,1,s):i?elevateHandleWizard(9,e,i,o,1,s):o&&elevateHandleWizard(10,e,i,o,1,s))});break;case 2:jQuery("li.check-sc-site").addClass("active").fadeIn(),elevateAdminAjax("google_check_sites",{},function(t){JSON.parse(t).code==ElevateData.ajax_success?(jQuery("li.check-sc-site").addClass("success").find("i").addClass("flip"),elevateHandleWizard(4,e,i,o,n+2,s)):(jQuery("li.check-sc-site").addClass("fail").find("i").addClass("flip"),jQuery("li.add-sc-site").fadeIn(),elevateHandleWizard(3,e,i,o,n+1,s))});break;case 3:jQuery("li.add-sc-site").addClass("active").fadeIn(),elevateAdminAjax("google_add_site",{},function(t){JSON.parse(t).code==ElevateData.ajax_success?(jQuery("li.add-sc-site").addClass("success").find("i").addClass("flip"),jQuery("li.check-sc-site").removeClass("fail").find("i").removeClass("flip"),jQuery("li.check-sc-site").addClass("success").find("i").addClass("flip"),elevateHandleWizard(4,e,i,o,n+1,s)):jQuery("li.add-sc-site").addClass("fail").find("i").addClass("flip")});break;case 4:jQuery("li.check-verification").addClass("active").fadeIn(),elevateAdminAjax("check_site_verification",{},function(t){JSON.parse(t).code==ElevateData.ajax_success?(jQuery("li.verify-site").addClass("success").find("i").addClass("flip"),elevateHandleWizard(6,e,i,o,n+2,s)):elevateHandleWizard(5,e,i,o,n+1,s)});break;case 5:jQuery("li.verify-site").addClass("active").fadeIn(),elevateAdminAjax("verify_site",{},function(t){JSON.parse(t).code==ElevateData.ajax_success?(jQuery("li.verify-site").addClass("success").find("i").addClass("flip"),elevateHandleWizard(6,e,i,o,n+1,s)):(jQuery("li.verify-site").addClass("fail").find("i").addClass("flip"),jQuery.confirm({title:ElevateData.msg_setup_error_title,content:ElevateData.msg_setup_cant_verify,type:"blue",typeAnimated:!0,buttons:{close:function(){i?elevateHandleWizard(9,e,i,o,n+4,s):o?elevateHandleWizard(10,e,i,o,n+5,s):elevateHandleWizard(50,e,i,o,r,s)}},useBootstrap:!1}))});break;case 6:jQuery("li.check-sitemap").addClass("active").fadeIn(),elevateAdminAjax("check_sitemap",{},function(t){JSON.parse(t).code==ElevateData.ajax_success?(jQuery("li.check-sitemap").addClass("success").find("i").addClass("flip"),i?elevateHandleWizard(9,e,i,o,n+3,s):o&&elevateHandleWizard(10,e,i,o,n+4,s)):(jQuery("li.check-sitemap").addClass("fail").find("i").addClass("flip"),elevateHandleWizard(8,e,i,o,n+1,s))});break;case 8:jQuery("li.add-sitemap").addClass("active").fadeIn(),elevateAdminAjax("add_sitemap",{},function(t){JSON.parse(t).code==ElevateData.ajax_success?(jQuery("li.add-sitemap").addClass("success").find("i").addClass("flip"),jQuery("li.check-sitemap").removeClass("fail").find("i").removeClass("flip"),jQuery("li.check-sitemap").addClass("success").find("i").addClass("flip"),i?elevateHandleWizard(9,e,i,o,n+1,s):o?elevateHandleWizard(10,e,i,o,n+2,s):elevateHandleWizard(50,e,i,o,r,s)):(jQuery("li.add-sitemap").addClass("fail").find("i").addClass("flip"),jQuery.confirm({title:ElevateData.msg_setup_error_title,content:ElevateData.msg_setup_cant_add_sitemap,type:"blue",typeAnimated:!0,buttons:{close:function(){i?elevateHandleWizard(9,e,i,o,n+1,s):o?elevateHandleWizard(10,e,i,o,n+2,s):elevateHandleWizard(50,e,i,o,r,s)}},useBootstrap:!1}))});break;case 9:jQuery("li.create-analytics-property").addClass("active").fadeIn(),elevateAdminAjax("create_analytics_property",{},function(t){JSON.parse(t).code==ElevateData.ajax_success?jQuery("li.create-analytics-property").addClass("success").find("i").addClass("flip"):jQuery("li.create-analytics-property").addClass("fail").find("i").addClass("flip"),o?elevateHandleWizard(10,e,i,o,n+1,s):elevateHandleWizard(50,e,i,o,r,s)});break;case 10:jQuery("li.add-analytics-code").addClass("active").fadeIn(),elevateAdminAjax("add_analytics_code",{},function(t){JSON.parse(t).code==ElevateData.ajax_success?jQuery("li.add-analytics-code").addClass("success").find("i").addClass("flip"):jQuery("li.add-analytics-code").addClass("fail").find("i").addClass("flip"),elevateHandleWizard(50,e,i,o,r,s)});break;case 50:jQuery("li.complete").addClass("active").fadeIn(),s()}}function elevateSaveWizardState(){var t=jQuery("#elevate_wizard_language").val(),e={settings:{site_title:jQuery("#elevate_site_title").val(),selected_locale:t,site_name:jQuery("#elevate_site_name").val(),home_title:jQuery("#elevate_home_title").val(),home_desc:jQuery("#elevate_home_desc").val(),social_twitter_name:jQuery("#elevate_social_twitter_name").val(),bing_auth_code:jQuery("#elevate_bing_auth_code").val()}};elevateAdminAjax("wizard_save_state",e,function(t){})}function elevateInitialize(){function t(t){t?jQuery(".actions li").addClass("disabled"):jQuery(".actions li").removeClass("disabled")}function e(){jQuery(".google-services").length&&(n||(t(!0),elevateCheckServices(function(e){t(!1);var i=jQuery.parseJSON(e);setTimeout(function(){jQuery("#services-checking").hide(),i.body.has_google_analytics&&i.body.on_search_console?(jQuery("#services-found").fadeIn(),jQuery("#services-checked li div").addClass("checked")):(jQuery("#services-missing").fadeIn(),jQuery("#config-search-console").addClass("checked"),jQuery("#config-add-analytics, #config-install-analytics").addClass("disabled")),n=!0},500)})))}var i=jQuery("#elevate-wizard");if(i){var o=0;jQuery("#elevate-wizard section").each(function(){jQuery(this).attr("data-pos",o),o+=1});var n=0,s=0,r=(parseInt(jQuery("section.intro").attr("data-pos")),parseInt(jQuery("section.basics").attr("data-pos")),parseInt(jQuery("section.site-name").attr("data-pos")),parseInt(jQuery("section.home-title").attr("data-pos")),parseInt(jQuery("section.description").attr("data-pos"))),a=(parseInt(jQuery("section.preview").attr("data-pos")),parseInt(jQuery("section.google-services").attr("data-pos"))),h=parseInt(jQuery("section.google-services-config").attr("data-pos")),l=parseInt(jQuery("section.site-setup").attr("data-pos")),p=parseInt(jQuery("section.done").attr("data-pos")),d=(jQuery("section.wizard-news").attr("data-pos"),0);void 0!==ElevateData.post_oauth_skip&&ElevateData.post_oauth_skip&&(d=a),i.steps({startIndex:d,headerTag:"h3",titleTemplate:'<span class="number">#index#</span> #title#',bodyTag:"section",transitionEffect:"slideLeft",autoFocus:!0,onInit:function(t,i){jQuery(".elevate #elevate-wizard").fadeIn(200),d==a&&e(),jQuery(".steps li").prepend('<div class="connector"><div class="dot"></div></div>')},onFinished:function(t,e){elevateAdminAjax("wizard_done",{},function(t){window.location.href=ElevateData.settings_general_page})},onStepChanging:function(t,e,i){if(elevateSaveWizardState(),e==a)return!jQuery(".google-services").length||n;if(e==h);else{if(e==h+1)return s;if(e==r){jQuery("#elevate_site_name").val();var o=jQuery("#elevate_home_title").val(),l=jQuery("#elevate_site_description").val();jQuery("#google-title").html(o),jQuery("#google-desc").html(l)}}return!0},onStepChanged:function(i,o,n){if(o==a)e();else if(o==l&&void 0!==ElevateData.has_tokens){let e=jQuery("#config-search-console").hasClass("checked"),i=jQuery("#config-add-analytics").hasClass("checked"),o=jQuery("#config-install-analytics").hasClass("checked");s||(t(!0),elevateHandleWizard(1,e,i,o,0,function(){s=!0,t(!1)}))}else if(o==p){var r=jQuery("#elevate_wizard_email").val();r&&elevateAdminAjax("subscribe_mailing_list",{email:r},function(t){})}}})}Opentip.defaultStyle="dark",elevateHandleUploads(),jQuery("#elevate_bing_auth_code").on("paste",function(t){elevateSaveWizardState()}),jQuery("#elevate_bing_auth_code").on("blur",function(t){elevateSaveWizardState()}),jQuery(".google-services-config div li div").click(function(t){jQuery(this).hasClass("disabled")||(jQuery(this).hasClass("checked")?jQuery(this).removeClass("checked"):jQuery(this).addClass("checked")),t.preventDefault()}),jQuery("#elevate_search_console_deactivate").click(function(t){elevateAdminAjax("revoke_all_tokens",{},function(t){window.location.href=window.location.href}),t.preventDefault()}),jQuery("#elevate_search_console_activate").click(function(t){window.location.href=ElevateData.oauth_auth_url,t.preventDefault()}),jQuery("#elevate_show_wizard_again").click(function(t){elevateAdminAjax("show_wizard",{},function(t){window.location.href=ElevateData.settings_wizard_page}),t.preventDefault()}),jQuery("#elevate_reset_all_settings").click(function(t){elevateAdminAjax("reset_settings",{},function(t){window.location.href=ElevateData.settings_wizard_page}),t.preventDefault()}),jQuery(".elevate #dashboard").length&&elevateAdminAjax("get_dashboard_data",{},function(t){var e=jQuery.parseJSON(t);jQuery(".desktop-speed").html(e.body.desktop_speed.speed),jQuery(".mobile-speed").html(e.body.mobile_speed.speed);var i=e.body.search_analytics.clicks;i||(i=0),1==ElevateData.has_google_tokens&&(jQuery(".crawl-errors").html(e.body.crawl_errors.count),jQuery(".clicks").html(i)),jQuery(".impressions").html(e.body.search_analytics.impressions),jQuery(".crawl-info .not-found").html(e.body.crawl_errors.not_found),jQuery(".crawl-info .not-auth").html(e.body.crawl_errors.permissions),jQuery(".crawl-info .server-error").html(e.body.crawl_errors.server_error),jQuery(".search-info .click-rate").html(e.body.search_analytics.ctr),jQuery(".search-info .position").html(e.body.search_analytics.position),jQuery(".speed-info .desktop-size").html(e.body.desktop_speed.response_bytes),jQuery(".speed-info .mobile-size").html(e.body.mobile_speed.response_bytes);var o=(e.body.desktop_speed.speed+e.body.mobile_speed.speed)/2;jQuery(".speed-info .average-speed").html(o.toFixed(1)),e.body.has_analytics_installed?jQuery(".analytics-installed").html(jQuery(".analytics-installed").attr("data-tracking")):jQuery(".analytics-installed").html(jQuery(".analytics-installed").attr("data-not-tracking")),1==e.body.is_site_verified?jQuery(".site-verify").html(jQuery(".site-verify").attr("data-verified")):jQuery(".site-verify").html(jQuery(".site-verify").attr("data-not-verified")),e.body.sitemap_info.has_sitemap?e.body.sitemap_info.is_generating?(jQuery(".sitemap-generated").html(jQuery(".sitemap-generated").attr("data-generating")),jQuery(".last-modified").html(jQuery(".sitemap-generated").attr("data-pending")),jQuery(".sitemap-entries").html(jQuery(".sitemap-generated").attr("data-pending"))):(jQuery(".sitemap-generated").html(jQuery(".sitemap-generated").attr("data-generated")),jQuery(".last-modified").html(e.body.sitemap_info.modified_time),jQuery(".sitemap-entries").html(e.body.sitemap_info.entries)):(jQuery(".sitemap-generated").html(jQuery(".sitemap-generated").attr("data-not-generated")),jQuery(".last-modified").html(jQuery(".last-modified").attr("data-none")),jQuery(".sitemap-entries").html(jQuery(".last-modified").attr("data-none")))})}jQuery(document).ready(function(){elevateInitialize()});var elevateGoogleAuthWindow;elevateProgressBar=0;jQuery(document).ready(function(){elevateInitialize()}),function(t,e){function i(i,o,n){var s=i.children(o.headerTag),r=i.children(o.bodyTag);s.length>r.length?B(W,"contents"):s.length<r.length&&B(W,"titles");var a=o.startIndex;if(n.stepCount=s.length,o.saveState&&t.cookie){var h=t.cookie(A+d(i)),p=parseInt(h,0);!isNaN(p)&&p<n.stepCount&&(a=p)}n.currentIndex=a,s.each(function(o){var n=t(this),s=r.eq(o),a=s.data("mode"),h=null==a?J.html:u(J,/^\s*$/.test(a)||isNaN(a)?a:parseInt(a,0)),p=h===J.html||s.data("url")===e?"":s.data("url"),d=h!==J.html&&"1"===s.data("loaded"),c=t.extend({},Q,{title:n.html(),content:h===J.html?s.html():"",contentUrl:p,contentMode:h,contentLoaded:d});!function(t,e){l(t).push(e)}(i,c)})}function o(t,e){var i=t.find(".steps li").eq(e.currentIndex);t.triggerHandler("finishing",[e.currentIndex])?(i.addClass("done").removeClass("error"),t.triggerHandler("finished",[e.currentIndex])):i.addClass("error")}function n(t){var e=t.data("eventNamespace");return null==e&&(e="."+d(t),t.data("eventNamespace",e)),e}function s(t,e){var i=d(t);return t.find("#"+i+L+e)}function r(t,e){var i=d(t);return t.find("#"+i+H+e)}function a(t){return t.data("options")}function h(t){return t.data("state")}function l(t){return t.data("steps")}function p(t,e){var i=l(t);return(0>e||e>=i.length)&&B(D),i[e]}function d(t){var e=t.data("uid");return null==e&&(null==(e=t._id())&&(e="steps-uid-".concat(I),t._id(e)),I++,t.data("uid",e)),e}function u(t,i){if(M("enumType",t),M("keyOrValue",i),"string"==typeof i){var o=t[i];return o===e&&B("The enum key '{0}' does not exist.",i),o}if("number"==typeof i){for(var n in t)if(t[n]===i)return i;B("Invalid enum value '{0}'.",i)}else B("Invalid key or value type.")}function c(t,e,i){return b(t,e,i,function(t,e){return t.currentIndex+e}(i,1))}function f(t,e,i){return b(t,e,i,function(t,e){return t.currentIndex-e}(i,1))}function g(e){var o=t.extend(!0,{},N,e);return this.each(function(){var e=t(this),r={currentIndex:o.startIndex,currentStep:null,stepCount:0,transitionElement:null};e.data("options",o),e.data("state",r),e.data("steps",[]),i(e,o,r),function(e,i,o){var n='<{0} class="{1}">{2}</{0}>',s=u(R,i.stepsOrientation)===R.vertical?" vertical":"",r=t(n.format(i.contentContainerTag,"content "+i.clearFixCssClass,e.html())),a=t(n.format(i.stepsContainerTag,"steps "+i.clearFixCssClass,'<ul role="tablist"></ul>')),h=r.children(i.headerTag),l=r.children(i.bodyTag);e.attr("role","application").empty().append(a).append(r).addClass(i.cssClass+" "+i.clearFixCssClass+s),l.each(function(i){O(e,o,t(this),i)}),h.each(function(n){E(e,i,o,t(this),n)}),C(e,i,o),function(t,e,i){if(e.enablePagination){var o='<li><a href="#{0}" role="menuitem">{1}</a></li>',n="";e.forceMoveForward||(n+=o.format("previous",e.labels.previous)),n+=o.format("next",e.labels.next),e.enableFinishButton&&(n+=o.format("finish",e.labels.finish)),e.enableCancelButton&&(n+=o.format("cancel",e.labels.cancel)),t.append('<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>'.format(e.actionContainerTag,e.clearFixCssClass,e.labels.pagination,n)),w(t,e,i),y(t,e,i)}}(e,i,o)}(e,o,r),function(t,e){var i=n(t);t.bind("canceled"+i,e.onCanceled),t.bind("contentLoaded"+i,e.onContentLoaded),t.bind("finishing"+i,e.onFinishing),t.bind("finished"+i,e.onFinished),t.bind("init"+i,e.onInit),t.bind("stepChanging"+i,e.onStepChanging),t.bind("stepChanged"+i,e.onStepChanged),e.enableKeyNavigation&&t.bind("keyup"+i,v),t.find(".actions a").bind("click"+i,_)}(e,o),o.autoFocus&&0===I&&s(e,o.startIndex).focus(),e.triggerHandler("init",[o.startIndex])})}function m(e,i,o,n,s){(0>n||n>o.stepCount)&&B(D),function(t,e,i){l(t).splice(e,0,i)}(e,n,s=t.extend({},Q,s)),o.currentIndex!==o.stepCount&&o.currentIndex>=n&&(o.currentIndex++,k(e,i,o)),o.stepCount++;var a=e.find(".content"),h=t("<{0}>{1}</{0}>".format(i.headerTag,s.title)),p=t("<{0}></{0}>".format(i.bodyTag));return(null==s.contentMode||s.contentMode===J.html)&&p.html(s.content),0===n?a.prepend(p).prepend(h):r(e,n-1).after(p).after(h),O(e,o,p,n),E(e,i,o,h,n),x(e,i,o,n),n===o.currentIndex&&C(e,i,o),w(e,i,o),e}function v(e){var i=t(this),o=a(i),n=h(i);if(o.suppressPaginationOnFocus&&i.find(":focus").is(":input"))return e.preventDefault(),!1;var s=37,r=39;e.keyCode===s?(e.preventDefault(),f(i,o,n)):e.keyCode===r&&(e.preventDefault(),c(i,o,n))}function y(e,i,o){if(o.stepCount>0){var n=o.currentIndex,s=p(e,n);if(!i.enableContentCache||!s.contentLoaded)switch(u(J,s.contentMode)){case J.iframe:e.find(".content > .body").eq(o.currentIndex).empty().html('<iframe src="'+s.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case J.async:var a=r(e,n)._aria("busy","true").empty().append(S(i.loadingTemplate,{text:i.labels.loading}));t.ajax({url:s.contentUrl,cache:!1}).done(function(t){a.empty().html(t)._aria("busy","false").data("loaded","1"),e.triggerHandler("contentLoaded",[n])})}}}function b(t,e,i,o){var n=i.currentIndex;if(o>=0&&o<i.stepCount&&!(e.forceMoveForward&&o<i.currentIndex)){var r=s(t,o),a=r.parent(),h=a.hasClass("disabled");return a._enableAria(),r.click(),n!==i.currentIndex||!h||(a._enableAria(!1),!1)}return!1}function _(e){e.preventDefault();var i=t(this),n=i.parent().parent().parent().parent(),s=a(n),r=h(n),l=i.attr("href");switch(l.substring(l.lastIndexOf("#")+1)){case"cancel":!function(t){t.triggerHandler("canceled")}(n);break;case"finish":o(n,r);break;case"next":c(n,s,r);break;case"previous":f(n,s,r)}}function w(t,e,i){if(e.enablePagination){var o=t.find(".actions a[href$='#finish']").parent(),n=t.find(".actions a[href$='#next']").parent();e.forceMoveForward||t.find(".actions a[href$='#previous']").parent()._enableAria(i.currentIndex>0),e.enableFinishButton&&e.showFinishButtonAlways?(o._enableAria(i.stepCount>0),n._enableAria(i.stepCount>1&&i.stepCount>i.currentIndex+1)):(o._showAria(e.enableFinishButton&&i.stepCount===i.currentIndex+1),n._showAria(0===i.stepCount||i.stepCount>i.currentIndex+1)._enableAria(i.stepCount>i.currentIndex+1||!e.enableFinishButton))}}function C(e,i,o,n){var r=s(e,o.currentIndex),a=t('<span class="current-info audible">'+i.labels.current+" </span>"),h=e.find(".content > .title");if(null!=n){var l=s(e,n);l.parent().addClass("done").removeClass("error")._selectAria(!1),h.eq(n).removeClass("current").next(".body").removeClass("current"),a=l.find(".current-info"),r.focus()}r.prepend(a).parent()._selectAria().removeClass("done")._enableAria(),h.eq(o.currentIndex).addClass("current").next(".body").addClass("current")}function x(t,e,i,o){for(var n=d(t),s=o;s<i.stepCount;s++){var r=n+L+s,a=n+H+s,h=n+z+s,l=t.find(".title").eq(s)._id(h);t.find(".steps a").eq(s)._id(r)._aria("controls",a).attr("href","#"+h).html(S(e.titleTemplate,{index:s+1,title:l.html()})),t.find(".body").eq(s)._id(a)._aria("labelledby",h)}}function T(t,e,i,o){return!(0>o||o>=i.stepCount||i.currentIndex===o||(function(t,e){l(t).splice(e,1)}(t,o),i.currentIndex>o&&(i.currentIndex--,k(t,e,i)),i.stepCount--,function(t,e){var i=d(t);return t.find("#"+i+z+e)}(t,o).remove(),r(t,o).remove(),s(t,o).parent().remove(),0===o&&t.find(".steps li").first().addClass("first"),o===i.stepCount&&t.find(".steps li").eq(o).addClass("last"),x(t,e,i,o),w(t,e,i),0))}function O(t,e,i,o){var n=d(t),s=n+H+o,r=n+z+o;i._id(s).attr("role","tabpanel")._aria("labelledby",r).addClass("body")._showAria(e.currentIndex===o)}function S(t,i){for(var o=t.match(/#([a-z]*)#/gi),n=0;n<o.length;n++){var s=o[n],r=s.substring(1,s.length-1);i[r]===e&&B("The key '{0}' does not exist in the substitute collection!",r),t=t.replace(s,i[r])}return t}function E(e,i,o,s,r){var a=d(e),h=a+L+r,l=a+H+r,p=a+z+r,u=e.find(".steps > ul"),c=S(i.titleTemplate,{index:r+1,title:s.html()}),f=t('<li role="tab"><a id="'+h+'" href="#'+p+'" aria-controls="'+l+'">'+c+"</a></li>");f._enableAria(i.enableAllSteps||o.currentIndex>r),o.currentIndex>r&&f.addClass("done"),s._id(p).attr("tabindex","-1").addClass("title"),0===r?u.prepend(f):u.find("li").eq(r-1).after(f),0===r&&u.find("li").removeClass("first").eq(r).addClass("first"),r===o.stepCount-1&&u.find("li").removeClass("last").eq(r).addClass("last"),f.children("a").bind("click"+n(e),j)}function k(e,i,o){i.saveState&&t.cookie&&t.cookie(A+d(e),o.currentIndex)}function P(e,i,o,n,s,r){var a=e.find(".content > .body"),l=u(F,i.transitionEffect),p=i.transitionEffectSpeed,d=a.eq(n),c=a.eq(s);switch(l){case F.fade:case F.slide:var f=l===F.fade?"fadeOut":"slideUp",g=l===F.fade?"fadeIn":"slideDown";o.transitionElement=d,c[f](p,function(){var e=h(t(this)._showAria(!1).parent().parent());e.transitionElement&&(e.transitionElement[g](p,function(){t(this)._showAria()}).promise().done(r),e.transitionElement=null)});break;case F.slideLeft:var m=c.outerWidth(!0),v=n>s?-m:m,y=n>s?m:-m;t.when(c.animate({left:v},p,function(){t(this)._showAria(!1)}),d.css("left",y+"px")._showAria().animate({left:0},p)).done(r);break;default:t.when(c._showAria(!1),d._showAria()).done(r)}}function j(e){e.preventDefault();var i=t(this),o=i.parent().parent().parent().parent(),n=a(o),r=h(o),l=r.currentIndex;if(i.parent().is(":not(.disabled):not(.current)")){var p=i.attr("href");!function(t,e,i,o){if((0>o||o>=i.stepCount)&&B(D),!(e.forceMoveForward&&o<i.currentIndex)){var n=i.currentIndex;t.triggerHandler("stepChanging",[i.currentIndex,o])?(i.currentIndex=o,k(t,e,i),C(t,e,i,n),w(t,e,i),y(t,e,i),P(t,e,i,o,n,function(){t.triggerHandler("stepChanged",[o,n])})):t.find(".steps li").eq(n).addClass("error")}}(o,n,r,parseInt(p.substring(p.lastIndexOf("-")+1),0))}return l===r.currentIndex?(s(o,l).focus(),!1):void 0}function B(t){throw arguments.length>1&&(t=t.format(Array.prototype.slice.call(arguments,1))),new Error(t)}function M(t,e){null==e&&B("The argument '{0}' is null or undefined.",t)}t.fn.extend({_aria:function(t,e){return this.attr("aria-"+t,e)},_removeAria:function(t){return this.removeAttr("aria-"+t)},_enableAria:function(t){return null==t||t?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(t){return null==t||t?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(t){return null==t||t?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function(t){return t?this.attr("id",t):this.attr("id")}}),String.prototype.format||(String.prototype.format=function(){for(var e=1===arguments.length&&t.isArray(arguments[0])?arguments[0]:arguments,i=this,o=0;o<e.length;o++){var n=new RegExp("\\{"+o+"\\}","gm");i=i.replace(n,e[o])}return i});var I=0,A="jQu3ry_5teps_St@te_",L="-t-",H="-p-",z="-h-",D="Index out of range.",W="One or more corresponding step {0} are missing.";t.fn.steps=function(e){return t.fn.steps[e]?t.fn.steps[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.steps"):g.apply(this,arguments)},t.fn.steps.add=function(t){var e=h(this);return m(this,a(this),e,e.stepCount,t)},t.fn.steps.destroy=function(){return function(e,i){var o=n(e);e.unbind(o).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(o),e.removeClass(i.clearFixCssClass+" vertical");var s=e.find(".content > *");s.removeData("loaded").removeData("mode").removeData("url"),s.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden"),e.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty();var r=t('<{0} class="{1}"></{0}>'.format(e.get(0).tagName,e.attr("class"))),a=e._id();return null!=a&&""!==a&&r._id(a),r.html(e.find(".content").html()),e.after(r),e.remove(),r}(this,a(this))},t.fn.steps.finish=function(){o(this,h(this))},t.fn.steps.getCurrentIndex=function(){return h(this).currentIndex},t.fn.steps.getCurrentStep=function(){return p(this,h(this).currentIndex)},t.fn.steps.getStep=function(t){return p(this,t)},t.fn.steps.insert=function(t,e){return m(this,a(this),h(this),t,e)},t.fn.steps.next=function(){return c(this,a(this),h(this))},t.fn.steps.previous=function(){return f(this,a(this),h(this))},t.fn.steps.remove=function(t){return T(this,a(this),h(this),t)},t.fn.steps.setStep=function(){throw new Error("Not yet implemented!")},t.fn.steps.skip=function(){throw new Error("Not yet implemented!")};var J=t.fn.steps.contentMode={html:0,iframe:1,async:2},R=t.fn.steps.stepsOrientation={horizontal:0,vertical:1},F=t.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},Q=t.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:J.html,contentLoaded:!1},N=t.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:R.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableCancelButton:!1,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:F.none,transitionEffectSpeed:200,onStepChanging:function(){return!0},onStepChanged:function(){},onCanceled:function(){},onFinishing:function(){return!0},onFinished:function(){},onContentLoaded:function(){},onInit:function(){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}}}(jQuery);var Opentip,firstAdapter,i,mouseMoved,mousePosition,mousePositionObservers,position,vendors,_i,_len,_ref,jconfirm,Jconfirm;__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,o,n){var s,r,a,h,l,p,d,u,c,f,g,m,v,y,b=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,(s=this.adapter.data(e,"opentips")||[]).push(this),this.adapter.data(e,"opentips",s),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw new Error("You can't call Opentip on multiple elements.");if(this.triggerElement.length<1)throw new Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},n=this.adapter.clone(n),"object"==typeof i?(n=i,i=o=void 0):"object"==typeof o&&(n=o,o=void 0),null!=o&&(n.title=o),null!=i&&this.setContent(i),null==n.extends&&(null!=n.style?n.extends=n.style:n.extends=t.defaultStyle),h=[n],y=n;y.extends;){if(p=y.extends,null==(y=t.styles[p]))throw new Error("Invalid style: "+p);h.unshift(y),null==y.extends&&"standard"!==p&&(y.extends="standard")}for((n=(g=this.adapter).extend.apply(g,[{}].concat(__slice.call(h)))).hideTriggers=function(){var t,e,i,o;for(o=[],t=0,e=(i=n.hideTriggers).length;t<e;t++)r=i[t],o.push(r);return o}(),n.hideTrigger&&0===n.hideTriggers.length&&n.hideTriggers.push(n.hideTrigger),d=0,c=(m=["tipJoint","targetJoint","stem"]).length;d<c;d++)n[l=m[d]]&&"string"==typeof n[l]&&(n[l]=new t.Joint(n[l]));for(!n.ajax||!0!==n.ajax&&n.ajax||("A"===this.adapter.tagName(this.triggerElement)?n.ajax=this.adapter.attr(this.triggerElement,"href"):n.ajax=!1),"click"===n.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),n.target&&(n.fixed=!0),!0===n.stem&&(n.stem=new t.Joint(n.tipJoint)),!0===n.target?n.target=this.triggerElement:n.target&&(n.target=this.adapter.wrap(n.target)),this.currentStem=n.stem,null==n.delay&&(n.delay="mouseover"===n.showOn?.2:0),null==n.targetJoint&&(n.targetJoint=new t.Joint(n.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],n.showOn&&"creation"!==n.showOn&&this.showTriggers.push({element:this.triggerElement,event:n.showOn}),null!=n.ajaxCache&&(n.cache=n.ajaxCache,delete n.ajaxCache),this.options=n,this.bound={},u=0,f=(v=["prepareToShow","prepareToHide","show","hide","reposition"]).length;u<f;u++)a=v[u],this.bound[a]=function(t){return function(){return b[t].apply(b,arguments)}}(a);this.adapter.domReady(function(){if(b.activate(),"creation"===b.options.showOn)return b.prepareToShow()})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype.class={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,n,s,r,a,h,l,p;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],o=n=0,r=(h=this.options.hideTriggers).length;n<r;o=++n){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw new Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=[],s=0,a=(l=this.hideTriggers).length;s<a;s++)e=l[s],p.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return p},t.prototype._buildContainer=function(){if(this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this.class.container+" "+this.class.hidden+" "+this.class.stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this.class.loading),this.options.fixed&&this.adapter.addClass(this.container,this.class.fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this.class.showEffectPrefix+this.options.showEffect),this.options.hideEffect)return this.adapter.addClass(this.container,""+this.class.hideEffectPrefix+this.options.hideEffect)},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this.class.opentip+'"><div class="'+this.class.header+'"></div><div class="'+this.class.content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this.class.header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this.class.loadingIndicator+'"><span>↻</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this.class.close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){if(this.content=t,this._newContent=!0,"function"==typeof this.content?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible)return this._updateElementContent()},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(null!=(t=this.adapter.find(this.container,"."+this.class.content))&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:this.dimensions.width+"px",top:this.currentPosition.top+"px",left:this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m=this;for(s=0,l=(o=1<=arguments.length?__slice.call(arguments,0):[]).length;s<l;s++)if(i=o[s],e=!1,"-"===i.charAt(0)&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=1<=arguments.length?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case"showing":for(r=0,p=(c=this.hideTriggers).length;r<p;r++)t((n=c[r]).element,n.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(a=0,d=(f=this.showTriggersWhenVisible).length;a<d;a++)t((n=f[a]).element,n.event,this.bound.prepareToShow);break;case"hiding":for(h=0,u=(g=this.showTriggers).length;h<u;h++)t((n=g[h]).element,n.event,this.bound.prepareToShow);break;case"hidden":break;default:throw new Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){if(this._abortHiding(),this._abortShowing(),!this.visible)return this.debug("Showing in "+this.options.delay+"s."),null==this.container&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0)},t.prototype.show=function(){var e=this;if(this._abortHiding(),!this.visible)return this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),null==this.container&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this.class.hiding),this.adapter.removeClass(this.container,this.class.hidden),this.adapter.addClass(this.container,this.class.goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e.class.goingToShow),e.adapter.addClass(e.container,e.class.showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e.class.showing),e.adapter.addClass(e.container,e.class.visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate()},t.prototype._abortShowing=function(){if(this.preparingToShow)return this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")},t.prototype.prepareToHide=function(){if(this._abortShowing(),this._abortHiding(),this.visible)return this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)},t.prototype.hide=function(){var t=this;if(this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container))return this.adapter.removeClass(this.container,this.class.visible),this.adapter.removeClass(this.container,this.class.showing),this.adapter.addClass(this.container,this.class.goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t.class.goingToHide),t.adapter.addClass(t.container,t.class.hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){if(t.adapter.removeClass(t.container,t.class.hiding),t.adapter.addClass(t.container,t.class.hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide)return t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement},e)})},t.prototype._abortHiding=function(){if(this.preparingToHide)return this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")},t.prototype.reposition=function(){var t,e,i,o=this;if(null!=(t=this.getPosition())&&(e=this.options.stem,this.options.containInViewport&&(t=(i=this._ensureViewportContainment(t)).position,e=i.stem),!this._positionsEqual(t,this.currentPosition)))return this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:t.left+"px",top:t.top+"px"}),this.defer(function(){var t;return(t=o.adapter.unwrap(o.container)).style.visibility="hidden",t.offsetHeight,t.style.visibility="visible"})},t.prototype.getPosition=function(t,e,i){var o,n,s,r,a,h,l,p,d;if(this.container)return null==t&&(t=this.options.tipJoint),null==e&&(e=this.options.targetJoint),r={},this.options.target?(l=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=l,e.right?null!=(p=this.adapter.unwrap(this.options.target)).getBoundingClientRect?r.left=p.getBoundingClientRect().right+(null!=(d=window.pageXOffset)?d:document.body.scrollLeft):r.left+=h.width:e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(s=(a=this.options.stem?this.options.stemLength:0)&&this.options.fixed?2:10,o=t.middle&&!this.options.fixed?15:0,n=t.center&&!this.options.fixed?15:0,t.right?r.left-=s+o:t.left&&(r.left+=s+o),t.bottom?r.top-=s+n:t.top&&(r.top+=s+n),a&&(null==i&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,n,s,r,a,h,l,p,d,u;if(n={position:e,stem:h=this.options.stem},!this.visible||!e)return n;if(!(l=this._sticksOut(e))[0]&&!l[1])return n;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(p=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),e.left,a[0],e.top,a[1],i=!1,u.width>=this.dimensions.width&&l[0])switch(i=!0,l[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&p.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&p.setHorizontal("left")}if(u.height>=this.dimensions.height&&l[1])switch(i=!0,l[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&p.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&p.setVertical("top")}return i?(this.options.stem&&(h=d),e=this.getPosition(d,p,h),s=!1,r=!1,(o=this._sticksOut(e))[0]&&o[0]!==l[0]&&(s=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&p.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==l[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&p.setVertical(this.options.targetJoint.vertical)),s&&r?n:((s||r)&&(this.options.stem&&(h=d),e=this.getPosition(d,p,h)),{position:e,stem:h})):n},t.prototype._sticksOut=function(t){var e,i,o,n;return i=this.adapter.scrollOffset(),n=this.adapter.viewportDimensions(),o=[!1,!1],(e=[t.left-i[0],t.top-i[1]])[0]<0?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>n.width&&(o[0]=this.STICKS_OUT_RIGHT),e[1]<0?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>n.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,n,s,r,a,h,l,p,d,u,c,f,g,m,v,y,b,_=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(g=0,m=(v=["top","right","bottom","left"]).length;g<m;g++)u=v[g],this.adapter.removeClass(this.container,"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(s=new t.Joint("top right"===(null!=(y=this.currentStem)?y.toString():void 0)?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),n=[0,0],this.options.borderWidth&&(o.width+=2*this.options.borderWidth,o.height+=2*this.options.borderWidth,n[0]-=this.options.borderWidth,n[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=2*this.options.shadowBlur,o.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),o.height+=2*this.options.shadowBlur,o.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),n[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),n[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),s&&(s.left?i.left=Math.max(i.left,a[0]):s.right&&(i.right=Math.max(i.right,a[0])),s.top?i.top=Math.max(i.top,a[1]):s.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,n[0]-=i.left,n[1]-=i.top,this.currentStem&&this.options.borderWidth&&(b=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=b.stemLength,c=b.stemBase),(e=this.adapter.unwrap(this.backgroundCanvas)).width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:e.width+"px",height:e.height+"px",left:n[0]+"px",top:n[1]+"px"}),(h=e.getContext("2d")).setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(f=this.options.stemLength,c=this.options.stemBase),null==c&&(c=0),p=function(t,e,i){if(i&&h.moveTo(Math.max(c,_.options.borderRadius,r[0])+1-d,-d),e)return h.lineTo(t/2-c/2,-d),h.lineTo(t/2,-f-d),h.lineTo(t/2+c/2,-d)},l=function(t,e,i){var o,n,s,a;return t?(h.lineTo(-c+d,0-d),h.lineTo(f+d,-f-d),h.lineTo(d,c-d)):e?(a=_.options.closeButtonOffset,s=r[0],i%2!=0&&(a=[a[1],a[0]],s=r[1]),o=Math.acos(a[1]/_.options.closeButtonRadius),n=Math.acos(a[0]/_.options.closeButtonRadius),h.lineTo(-s+d,-d),h.arc(d-a[0],-d+a[1],_.options.closeButtonRadius,-(Math.PI/2+o),n,!1)):(h.lineTo(-_.options.borderRadius+d,-d),h.quadraticCurveTo(d,-d,d,_.options.borderRadius-d))},h.translate(-n[0],-n[1]),h.save(),function(){var e,i,o,n,r,a,d,u,c,f,g;for(g=[],i=c=0,f=t.positions.length/2;0<=f?c<f:c>f;i=0<=f?++c:--c)r=2*i,a=0===i||3===i?0:_.dimensions.width,d=i<2?0:_.dimensions.height,u=Math.PI/2*i,o=i%2==0?_.dimensions.width:_.dimensions.height,n=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,d),h.rotate(u),p(o,n.eql(_.currentStem),0===i),h.translate(o,0),l(e.eql(_.currentStem),e.eql(s),i),g.push(h.restore())}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),s?function(){var t,e,i;return _.options.closeButtonRadius,t="top right"===s.toString()?[(i=[_.dimensions.width-_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]+d,i[1]-d]:[(i=[_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]])[0]-d,i[1]-d],h.translate(t[0],t[1]),e=_.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=_.options.closeButtonCrossColor,h.lineWidth=_.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-e,-e),h.lineTo(e,e),h.stroke(),h.beginPath(),h.moveTo(e,-e),h.lineTo(-e,e),h.stroke(),h.restore(),_.adapter.css(_.closeButtonElement,{left:i[0]-e-_.options.closeButtonLinkOverscan+"px",top:i[1]-e-_.options.closeButtonLinkOverscan+"px",width:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px",height:_.options.closeButtonCrossSize+2*_.options.closeButtonLinkOverscan+"px"})}():void 0}},t.prototype._getPathStemMeasures=function(t,e,i){var o,n,s,r;if(s=i/2,o=2*(n=Math.atan(t/2/e)),(r=s+e-2*(s/Math.sin(o))*Math.cos(n))<0)throw new Error("Sorry but your stemLength / stemBase ratio is strange.");return{stemLength:r,stemBase:Math.tan(n)*r*2}},t.prototype._getColor=function(t,e,i,o){var n,s,r,a,h;if(null==o&&(o=!1),"string"==typeof i)return i;for(s=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;a<h;r=++a)n=i[r],s.addColorStop(n[0],n[1]);return s},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(e=0,i=(o=this.adapter.findAll(this.container,"."+this.class.close)).length;e<i;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});if(this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible)return this._setupObservers("-visible","visible")},t.prototype._activateFirstInput=function(){var t;return null!=(t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")))&&"function"==typeof t.focus?t.focus():void 0},t.prototype._followMousePosition=function(){if(!this.options.fixed)return t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){if(!this.options.fixed)return t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this.class.loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t.class.loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t.class.ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t.class.loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){if(!this._triggerElementExists())return this.deactivate(),this._stopEnsureTriggerElement()},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,n,s,r;for(i in t=this.adapter.unwrap(t),r=[],e)__hasProp.call(e,i)&&(o=e[i],null!=t.style[i]?r.push(t.style[i]=o):r.push(function(){var e,r,a;for(a=[],e=0,r=vendors.length;e<r;e++)n=vendors[e],s=""+this.ucfirst(n)+this.ucfirst(i),null!=t.style[s]?a.push(t.style[s]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,n;for(mousePosition=Opentip.adapter.mousePosition(t),n=[],i=0,o=mousePositionObservers.length;i<o;i++)e=mousePositionObservers[i],n.push(e());return n},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,o,n;for(n=[],i=0,o=mousePositionObservers.length;i<o;i++)(e=mousePositionObservers[i])!==t&&n.push(e);return n}()},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t=t.toString()),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["left","center","right"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,n,s,r,a;for(o=0,s=(i=["top","middle","bottom"]).length;o<s;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],n=0,r=i.length;n<r;n++)e=i[n],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t;return t=(Opentip.position[this.toString(!0)]+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return null==t&&(t=!1),i="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;if(t=1<=arguments.length?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0))return t.unshift("#"+this.id+" |"),console.debug.apply(console,t)},Opentip.findElements=function(){var t,e,i,o,n,s,r,a,h,l;for(l=[],r=0,a=(h=(t=Opentip.adapter).findAll(document.body,"[data-ot]")).length;r<a;r++){for(o in i=h[r],s={},""!==(e=t.data(i,"ot"))&&"true"!==e&&"yes"!==e||(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"",Opentip.styles.standard)null!=(n=t.data(i,"ot"+Opentip.prototype.ucfirst(o)))&&("yes"===n||"true"===n||"on"===n?n=!0:"no"!==n&&"false"!==n&&"off"!==n||(n=!1),s[o]=n);l.push(new Opentip(i,e,s))}return l},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,n,s,r;for(r=[],o=0,n=(s=Opentip.tips).length;o<n;o++)(i=s[o])!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){if(Opentip.adapters[t.name]=t,firstAdapter)return Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},i=_i=0,_len=(_ref=Opentip.positions).length;_i<_len;i=++_i)position=_ref[i],Opentip.position[position]=i;if(Opentip.styles={standard:{extends:null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{extends:"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{extends:"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{extends:"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip,__slice=[].slice,function(t){var e;t.fn.opentip=function(t,e,i){return new Opentip(this,t,e,i)},e=function(){function e(){}return e.prototype.name="jquery",e.prototype.domReady=function(e){return t(e)},e.prototype.create=function(e){return t(e)},e.prototype.wrap=function(e){if((e=t(e)).length>1)throw new Error("Multiple elements provided.");return e},e.prototype.unwrap=function(e){return t(e)[0]},e.prototype.tagName=function(t){return this.unwrap(t).tagName},e.prototype.attr=function(){var e,i,o;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],(o=t(i)).attr.apply(o,e)},e.prototype.data=function(){var e,i,o;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],(o=t(i)).data.apply(o,e)},e.prototype.find=function(e,i){return t(e).find(i).get(0)},e.prototype.findAll=function(e,i){return t(e).find(i)},e.prototype.update=function(e,i,o){return e=t(e),o?e.text(i):e.html(i)},e.prototype.append=function(e,i){return t(e).append(i)},e.prototype.remove=function(e){return t(e).remove()},e.prototype.addClass=function(e,i){return t(e).addClass(i)},e.prototype.removeClass=function(e,i){return t(e).removeClass(i)},e.prototype.css=function(e,i){return t(e).css(i)},e.prototype.dimensions=function(e){return{width:t(e).outerWidth(),height:t(e).outerHeight()}},e.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},e.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},e.prototype.mousePosition=function(t){return null==t?null:{x:t.pageX,y:t.pageY}},e.prototype.offset=function(e){var i;return{left:(i=t(e).offset()).left,top:i.top}},e.prototype.observe=function(e,i,o){return t(e).bind(i,o)},e.prototype.stopObserving=function(e,i,o){return t(e).unbind(i,o)},e.prototype.ajax=function(e){var i,o;if(null==e.url)throw new Error("No url provided");return t.ajax({url:e.url,type:null!=(i=null!=(o=e.method)?o.toUpperCase():void 0)?i:"GET"}).done(function(t){return"function"==typeof e.onSuccess?e.onSuccess(t):void 0}).fail(function(t){return"function"==typeof e.onError?e.onError("Server responded with status "+t.status):void 0}).always(function(){return"function"==typeof e.onComplete?e.onComplete():void 0})},e.prototype.clone=function(e){return t.extend({},e)},e.prototype.extend=function(){var e,i;return i=arguments[0],e=2<=arguments.length?__slice.call(arguments,1):[],t.extend.apply(t,[i].concat(__slice.call(e)))},e}(),Opentip.addAdapter(new e)}(jQuery),"undefined"==typeof jQuery)throw new Error("jquery-confirm requires jQuery");!function(t,e){"use strict";t.fn.confirm=function(e,i){return void 0===e&&(e={}),"string"==typeof e&&(e={content:e,title:i||!1}),t(this).each(function(){var i=t(this);i.attr("jc-attached")?console.warn("jConfirm has already been attached to this element ",i[0]):(i.on("click",function(o){o.preventDefault();var n=t.extend({},e);if(i.attr("data-title")&&(n.title=i.attr("data-title")),i.attr("data-content")&&(n.content=i.attr("data-content")),void 0===n.buttons&&(n.buttons={}),n.$target=i,i.attr("href")&&0==Object.keys(n.buttons).length){var s=t.extend(!0,{},jconfirm.pluginDefaults.defaultButtons,(jconfirm.defaults||{}).defaultButtons||{}),r=Object.keys(s)[0];n.buttons=s,n.buttons[r].action=function(){location.href=i.attr("href")}}n.closeIcon=!1,t.confirm(n)}),i.attr("jc-attached",!0))}),t(this)},t.confirm=function(e,i){if(void 0===e&&(e={}),"string"==typeof e&&(e={content:e,title:i||!1}),"object"!=typeof e.buttons&&(e.buttons={}),0==Object.keys(e.buttons).length){var o=t.extend(!0,{},jconfirm.pluginDefaults.defaultButtons,(jconfirm.defaults||{}).defaultButtons||{});e.buttons=o}return jconfirm(e)},t.alert=function(e,i){if(void 0===e&&(e={}),"string"==typeof e&&(e={content:e,title:i||!1}),"object"!=typeof e.buttons&&(e.buttons={}),0==Object.keys(e.buttons).length){var o=t.extend(!0,{},jconfirm.pluginDefaults.defaultButtons,(jconfirm.defaults||{}).defaultButtons||{}),n=Object.keys(o)[0];e.buttons[n]=o[n]}return jconfirm(e)},t.dialog=function(t,e){return void 0===t&&(t={}),"string"==typeof t&&(t={content:t,title:e||!1,closeIcon:function(){}}),t.buttons={},void 0===t.closeIcon&&(t.closeIcon=function(){}),t.confirmKeys=[13],jconfirm(t)},jconfirm=function(e){void 0===e&&(e={});var i=t.extend(!0,{},jconfirm.pluginDefaults);jconfirm.defaults&&(i=t.extend(!0,i,jconfirm.defaults)),i=t.extend(!0,{},i,e);var o=new Jconfirm(i);return jconfirm.instances.push(o),o},(Jconfirm=function(e){t.extend(this,e),this._init()}).prototype={_init:function(){var e=this;jconfirm.instances.length||(jconfirm.lastFocused=t("body").find(":focus")),this._id=Math.round(99999*Math.random()),this.contentParsed=t(document.createElement("div")),this.lazyOpen||setTimeout(function(){e.open()},0)},_buildHTML:function(){var e=this;this._parseAnimation(this.animation,"o"),this._parseAnimation(this.closeAnimation,"c"),this._parseBgDismissAnimation(this.backgroundDismissAnimation),this._parseColumnClass(this.columnClass),this._parseTheme(this.theme),this._parseType(this.type);var i=t(this.template);i.find(".jconfirm-box").addClass(this.animationParsed).addClass(this.backgroundDismissAnimationParsed).addClass(this.typeParsed),this.typeAnimated&&i.find(".jconfirm-box").addClass("jconfirm-type-animated"),this.useBootstrap?(i.find(".jc-bs3-row").addClass(this.bootstrapClasses.row),i.find(".jc-bs3-row").addClass("justify-content-md-center justify-content-sm-center justify-content-xs-center justify-content-lg-center"),i.find(".jconfirm-box-container").addClass(this.columnClassParsed),this.containerFluid?i.find(".jc-bs3-container").addClass(this.bootstrapClasses.containerFluid):i.find(".jc-bs3-container").addClass(this.bootstrapClasses.container)):i.find(".jconfirm-box").css("width",this.boxWidth),this.titleClass&&i.find(".jconfirm-title-c").addClass(this.titleClass),i.addClass(this.themeParsed);var o="jconfirm-box"+this._id;i.find(".jconfirm-box").attr("aria-labelledby",o).attr("tabindex",-1),i.find(".jconfirm-content").attr("id",o),null!==this.bgOpacity&&i.find(".jconfirm-bg").css("opacity",this.bgOpacity),this.rtl&&i.addClass("jconfirm-rtl"),this.$el=i.appendTo(this.container),this.$jconfirmBoxContainer=this.$el.find(".jconfirm-box-container"),this.$jconfirmBox=this.$body=this.$el.find(".jconfirm-box"),this.$jconfirmBg=this.$el.find(".jconfirm-bg"),this.$title=this.$el.find(".jconfirm-title"),this.$titleContainer=this.$el.find(".jconfirm-title-c"),this.$content=this.$el.find("div.jconfirm-content"),this.$contentPane=this.$el.find(".jconfirm-content-pane"),this.$icon=this.$el.find(".jconfirm-icon-c"),this.$closeIcon=this.$el.find(".jconfirm-closeIcon"),this.$holder=this.$el.find(".jconfirm-holder"),this.$btnc=this.$el.find(".jconfirm-buttons"),this.$scrollPane=this.$el.find(".jconfirm-scrollpane"),e.setStartingPoint(),this._contentReady=t.Deferred(),this._modalReady=t.Deferred(),this.$holder.css({"padding-top":this.offsetTop,"padding-bottom":this.offsetBottom}),this.setTitle(),this.setIcon(),this._setButtons(),this._parseContent(),this.initDraggable(),this.isAjax&&this.showLoading(!1),t.when(this._contentReady,this._modalReady).then(function(){e.isAjaxLoading?setTimeout(function(){e.isAjaxLoading=!1,e.setContent(),e.setTitle(),e.setIcon(),setTimeout(function(){e.hideLoading(!1),e._updateContentMaxHeight()},100),"function"==typeof e.onContentReady&&e.onContentReady()},50):(e._updateContentMaxHeight(),e.setTitle(),e.setIcon(),"function"==typeof e.onContentReady&&e.onContentReady()),e.autoClose&&e._startCountDown()}),this._watchContent(),"none"===this.animation&&(this.animationSpeed=1,this.animationBounce=1),this.$body.css(this._getCSS(this.animationSpeed,this.animationBounce)),this.$contentPane.css(this._getCSS(this.animationSpeed,1)),this.$jconfirmBg.css(this._getCSS(this.animationSpeed,1)),this.$jconfirmBoxContainer.css(this._getCSS(this.animationSpeed,1))},_typePrefix:"jconfirm-type-",typeParsed:"",_parseType:function(t){this.typeParsed=this._typePrefix+t},setType:function(t){var e=this.typeParsed;this._parseType(t),this.$jconfirmBox.removeClass(e).addClass(this.typeParsed)},themeParsed:"",_themePrefix:"jconfirm-",setTheme:function(t){var e=this.theme;this.theme=t||this.theme,this._parseTheme(this.theme),e&&this.$el.removeClass(e),this.$el.addClass(this.themeParsed),this.theme=t},_parseTheme:function(e){var i=this;e=e.split(","),t.each(e,function(o,n){-1===n.indexOf(i._themePrefix)&&(e[o]=i._themePrefix+t.trim(n))}),this.themeParsed=e.join(" ").toLowerCase()},backgroundDismissAnimationParsed:"",_bgDismissPrefix:"jconfirm-hilight-",_parseBgDismissAnimation:function(e){var i=e.split(","),o=this;t.each(i,function(e,n){-1===n.indexOf(o._bgDismissPrefix)&&(i[e]=o._bgDismissPrefix+t.trim(n))}),this.backgroundDismissAnimationParsed=i.join(" ").toLowerCase()},animationParsed:"",closeAnimationParsed:"",_animationPrefix:"jconfirm-animation-",setAnimation:function(t){this.animation=t||this.animation,this._parseAnimation(this.animation,"o")},_parseAnimation:function(e,i){i=i||"o";var o=e.split(","),n=this;t.each(o,function(e,i){-1===i.indexOf(n._animationPrefix)&&(o[e]=n._animationPrefix+t.trim(i))});var s=o.join(" ").toLowerCase();return"o"===i?this.animationParsed=s:this.closeAnimationParsed=s,s},setCloseAnimation:function(t){this.closeAnimation=t||this.closeAnimation,this._parseAnimation(this.closeAnimation,"c")},setAnimationSpeed:function(t){this.animationSpeed=t||this.animationSpeed},columnClassParsed:"",setColumnClass:function(t){this.useBootstrap?(this.columnClass=t||this.columnClass,this._parseColumnClass(this.columnClass),this.$jconfirmBoxContainer.addClass(this.columnClassParsed)):console.warn("cannot set columnClass, useBootstrap is set to false")},_updateContentMaxHeight:function(){var i=t(e).height()-(this.$jconfirmBox.outerHeight()-this.$contentPane.outerHeight())-(this.offsetTop+this.offsetBottom);this.$contentPane.css({"max-height":i+"px"})},setBoxWidth:function(t){this.useBootstrap?console.warn("cannot set boxWidth, useBootstrap is set to true"):(this.boxWidth=t,this.$jconfirmBox.css("width",t))},_parseColumnClass:function(t){var e;switch(t=t.toLowerCase()){case"xl":case"xlarge":e="col-md-12";break;case"l":case"large":e="col-md-8 col-md-offset-2";break;case"m":case"medium":e="col-md-6 col-md-offset-3";break;case"s":case"small":e="col-md-4 col-md-offset-4";break;case"xs":case"xsmall":e="col-md-2 col-md-offset-5";break;default:e=t}this.columnClassParsed=e},initDraggable:function(){var i=this,o=this.$titleContainer;this.resetDrag(),this.draggable&&(o.on("mousedown",function(t){o.addClass("jconfirm-hand"),i.mouseX=t.clientX,i.mouseY=t.clientY,i.isDrag=!0}),t(e).on("mousemove."+this._id,function(t){i.isDrag&&(i.movingX=t.clientX-i.mouseX+i.initialX,i.movingY=t.clientY-i.mouseY+i.initialY,i.setDrag())}),t(e).on("mouseup."+this._id,function(){o.removeClass("jconfirm-hand"),i.isDrag&&(i.isDrag=!1,i.initialX=i.movingX,i.initialY=i.movingY)}))},resetDrag:function(){this.isDrag=!1,this.initialX=0,this.initialY=0,this.movingX=0,this.movingY=0,this.mouseX=0,this.mouseY=0,this.$jconfirmBoxContainer.css("transform","translate(0px, 0px)")},setDrag:function(){if(this.draggable){this.alignMiddle=!1;var i=this.$jconfirmBox.outerWidth(),o=this.$jconfirmBox.outerHeight(),n=t(e).width(),s=t(e).height(),r=this;if(r.movingX%1==0||r.movingY%1==0){if(r.dragWindowBorder){var a=n/2-i/2,h=s/2-o/2;h-=r.dragWindowGap,(a-=r.dragWindowGap)+r.movingX<0?r.movingX=-a:a-r.movingX<0&&(r.movingX=a),h+r.movingY<0?r.movingY=-h:h-r.movingY<0&&(r.movingY=h)}r.$jconfirmBoxContainer.css("transform","translate("+r.movingX+"px, "+r.movingY+"px)")}}},_scrollTop:function(){if("undefined"!=typeof pageYOffset)return pageYOffset;var t=document.body,e=document.documentElement;return(e=e.clientHeight?e:t).scrollTop},_watchContent:function(){var i=this;this._timer&&clearInterval(this._timer);var o=0;this._timer=setInterval(function(){if(i.smoothContent){var n=i.$content.outerHeight()||0;n!==o&&(i.$contentPane.css({height:n}).scrollTop(0),o=n);var s=t(e).height();i.offsetTop+i.offsetBottom+i.$jconfirmBox.height()-i.$contentPane.height()+i.$content.height()<s?i.$contentPane.addClass("no-scroll"):i.$contentPane.removeClass("no-scroll")}},this.watchInterval)},_overflowClass:"jconfirm-overflow",_hilightAnimating:!1,highlight:function(){this.hiLightModal()},hiLightModal:function(){var t=this;if(!this._hilightAnimating){t.$body.addClass("hilight");var e=parseFloat(t.$body.css("animation-duration"))||2;this._hilightAnimating=!0,setTimeout(function(){t._hilightAnimating=!1,t.$body.removeClass("hilight")},1e3*e)}},_bindEvents:function(){var i=this;this.boxClicked=!1,this.$scrollPane.click(function(t){if(!i.boxClicked){var e,o=!1,n=!1;if("string"==typeof(e="function"==typeof i.backgroundDismiss?i.backgroundDismiss():i.backgroundDismiss)&&void 0!==i.buttons[e]?(o=e,n=!1):n=void 0===e||1==!!e,o){var s=i.buttons[o].action.apply(i);n=void 0===s||!!s}n?i.close():i.hiLightModal()}i.boxClicked=!1}),this.$jconfirmBox.click(function(t){i.boxClicked=!0});var o=!1;t(e).on("jcKeyDown."+i._id,function(t){o||(o=!0)}),t(e).on("keyup."+i._id,function(t){o&&(i.reactOnKey(t),o=!1)}),t(e).on("resize."+this._id,function(){i._updateContentMaxHeight(),setTimeout(function(){i.resetDrag()},100)})},_cubic_bezier:"0.36, 0.55, 0.19",_getCSS:function(t,e){return{"-webkit-transition-duration":t/1e3+"s","transition-duration":t/1e3+"s","-webkit-transition-timing-function":"cubic-bezier("+this._cubic_bezier+", "+e+")","transition-timing-function":"cubic-bezier("+this._cubic_bezier+", "+e+")"}},_setButtons:function(){var e=this,i=0;if("object"!=typeof this.buttons&&(this.buttons={}),t.each(this.buttons,function(o,n){i+=1,"function"==typeof n&&(e.buttons[o]=n={action:n}),e.buttons[o].text=n.text||o,e.buttons[o].btnClass=n.btnClass||"btn-default",e.buttons[o].action=n.action||function(){},e.buttons[o].keys=n.keys||[],e.buttons[o].isHidden=n.isHidden||!1,e.buttons[o].isDisabled=n.isDisabled||!1,t.each(e.buttons[o].keys,function(t,i){e.buttons[o].keys[t]=i.toLowerCase()});var s=t('<button type="button" class="btn"></button>').html(e.buttons[o].text).addClass(e.buttons[o].btnClass).prop("disabled",e.buttons[o].isDisabled).css("display",e.buttons[o].isHidden?"none":"").click(function(t){t.preventDefault();var i=e.buttons[o].action.apply(e,[e.buttons[o]]);e.onAction.apply(e,[o,e.buttons[o]]),e._stopCountDown(),(void 0===i||i)&&e.close()});e.buttons[o].el=s,e.buttons[o].setText=function(t){s.html(t)},e.buttons[o].addClass=function(t){s.addClass(t)},e.buttons[o].removeClass=function(t){s.removeClass(t)},e.buttons[o].disable=function(){e.buttons[o].isDisabled=!0,s.prop("disabled",!0)},e.buttons[o].enable=function(){e.buttons[o].isDisabled=!1,s.prop("disabled",!1)},e.buttons[o].show=function(){e.buttons[o].isHidden=!1,s.css("display","")},e.buttons[o].hide=function(){e.buttons[o].isHidden=!0,s.css("display","none")},e["$_"+o]=e["$$"+o]=s,e.$btnc.append(s)}),0===i&&this.$btnc.hide(),null===this.closeIcon&&0===i&&(this.closeIcon=!0),this.closeIcon){if(this.closeIconClass){var o='<i class="'+this.closeIconClass+'"></i>';this.$closeIcon.html(o)}this.$closeIcon.click(function(t){t.preventDefault();var i,o=!1,n=!1;if("string"==typeof(i="function"==typeof e.closeIcon?e.closeIcon():e.closeIcon)&&void 0!==e.buttons[i]?(o=i,n=!1):n=void 0===i||1==!!i,o){var s=e.buttons[o].action.apply(e);n=void 0===s||!!s}n&&e.close()}),this.$closeIcon.show()}else this.$closeIcon.hide()},setTitle:function(t,e){if(e=e||!1,void 0!==t)if("string"==typeof t)this.title=t;else if("function"==typeof t){"function"==typeof t.promise&&console.error("Promise was returned from title function, this is not supported.");var i=t();this.title="string"==typeof i&&i}else this.title=!1;this.isAjaxLoading&&!e||(this.$title.html(this.title||""),this.updateTitleContainer())},setIcon:function(t,e){if(e=e||!1,void 0!==t)if("string"==typeof t)this.icon=t;else if("function"==typeof t){var i=t();this.icon="string"==typeof i&&i}else this.icon=!1;this.isAjaxLoading&&!e||(this.$icon.html(this.icon?'<i class="'+this.icon+'"></i>':""),this.updateTitleContainer())},updateTitleContainer:function(){this.title||this.icon?this.$titleContainer.show():this.$titleContainer.hide()},setContentPrepend:function(t,e){t&&this.contentParsed.prepend(t)},setContentAppend:function(t){t&&this.contentParsed.append(t)},setContent:function(t,e){e=!!e;var i=this;t&&this.contentParsed.html("").append(t),this.isAjaxLoading&&!e||(this.$content.html(""),this.$content.append(this.contentParsed),setTimeout(function(){i.$body.find("input[autofocus]:visible:first").focus()},100))},loadingSpinner:!1,showLoading:function(t){this.loadingSpinner=!0,this.$jconfirmBox.addClass("loading"),t&&this.$btnc.find("button").prop("disabled",!0)},hideLoading:function(t){this.loadingSpinner=!1,this.$jconfirmBox.removeClass("loading"),t&&this.$btnc.find("button").prop("disabled",!1)},ajaxResponse:!1,contentParsed:"",isAjax:!1,isAjaxLoading:!1,_parseContent:function(){var e=this,i="&nbsp;";if("function"==typeof this.content){var o=this.content.apply(this);"string"==typeof o?this.content=o:"object"==typeof o&&"function"==typeof o.always?(this.isAjax=!0,this.isAjaxLoading=!0,o.always(function(t,i,o){e.ajaxResponse={data:t,status:i,xhr:o},e._contentReady.resolve(t,i,o),"function"==typeof e.contentLoaded&&e.contentLoaded(t,i,o)}),this.content=i):this.content=i}if("string"==typeof this.content&&"url:"===this.content.substr(0,4).toLowerCase()){this.isAjax=!0,this.isAjaxLoading=!0;var n=this.content.substring(4,this.content.length);t.get(n).done(function(t){e.contentParsed.html(t)}).always(function(t,i,o){e.ajaxResponse={data:t,status:i,xhr:o},e._contentReady.resolve(t,i,o),"function"==typeof e.contentLoaded&&e.contentLoaded(t,i,o)})}this.content||(this.content=i),this.isAjax||(this.contentParsed.html(this.content),this.setContent(),e._contentReady.resolve())},_stopCountDown:function(){clearInterval(this.autoCloseInterval),this.$cd&&this.$cd.remove()},_startCountDown:function(){var e=this,i=this.autoClose.split("|");if(2!==i.length)return console.error("Invalid option for autoClose. example 'close|10000'"),!1;var o=i[0],n=parseInt(i[1]);if(void 0===this.buttons[o])return console.error("Invalid button key '"+o+"' for autoClose"),!1;var s=Math.ceil(n/1e3);this.$cd=t('<span class="countdown"> ('+s+")</span>").appendTo(this["$_"+o]),this.autoCloseInterval=setInterval(function(){e.$cd.html(" ("+(s-=1)+") "),s<=0&&(e["$$"+o].trigger("click"),e._stopCountDown())},1e3)},_getKey:function(t){switch(t){case 192:return"tilde";case 13:return"enter";case 16:return"shift";case 9:return"tab";case 20:return"capslock";case 17:return"ctrl";case 91:return"win";case 18:return"alt";case 27:return"esc";case 32:return"space"}var e=String.fromCharCode(t);return!!/^[A-z0-9]+$/.test(e)&&e.toLowerCase()},reactOnKey:function(e){var i=this,o=t(".jconfirm");if(o.eq(o.length-1)[0]!==this.$el[0])return!1;var n=e.which;if(this.$content.find(":input").is(":focus")&&/13|32/.test(n))return!1;var s=this._getKey(n);if("esc"===s&&this.escapeKey)if(!0===this.escapeKey)this.$scrollPane.trigger("click");else if("string"==typeof this.escapeKey||"function"==typeof this.escapeKey){var r;(r="function"==typeof this.escapeKey?this.escapeKey():this.escapeKey)&&(void 0===this.buttons[r]?console.warn("Invalid escapeKey, no buttons found with key "+r):this["$_"+r].trigger("click"))}t.each(this.buttons,function(t,e){-1!=e.keys.indexOf(s)&&i["$_"+t].trigger("click")})},setDialogCenter:function(){console.info("setDialogCenter is deprecated, dialogs are centered with CSS3 tables")},_unwatchContent:function(){clearInterval(this._timer)},close:function(){var i=this;return"function"==typeof this.onClose&&this.onClose(),this._unwatchContent(),t(e).unbind("resize."+this._id),t(e).unbind("keyup."+this._id),t(e).unbind("jcKeyDown."+this._id),this.draggable&&(t(e).unbind("mousemove."+this._id),t(e).unbind("mouseup."+this._id),this.$titleContainer.unbind("mousedown")),i.$el.removeClass(i.loadedClass),t("body").removeClass("jconfirm-no-scroll-"+i._id),i.$jconfirmBoxContainer.removeClass("jconfirm-no-transition"),setTimeout(function(){i.$body.addClass(i.closeAnimationParsed),i.$jconfirmBg.addClass("jconfirm-bg-h");var o="none"===i.closeAnimation?1:i.animationSpeed;setTimeout(function(){i.$el.remove(),jconfirm.instances;for(var o=jconfirm.instances.length-1;o>=0;o--)jconfirm.instances[o]._id===i._id&&jconfirm.instances.splice(o,1);if(!jconfirm.instances.length&&i.scrollToPreviousElement&&jconfirm.lastFocused&&jconfirm.lastFocused.length&&t.contains(document,jconfirm.lastFocused[0])){var n=jconfirm.lastFocused;if(i.scrollToPreviousElementAnimate){var s=t(e).scrollTop(),r=jconfirm.lastFocused.offset().top,a=t(e).height();if(r>s&&r<s+a)n.focus();else{var h=r-Math.round(a/3);t("html, body").animate({scrollTop:h},i.animationSpeed,"swing",function(){n.focus()})}}else n.focus();jconfirm.lastFocused=!1}"function"==typeof i.onDestroy&&i.onDestroy()},.4*o)},50),!0},open:function(){return!this.isOpen()&&(this._buildHTML(),this._bindEvents(),this._open(),!0)},setStartingPoint:function(){var i=!1;if(!0!==this.animateFromElement&&this.animateFromElement)i=this.animateFromElement,jconfirm.lastClicked=!1;else{if(!jconfirm.lastClicked||!0!==this.animateFromElement)return!1;i=jconfirm.lastClicked,jconfirm.lastClicked=!1}if(!i)return!1;var o=i.offset(),n=i.outerHeight()/2,s=i.outerWidth()/2;n-=this.$jconfirmBox.outerHeight()/2,s-=this.$jconfirmBox.outerWidth()/2;var r=o.top+n;r-=this._scrollTop();var a=o.left+s,h=t(e).height()/2,l=t(e).width()/2;if(r-=h-this.$jconfirmBox.outerHeight()/2,a-=l-this.$jconfirmBox.outerWidth()/2,Math.abs(r)>h||Math.abs(a)>l)return!1;this.$jconfirmBoxContainer.css("transform","translate("+a+"px, "+r+"px)")},_open:function(){var t=this;"function"==typeof t.onOpenBefore&&t.onOpenBefore(),this.$body.removeClass(this.animationParsed),this.$jconfirmBg.removeClass("jconfirm-bg-h"),this.$body.focus(),t.$jconfirmBoxContainer.css("transform","translate(0px, 0px)"),setTimeout(function(){t.$body.css(t._getCSS(t.animationSpeed,1)),t.$body.css({"transition-property":t.$body.css("transition-property")+", margin"}),t.$jconfirmBoxContainer.addClass("jconfirm-no-transition"),t._modalReady.resolve(),"function"==typeof t.onOpen&&t.onOpen(),t.$el.addClass(t.loadedClass)},this.animationSpeed)},loadedClass:"jconfirm-open",isClosed:function(){return!this.$el||""===this.$el.css("display")},isOpen:function(){return!this.isClosed()},toggle:function(){this.isOpen()?this.close():this.open()}},jconfirm.instances=[],jconfirm.lastFocused=!1,jconfirm.pluginDefaults={template:'<div class="jconfirm"><div class="jconfirm-bg jconfirm-bg-h"></div><div class="jconfirm-scrollpane"><div class="jconfirm-row"><div class="jconfirm-cell"><div class="jconfirm-holder"><div class="jc-bs3-container"><div class="jc-bs3-row"><div class="jconfirm-box-container jconfirm-animated"><div class="jconfirm-box" role="dialog" aria-labelledby="labelled" tabindex="-1"><div class="jconfirm-closeIcon">&times;</div><div class="jconfirm-title-c"><span class="jconfirm-icon-c"></span><span class="jconfirm-title"></span></div><div class="jconfirm-content-pane"><div class="jconfirm-content"></div></div><div class="jconfirm-buttons"></div><div class="jconfirm-clear"></div></div></div></div></div></div></div></div></div></div>',title:"Hello",titleClass:"",type:"default",typeAnimated:!0,draggable:!0,dragWindowGap:15,dragWindowBorder:!0,animateFromElement:!0,alignMiddle:!0,smoothContent:!0,content:"Are you sure to continue?",buttons:{},defaultButtons:{ok:{action:function(){}},close:{action:function(){}}},contentLoaded:function(){},icon:"",lazyOpen:!1,bgOpacity:null,theme:"light",animation:"scale",closeAnimation:"scale",animationSpeed:400,animationBounce:1,escapeKey:!0,rtl:!1,container:"body",containerFluid:!1,backgroundDismiss:!1,backgroundDismissAnimation:"shake",autoClose:!1,closeIcon:null,closeIconClass:!1,watchInterval:100,columnClass:"col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1",boxWidth:"50%",scrollToPreviousElement:!0,scrollToPreviousElementAnimate:!0,useBootstrap:!0,offsetTop:40,offsetBottom:40,bootstrapClasses:{container:"container",containerFluid:"container-fluid",row:"row"},onContentReady:function(){},onOpenBefore:function(){},onOpen:function(){},onClose:function(){},onDestroy:function(){},onAction:function(){}};var i=!1;t(e).on("keydown",function(o){if(!i){var n=!1;t(o.target).closest(".jconfirm-box").length&&(n=!0),n&&t(e).trigger("jcKeyDown"),i=!0}}),t(e).on("keyup",function(){i=!1}),jconfirm.lastClicked=!1,t(document).on("mousedown","button, a",function(){jconfirm.lastClicked=t(this)})}(jQuery,window),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ProgressBar=t()}(function(){return function t(e,i,o){function n(r,a){if(!i[r]){if(!e[r]){var h="function"==typeof require&&require;if(!a&&h)return h(r,!0);if(s)return s(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var p=i[r]={exports:{}};e[r][0].call(p.exports,function(t){return n(e[r][1][t]||t)},p,p.exports,t,e,i,o)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)n(o[r]);return n}({1:[function(t,e,i){(function(){var t=this||Function("return this")(),o=function(){"use strict";function o(){}function n(t,e){var i;for(i in t)Object.hasOwnProperty.call(t,i)&&e(i)}function s(t,e){return n(e,function(i){t[i]=e[i]}),t}function r(t,e){n(e,function(i){void 0===t[i]&&(t[i]=e[i])})}function a(t,e,i,o,n,s,r){var a,l,p,d=t<s?0:(t-s)/n;for(a in e)e.hasOwnProperty(a)&&(p="function"==typeof(l=r[a])?l:c[l],e[a]=h(i[a],o[a],p,d));return e}function h(t,e,i,o){return t+(e-t)*i(o)}function l(t,e){var i=u.prototype.filter,o=t._filterArgs;n(i,function(n){void 0!==i[n][e]&&i[n][e].apply(t,o)})}function p(t,e,i,o,n,s,r,h,p,d,u){g=e+i+o,m=Math.min(u||C(),g),v=m>=g,y=o-(g-m),t.isPlaying()&&(v?(p(r,t._attachment,y),t.stop(!0)):(t._scheduleId=d(t._timeoutHandler,_),l(t,"beforeTween"),m<e+i?a(1,n,s,r,1,1,h):a(m,n,s,r,o,e+i,h),l(t,"afterTween"),p(n,t._attachment,y)))}function d(t,e){var i={},o=typeof e;return n(t,"string"===o||"function"===o?function(t){i[t]=e}:function(t){i[t]||(i[t]=e[t]||b)}),i}function u(t,e){this._currentState=t||{},this._configured=!1,this._scheduleFunction=f,void 0!==e&&this.setConfig(e)}var c,f,g,m,v,y,b="linear",_=1e3/60,w=Date.now?Date.now:function(){return+new Date},C="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:w;return f="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame)||setTimeout,u.prototype.tween=function(t){return this._isTweening?this:(void 0===t&&this._configured||this.setConfig(t),this._timestamp=C(),this._start(this.get(),this._attachment),this.resume())},u.prototype.setConfig=function(t){t=t||{},this._configured=!0,this._attachment=t.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=t.delay||0,this._start=t.start||o,this._step=t.step||o,this._finish=t.finish||o,this._duration=t.duration||500,this._currentState=s({},t.from||this.get()),this._originalState=this.get(),this._targetState=s({},t.to||this.get());var e=this;this._timeoutHandler=function(){p(e,e._timestamp,e._delay,e._duration,e._currentState,e._originalState,e._targetState,e._easing,e._step,e._scheduleFunction)};var i=this._currentState,n=this._targetState;return r(n,i),this._easing=d(i,t.easing||b),this._filterArgs=[i,this._originalState,n,this._easing],l(this,"tweenCreated"),this},u.prototype.get=function(){return s({},this._currentState)},u.prototype.set=function(t){this._currentState=t},u.prototype.pause=function(){return this._pausedAtTime=C(),this._isPaused=!0,this},u.prototype.resume=function(){return this._isPaused&&(this._timestamp+=C()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},u.prototype.seek=function(t){t=Math.max(t,0);var e=C();return this._timestamp+t===0?this:(this._timestamp=e-t,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,p(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,e),this.pause()),this)},u.prototype.stop=function(e){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=o,(t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.mozCancelRequestAnimationFrame||t.clearTimeout)(this._scheduleId),e&&(l(this,"beforeTween"),a(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),l(this,"afterTween"),l(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},u.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},u.prototype.setScheduleFunction=function(t){this._scheduleFunction=t},u.prototype.dispose=function(){var t;for(t in this)this.hasOwnProperty(t)&&delete this[t]},u.prototype.filter={},u.prototype.formula={linear:function(t){return t}},c=u.prototype.formula,s(u,{now:C,each:n,tweenProps:a,tweenProp:h,applyFilter:l,shallowCopy:s,defaults:r,composeEasingObject:d}),"function"==typeof SHIFTY_DEBUG_NOW&&(t.timeoutHandler=p),"object"==typeof i?e.exports=u:void 0===t.Tweenable&&(t.Tweenable=u),u}();o.shallowCopy(o.prototype.formula,{easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInQuint:function(t){return Math.pow(t,5)},easeOutQuint:function(t){return Math.pow(t-1,5)+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},swingFromTo:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},swingFrom:function(t){var e=1.70158;return t*t*((e+1)*t-e)},swingTo:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},bounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bouncePast:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},easeFromTo:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeFrom:function(t){return Math.pow(t,4)},easeTo:function(t){return Math.pow(t,.25)}}),function(){function t(t,e,i,o,n,s){function r(t){return((l*t+p)*t+d)*t}function a(t){return(3*l*t+2*p)*t+d}function h(t){return t>=0?t:0-t}var l=0,p=0,d=0,u=0,c=0,f=0;return l=1-(d=3*e)-(p=3*(o-e)-d),u=1-(f=3*i)-(c=3*(n-i)-f),function(t,e){return function(t){return((u*t+c)*t+f)*t}(function(t,e){var i,o,n,s,l,p;for(n=t,p=0;p<8;p++){if(h(s=r(n)-t)<e)return n;if(h(l=a(n))<1e-6)break;n-=s/l}if((n=t)<(i=0))return i;if(n>(o=1))return o;for(;i<o;){if(h((s=r(n))-t)<e)return n;t>s?i=n:o=n,n=.5*(o-i)+i}return n}(t,e))}(t,1/(200*s))}function e(e,i,o,n){return function(s){return t(s,e,i,o,n,1)}}o.setBezierFunction=function(t,i,n,s,r){var a=e(i,n,s,r);return a.displayName=t,a.x1=i,a.y1=n,a.x2=s,a.y2=r,o.prototype.formula[t]=a},o.unsetBezierFunction=function(t){delete o.prototype.formula[t]}}(),function(){var t=new o;t._filterArgs=[],o.interpolate=function(e,i,n,s,r){var a=o.shallowCopy({},e),h=r||0,l=o.composeEasingObject(e,s||"linear");t.set({});var p=t._filterArgs;p.length=0,p[0]=a,p[1]=e,p[2]=i,p[3]=l,o.applyFilter(t,"tweenCreated"),o.applyFilter(t,"beforeTween");var d=function(t,e,i,n,s,r){return o.tweenProps(n,e,t,i,1,r,s)}(e,a,i,n,l,h);return o.applyFilter(t,"afterTween"),d}}(),function(t){function e(e){t.each(e,function(t){var o=e[t];"string"==typeof o&&o.match(v)&&(e[t]=function(t){return n(v,t,i)}(o))})}function i(t){var e=function(t){return 3===(t=t.replace(/#/,"")).length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),b[0]=o(t.substr(0,2)),b[1]=o(t.substr(2,2)),b[2]=o(t.substr(4,2)),b}(t);return"rgb("+e[0]+","+e[1]+","+e[2]+")"}function o(t){return parseInt(t,16)}function n(t,e,i){var o=e.match(t),n=e.replace(t,y);if(o)for(var s,r=o.length,a=0;a<r;a++)s=o.shift(),n=n.replace(y,i(s));return n}function s(t){for(var e=t.match(f),i=e.length,o=t.match(m)[0],n=0;n<i;n++)o+=parseInt(e[n],10)+",";return o.slice(0,-1)+")"}function r(e){var i={};return t.each(e,function(t){var o=e[t];if("string"==typeof o){var n=l(o);i[t]={formatString:function(t){var e=t.match(c);return e?(1===e.length||t.charAt(0).match(u))&&e.unshift(""):e=["",""],e.join(y)}(o),chunkNames:function(t,e){var i,o=[],n=t.length;for(i=0;i<n;i++)o.push("_"+e+"_"+i);return o}(n,t)}}}),i}function a(e,i){t.each(i,function(t){for(var o=l(e[t]),n=o.length,s=0;s<n;s++)e[i[t].chunkNames[s]]=+o[s];delete e[t]})}function h(e,i){t.each(i,function(t){var o=e[t],r=function(t,e){_.length=0;for(var i=e.length,o=0;o<i;o++)_.push(t[e[o]]);return _}(function(t,e){for(var i,o={},n=e.length,s=0;s<n;s++)i=e[s],o[i]=t[i],delete t[i];return o}(e,i[t].chunkNames),i[t].chunkNames);o=function(t,e){for(var i=t,o=e.length,n=0;n<o;n++)i=i.replace(y,+e[n].toFixed(4));return i}(i[t].formatString,r),e[t]=function(t){return n(g,t,s)}(o)})}function l(t){return t.match(f)}function p(e,i){t.each(i,function(t){var o,n=i[t].chunkNames,s=n.length,r=e[t];if("string"==typeof r){var a=r.split(" "),h=a[a.length-1];for(o=0;o<s;o++)e[n[o]]=a[o]||h}else for(o=0;o<s;o++)e[n[o]]=r;delete e[t]})}function d(e,i){t.each(i,function(t){var o=i[t].chunkNames,n=o.length,s=e[o[0]];if("string"==typeof s){for(var r="",a=0;a<n;a++)r+=" "+e[o[a]],delete e[o[a]];e[t]=r.substr(1)}else e[t]=s})}var u=/(\d|\-|\.)/,c=/([^\-0-9\.]+)/g,f=/[0-9.\-]+/g,g=new RegExp("rgb\\("+f.source+/,\s*/.source+f.source+/,\s*/.source+f.source+"\\)","g"),m=/^.*\(/,v=/#([0-9]|[a-f]){3,6}/gi,y="VAL",b=[],_=[];t.prototype.filter.token={tweenCreated:function(t,i,o,n){e(t),e(i),e(o),this._tokenData=r(t)},beforeTween:function(t,e,i,o){p(o,this._tokenData),a(t,this._tokenData),a(e,this._tokenData),a(i,this._tokenData)},afterTween:function(t,e,i,o){h(t,this._tokenData),h(e,this._tokenData),h(i,this._tokenData),d(o,this._tokenData)}}}(o)}).call(null)},{}],2:[function(t,e,i){var o=t("./shape"),n=t("./utils"),s=function(t,e){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,o.apply(this,arguments)};(s.prototype=new o).constructor=s,s.prototype._pathString=function(t){var e=t.strokeWidth;t.trailWidth&&t.trailWidth>t.strokeWidth&&(e=t.trailWidth);var i=50-e/2;return n.render(this._pathTemplate,{radius:i,"2radius":2*i})},s.prototype._trailString=function(t){return this._pathString(t)},e.exports=s},{"./shape":7,"./utils":9}],3:[function(t,e,i){var o=t("./shape"),n=t("./utils"),s=function(t,e){this._pathTemplate="M 0,{center} L 100,{center}",o.apply(this,arguments)};(s.prototype=new o).constructor=s,s.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 "+e.strokeWidth),t.setAttribute("preserveAspectRatio","none")},s.prototype._pathString=function(t){return n.render(this._pathTemplate,{center:t.strokeWidth/2})},s.prototype._trailString=function(t){return this._pathString(t)},e.exports=s},{"./shape":7,"./utils":9}],4:[function(t,e,i){e.exports={Line:t("./line"),Circle:t("./circle"),SemiCircle:t("./semicircle"),Square:t("./square"),Path:t("./path"),Shape:t("./shape"),utils:t("./utils")}},{"./circle":2,"./line":3,"./path":5,"./semicircle":6,"./shape":7,"./square":8,"./utils":9}],5:[function(t,e,i){var o=t("shifty"),n=t("./utils"),s={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},r=function t(e,i){if(!(this instanceof t))throw new Error("Constructor was called without new keyword");var o;i=n.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},i),o=n.isString(e)?document.querySelector(e):e,this.path=o,this._opts=i,this._tweenable=null;var s=this.path.getTotalLength();this.path.style.strokeDasharray=s+" "+s,this.set(0)};r.prototype.value=function(){var t=1-this._getComputedDashOffset()/this.path.getTotalLength();return parseFloat(t.toFixed(6),10)},r.prototype.set=function(t){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(t);var e=this._opts.step;if(n.isFunction(e)){var i=this._easing(this._opts.easing);e(this._calculateTo(t,i),this._opts.shape||this,this._opts.attachment)}},r.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},r.prototype.animate=function(t,e,i){e=e||{},n.isFunction(e)&&(i=e,e={});var s=n.extend({},e),r=n.extend({},this._opts);e=n.extend(r,e);var a=this._easing(e.easing),h=this._resolveFromAndTo(t,a,s);this.stop(),this.path.getBoundingClientRect();var l=this._getComputedDashOffset(),p=this._progressToOffset(t),d=this;this._tweenable=new o,this._tweenable.tween({from:n.extend({offset:l},h.from),to:n.extend({offset:p},h.to),duration:e.duration,easing:a,step:function(t){d.path.style.strokeDashoffset=t.offset;var i=e.shape||d;e.step(t,i,e.attachment)},finish:function(t){n.isFunction(i)&&i()}})},r.prototype._getComputedDashOffset=function(){var t=window.getComputedStyle(this.path,null);return parseFloat(t.getPropertyValue("stroke-dashoffset"),10)},r.prototype._progressToOffset=function(t){var e=this.path.getTotalLength();return e-t*e},r.prototype._resolveFromAndTo=function(t,e,i){return i.from&&i.to?{from:i.from,to:i.to}:{from:this._calculateFrom(e),to:this._calculateTo(t,e)}},r.prototype._calculateFrom=function(t){return o.interpolate(this._opts.from,this._opts.to,this.value(),t)},r.prototype._calculateTo=function(t,e){return o.interpolate(this._opts.from,this._opts.to,t,e)},r.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},r.prototype._easing=function(t){return s.hasOwnProperty(t)?s[t]:t},e.exports=r},{"./utils":9,shifty:1}],6:[function(t,e,i){var o=t("./shape"),n=t("./circle"),s=t("./utils"),r=function(t,e){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,o.apply(this,arguments)};(r.prototype=new o).constructor=r,r.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 50")},r.prototype._initializeTextContainer=function(t,e,i){t.text.style&&(i.style.top="auto",i.style.bottom="0",t.text.alignToBottom?s.setStyle(i,"transform","translate(-50%, 0)"):s.setStyle(i,"transform","translate(-50%, 50%)"))},r.prototype._pathString=n.prototype._pathString,r.prototype._trailString=n.prototype._trailString,e.exports=r},{"./circle":2,"./shape":7,"./utils":9}],7:[function(t,e,i){var o=t("./path"),n=t("./utils"),s="Object is destroyed",r=function t(e,i){if(!(this instanceof t))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=n.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},i,!0),n.isObject(i)&&void 0!==i.svgStyle&&(this._opts.svgStyle=i.svgStyle),n.isObject(i)&&n.isObject(i.text)&&void 0!==i.text.style&&(this._opts.text.style=i.text.style);var s,r=this._createSvgView(this._opts);if(!(s=n.isString(e)?document.querySelector(e):e))throw new Error("Container does not exist: "+e);this._container=s,this._container.appendChild(r.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&n.setStyles(r.svg,this._opts.svgStyle),this.svg=r.svg,this.path=r.path,this.trail=r.trail,this.text=null;var a=n.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new o(r.path,a),n.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};r.prototype.animate=function(t,e,i){if(null===this._progressPath)throw new Error(s);this._progressPath.animate(t,e,i)},r.prototype.stop=function(){if(null===this._progressPath)throw new Error(s);void 0!==this._progressPath&&this._progressPath.stop()},r.prototype.destroy=function(){if(null===this._progressPath)throw new Error(s);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},r.prototype.set=function(t){if(null===this._progressPath)throw new Error(s);this._progressPath.set(t)},r.prototype.value=function(){if(null===this._progressPath)throw new Error(s);return void 0===this._progressPath?0:this._progressPath.value()},r.prototype.setText=function(t){if(null===this._progressPath)throw new Error(s);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),n.isObject(t)?(n.removeChildren(this.text),this.text.appendChild(t)):this.text.innerHTML=t},r.prototype._createSvgView=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(e,t);var i=null;(t.trailColor||t.trailWidth)&&(i=this._createTrail(t),e.appendChild(i));var o=this._createPath(t);return e.appendChild(o),{svg:e,path:o,trail:i}},r.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 100")},r.prototype._createPath=function(t){var e=this._pathString(t);return this._createPathElement(e,t)},r.prototype._createTrail=function(t){var e=this._trailString(t),i=n.extend({},t);return i.trailColor||(i.trailColor="#eee"),i.trailWidth||(i.trailWidth=i.strokeWidth),i.color=i.trailColor,i.strokeWidth=i.trailWidth,i.fill=null,this._createPathElement(e,i)},r.prototype._createPathElement=function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",t),i.setAttribute("stroke",e.color),i.setAttribute("stroke-width",e.strokeWidth),e.fill?i.setAttribute("fill",e.fill):i.setAttribute("fill-opacity","0"),i},r.prototype._createTextContainer=function(t,e){var i=document.createElement("div");i.className=t.text.className;var o=t.text.style;return o&&(t.text.autoStyleContainer&&(e.style.position="relative"),n.setStyles(i,o),o.color||(i.style.color=t.color)),this._initializeTextContainer(t,e,i),i},r.prototype._initializeTextContainer=function(t,e,i){},r.prototype._pathString=function(t){throw new Error("Override this function for each progress bar")},r.prototype._trailString=function(t){throw new Error("Override this function for each progress bar")},r.prototype._warnContainerAspectRatio=function(t){if(this.containerAspectRatio){var e=window.getComputedStyle(t,null),i=parseFloat(e.getPropertyValue("width"),10),o=parseFloat(e.getPropertyValue("height"),10);n.floatEquals(this.containerAspectRatio,i/o)||(console.warn("Incorrect aspect ratio of container","#"+t.id,"detected:",e.getPropertyValue("width")+"(width)","/",e.getPropertyValue("height")+"(height)","=",i/o),console.warn("Aspect ratio of should be",this.containerAspectRatio))}},e.exports=r},{"./path":5,"./utils":9}],8:[function(t,e,i){var o=t("./shape"),n=t("./utils"),s=function(t,e){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",o.apply(this,arguments)};(s.prototype=new o).constructor=s,s.prototype._pathString=function(t){var e=100-t.strokeWidth/2;return n.render(this._pathTemplate,{width:e,strokeWidth:t.strokeWidth,halfOfStrokeWidth:t.strokeWidth/2})},s.prototype._trailString=function(t){var e=100-t.strokeWidth/2;return n.render(this._trailTemplate,{width:e,strokeWidth:t.strokeWidth,halfOfStrokeWidth:t.strokeWidth/2,startMargin:t.strokeWidth/2-t.trailWidth/2})},e.exports=s},{"./shape":7,"./utils":9}],9:[function(t,e,i){function o(t,e,i){for(var o=t.style,s=0;s<a.length;++s)o[a[s]+n(e)]=i;o[e]=i}function n(t){return t.charAt(0).toUpperCase()+t.slice(1)}function s(t){return!function(t){return"[object Array]"===Object.prototype.toString.call(t)}(t)&&"object"==typeof t&&!!t}function r(t,e){for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)}var a="Webkit Moz O ms".split(" "),h=.001;e.exports={extend:function t(e,i,o){for(var n in e=e||{},o=o||!1,i=i||{})if(i.hasOwnProperty(n)){var r=e[n],a=i[n];o&&s(r)&&s(a)?e[n]=t(r,a,o):e[n]=a}return e},render:function(t,e){var i=t;for(var o in e)if(e.hasOwnProperty(o)){var n=e[o],s=new RegExp("\\{"+o+"\\}","g");i=i.replace(s,n)}return i},setStyle:o,setStyles:function(t,e){r(e,function(e,i){null!=e&&(s(e)&&!0===e.prefix?o(t,i,e.value):t.style[i]=e)})},capitalize:n,isString:function(t){return"string"==typeof t||t instanceof String},isFunction:function(t){return"function"==typeof t},isObject:s,forEachObject:r,floatEquals:function(t,e){return Math.abs(t-e)<h},removeChildren:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}}},{}]},{},[4])(4)}),function(t){var e,i,o=t(window),n={},s=[],r=[],a=null,h=[],l=null,p=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),d={_init:function(e){var i=t(e),o=i.data("popupoptions");r[e.id]=!1,s[e.id]=0,i.data("popup-initialized")||(i.attr("data-popup-initialized","true"),d._initonce(e)),o.autoopen&&setTimeout(function(){d.show(e,0)},0)},_initonce:function(i){var o,n,s,r,h=t(i),u=t("body"),c=h.data("popupoptions");(a=parseInt(u.css("margin-right"),10),l=void 0!==document.body.style.webkitTransition||void 0!==document.body.style.MozTransition||void 0!==document.body.style.msTransition||void 0!==document.body.style.OTransition||void 0!==document.body.style.transition,"tooltip"==c.type&&(c.background=!1,c.scrolllock=!1),c.backgroundactive&&(c.background=!1,c.blur=!1,c.scrolllock=!1),c.scrolllock)&&(void 0===e&&(r=(s=t('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body")).children(),e=r.innerWidth()-r.height(99).innerWidth(),s.remove()));if(h.attr("id")||h.attr("id","j-popup-"+parseInt(1e8*Math.random(),10)),h.addClass("popup_content"),c.background&&!t("#"+i.id+"_background").length){u.append('<div id="'+i.id+'_background" class="popup_background"></div>');var f=t("#"+i.id+"_background");f.css({opacity:0,visibility:"hidden",backgroundColor:c.color,position:"fixed",top:0,right:0,bottom:0,left:0}),c.setzindex&&!c.autozindex&&f.css("z-index","100000"),c.transition&&f.css("transition",c.transition)}u.append(i),h.wrap('<div id="'+i.id+'_wrapper" class="popup_wrapper" />'),(o=t("#"+i.id+"_wrapper")).css({opacity:0,visibility:"hidden",position:"absolute"}),p&&o.css("cursor","pointer"),"overlay"==c.type&&o.css("overflow","auto"),h.css({opacity:0,visibility:"hidden",display:"inline-block"}),c.setzindex&&!c.autozindex&&o.css("z-index","100001"),c.outline||h.css("outline","none"),c.transition&&(h.css("transition",c.transition),o.css("transition",c.transition)),h.attr("aria-hidden",!0),"overlay"==c.type&&(h.css({textAlign:"left",position:"relative",verticalAlign:"middle"}),n={position:"fixed",width:"100%",height:"100%",top:0,left:0,textAlign:"center"},c.backgroundactive&&(n.position="absolute",n.height="0",n.overflow="visible"),o.css(n),o.append('<div class="popup_align" />'),t(".popup_align").css({display:"inline-block",verticalAlign:"middle",height:"100%"})),h.attr("role","dialog");var g=c.openelement?c.openelement:"."+i.id+"_open";t(g).each(function(e,i){t(i).attr("data-popup-ordinal",e),i.id||t(i).attr("id","open_"+parseInt(1e8*Math.random(),10))}),h.attr("aria-labelledby")||h.attr("aria-label")||h.attr("aria-labelledby",t(g).attr("id")),"hover"==c.action?(c.keepfocus=!1,t(g).on("mouseenter",function(e){d.show(i,t(this).data("popup-ordinal"))}),t(g).on("mouseleave",function(t){d.hide(i)})):t(document).on("click",g,function(e){e.preventDefault();var o=t(this).data("popup-ordinal");setTimeout(function(){d.show(i,o)},0)}),c.closebutton&&d.addclosebutton(i),c.detach?h.hide().detach():o.hide()},show:function(n,p){var c=t(n);if(!c.data("popup-visible")){c.data("popup-initialized")||d._init(n),c.attr("data-popup-initialized","true");var f=t("body"),g=c.data("popupoptions"),m=t("#"+n.id+"_wrapper"),v=t("#"+n.id+"_background");if(u(n,p,g.beforeopen),r[n.id]=p,setTimeout(function(){h.push(n.id)},0),g.autozindex){for(var y=document.getElementsByTagName("*"),b=y.length,_=0,w=0;w<b;w++){var C=t(y[w]).css("z-index");"auto"!==C&&_<(C=parseInt(C,10))&&(_=C)}s[n.id]=_,g.background&&s[n.id]>0&&t("#"+n.id+"_background").css({zIndex:s[n.id]+1}),s[n.id]>0&&m.css({zIndex:s[n.id]+2})}g.detach?(m.prepend(n),c.show()):m.show(),i=setTimeout(function(){m.css({visibility:"visible",opacity:1}),t("html").addClass("popup_visible").addClass("popup_visible_"+n.id),m.addClass("popup_wrapper_visible")},20),g.scrolllock&&(f.css("overflow","hidden"),f.height()>o.height()&&f.css("margin-right",a+e)),g.backgroundactive&&c.css({top:(o.height()-(c.get(0).offsetHeight+parseInt(c.css("margin-top"),10)+parseInt(c.css("margin-bottom"),10)))/2+"px"}),c.css({visibility:"visible",opacity:1}),g.background&&(v.css({visibility:"visible",opacity:g.opacity}),setTimeout(function(){v.css({opacity:g.opacity})},0)),c.data("popup-visible",!0),d.reposition(n,p),c.data("focusedelementbeforepopup",document.activeElement),g.keepfocus&&(c.attr("tabindex",-1),setTimeout(function(){"closebutton"===g.focuselement?t("#"+n.id+" ."+n.id+"_close:first").focus():g.focuselement?t(g.focuselement).focus():c.focus()},g.focusdelay)),t(g.pagecontainer).attr("aria-hidden",!0),c.attr("aria-hidden",!1),u(n,p,g.onopen),l?m.one("transitionend",function(){u(n,p,g.opentransitionend)}):u(n,p,g.opentransitionend),"tooltip"==g.type&&t(window).on("resize."+n.id,function(){d.reposition(n,p)})}},hide:function(e,o){var n=t.inArray(e.id,h);if(-1!==n){i&&clearTimeout(i);var s=t("body"),p=t(e),d=p.data("popupoptions"),c=t("#"+e.id+"_wrapper"),f=t("#"+e.id+"_background");p.data("popup-visible",!1),1===h.length?t("html").removeClass("popup_visible").removeClass("popup_visible_"+e.id):t("html").hasClass("popup_visible_"+e.id)&&t("html").removeClass("popup_visible_"+e.id),h.splice(n,1),c.hasClass("popup_wrapper_visible")&&c.removeClass("popup_wrapper_visible"),d.keepfocus&&!o&&setTimeout(function(){t(p.data("focusedelementbeforepopup")).is(":visible")&&p.data("focusedelementbeforepopup").focus()},0),c.css({visibility:"hidden",opacity:0}),p.css({visibility:"hidden",opacity:0}),d.background&&f.css({visibility:"hidden",opacity:0}),t(d.pagecontainer).attr("aria-hidden",!1),p.attr("aria-hidden",!0),u(e,r[e.id],d.onclose),l&&"0s"!==p.css("transition-duration")?p.one("transitionend",function(t){p.data("popup-visible")||(d.detach?p.hide().detach():c.hide()),d.scrolllock&&setTimeout(function(){s.css({overflow:"visible","margin-right":a})},10),u(e,r[e.id],d.closetransitionend)}):(d.detach?p.hide().detach():c.hide(),d.scrolllock&&setTimeout(function(){s.css({overflow:"visible","margin-right":a})},10),u(e,r[e.id],d.closetransitionend)),"tooltip"==d.type&&t(window).off("resize."+e.id)}},toggle:function(e,i){t(e).data("popup-visible")?d.hide(e):setTimeout(function(){d.show(e,i)},0)},reposition:function(e,i){var n=t(e),s=n.data("popupoptions"),r=t("#"+e.id+"_wrapper");if(t("#"+e.id+"_background"),i=i||0,"tooltip"==s.type){r.css({position:"absolute"});var a,h=(a=s.tooltipanchor?t(s.tooltipanchor):s.openelement?t(s.openelement).filter('[data-popup-ordinal="'+i+'"]'):t("."+e.id+'_open[data-popup-ordinal="'+i+'"]')).offset();"right"==s.horizontal?r.css("left",h.left+a.outerWidth()+s.offsetleft):"leftedge"==s.horizontal?r.css("left",h.left+a.outerWidth()-a.outerWidth()+s.offsetleft):"left"==s.horizontal?r.css("right",o.width()-h.left-s.offsetleft):"rightedge"==s.horizontal?r.css("right",o.width()-h.left-a.outerWidth()-s.offsetleft):r.css("left",h.left+a.outerWidth()/2-n.outerWidth()/2-parseFloat(n.css("marginLeft"))+s.offsetleft),"bottom"==s.vertical?r.css("top",h.top+a.outerHeight()+s.offsettop):"bottomedge"==s.vertical?r.css("top",h.top+a.outerHeight()-n.outerHeight()+s.offsettop):"top"==s.vertical?r.css("bottom",o.height()-h.top-s.offsettop):"topedge"==s.vertical?r.css("bottom",o.height()-h.top-n.outerHeight()-s.offsettop):r.css("top",h.top+a.outerHeight()/2-n.outerHeight()/2-parseFloat(n.css("marginTop"))+s.offsettop)}else"overlay"==s.type&&(s.horizontal?r.css("text-align",s.horizontal):r.css("text-align","center"),s.vertical?n.css("vertical-align",s.vertical):n.css("vertical-align","middle"))},addclosebutton:function(e){var i;i=t(e).data("popupoptions").closebuttonmarkup?t(n.closebuttonmarkup).addClass(e.id+"_close"):'<button class="popup_close '+e.id+'_close" title="Close" aria-label="Close"><span aria-hidden="true">×</span></button>',t(e).data("popup-initialized")&&t(e).append(i)}},u=function(e,i,o){var n,s,r=t(e).data("popupoptions");void 0!==r&&(n=r.openelement?r.openelement:"."+e.id+"_open",s=t(n+'[data-popup-ordinal="'+i+'"]'),"function"==typeof o&&o.call(t(e),e,s))};t(document).on("keydown",function(e){if(h.length){var i=h[h.length-1],o=document.getElementById(i);t(o).data("popupoptions").escape&&27==e.keyCode&&d.hide(o)}}),t(document).on("click",function(e){if(h.length){var i=h[h.length-1],o=document.getElementById(i),n=t(o).data("popupoptions").closeelement?t(o).data("popupoptions").closeelement:"."+o.id+"_close";t(e.target).closest(n).length&&(e.preventDefault(),d.hide(o)),t(o).data("popupoptions")&&t(o).data("popupoptions").blur&&!t(e.target).closest("#"+i).length&&2!==e.which&&t(e.target).is(":visible")&&(t(o).data("popupoptions").background?(d.hide(o),e.preventDefault()):d.hide(o,!0))}}),t(document).on("keydown",function(e){if(h.length&&9==e.which){var i=h[h.length-1],o=document.getElementById(i),n=t(o).find("*").filter("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible"),s=t(":focus"),r=n.length,a=n.index(s);0===r?(t(o).focus(),e.preventDefault()):e.shiftKey?0===a&&(n.get(r-1).focus(),e.preventDefault()):a==r-1&&(n.get(0).focus(),e.preventDefault())}}),t.fn.popup=function(e){return this.each(function(){var i=t(this);if("object"==typeof e){var o=t.extend({},t.fn.popup.defaults,i.data("popupoptions"),e);i.data("popupoptions",o),n=i.data("popupoptions"),d._init(this)}else"string"==typeof e?(i.data("popupoptions")||(i.data("popupoptions",t.fn.popup.defaults),n=i.data("popupoptions")),d[e].call(this,this)):(i.data("popupoptions")||(i.data("popupoptions",t.fn.popup.defaults),n=i.data("popupoptions")),d._init(this))})},t.fn.popup.defaults={type:"overlay",autoopen:!1,background:!0,backgroundactive:!1,color:"black",opacity:"0.5",horizontal:"center",vertical:"middle",offsettop:0,offsetleft:0,escape:!0,blur:!0,setzindex:!0,autozindex:!1,scrolllock:!1,closebutton:!1,closebuttonmarkup:null,keepfocus:!0,focuselement:null,focusdelay:50,outline:!1,pagecontainer:null,detach:!1,openelement:null,closeelement:null,transition:null,tooltipanchor:null,beforeopen:null,onclose:null,onopen:null,opentransitionend:null,closetransitionend:null}}(jQuery);